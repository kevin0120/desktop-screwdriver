{"version":3,"file":"js/271.ac19430b.js","mappings":"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","sources":["webpack://leetx-web/./src/utils/deepCopy.js","webpack://leetx-web/./src/components/setting/UserMng.vue","webpack://leetx-web/./src/dialogs/permission/edituser/EditUser.vue","webpack://leetx-web/./src/dialogs/permission/edituser/EditUser.vue?23ac","webpack://leetx-web/./src/dialogs/permission/edituser/edituser.js","webpack://leetx-web/./src/dialogs/permission/adduser/AddUser.vue","webpack://leetx-web/./src/dialogs/permission/adduser/AddUser.vue?9f68","webpack://leetx-web/./src/dialogs/permission/adduser/adduser.js","webpack://leetx-web/./src/components/setting/UserMng.vue?bed0"],"sourcesContent":["// 递归实现深拷贝\r\n\r\nexport function deepCopy(obj) {\r\n    let ctn\r\n    if (obj instanceof Array) {\r\n        ctn = []\r\n        for (let i = 0; i < obj.length; i++) {\r\n            ctn[i] = deepCopy(obj[i])\r\n        }\r\n    }\r\n    else if (obj instanceof Object) {\r\n        ctn = {}\r\n        for (let key of Object.keys(obj)) {\r\n            ctn[key] = deepCopy(obj[key])\r\n        }\r\n    }\r\n    else {\r\n        ctn = obj\r\n    }\r\n    return ctn\r\n}\r\n// 给工艺表单初始化数据,实际上组件传出数据的时候,外层只用到了sensorValue\r\nexport function initData(param) {\r\n    if (param instanceof Array) {\r\n        throw new Error(`${param} 不能为数组  `)\r\n    }\r\n    let val\r\n    if (param instanceof Object) {\r\n        val = {}\r\n        for (let key in param) {\r\n            val[key] = initData(param[key])\r\n        }\r\n    }\r\n    else {\r\n        val = { sensorValue: param, displayValue: 0, valid: true }\r\n    }\r\n    return val\r\n}\r\n\r\n\r\nexport function getDeepData(current, target, fn) {\r\n    if (target instanceof Object) {\r\n        for (let key in target) {\r\n            target[key] = getDeepData(current[key], target[key], fn)\r\n        }\r\n    } else {\r\n        target = current.sensorValue\r\n        fn && fn(target, current)\r\n    }\r\n    return target\r\n}\r\n\r\n// 判断两个对象的数据结构是否一样,值可以不一样\r\n// 深度遍历\r\nfunction sameStructure(obj1, obj2, isCheckValSame = false) {\r\n    let isSame = true\r\n    // 同为数组怎么样处理\r\n    if ((obj1 instanceof Array) && (obj2 instanceof Array) && (obj2.length == obj1.length)) {\r\n        for (let i = 0; i < obj1.length; i++) {\r\n            isSame = isSame && sameStructure(obj1[i], obj2[i], isCheckValSame)\r\n            if (!isSame) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n    // 同为对象但不是数组怎么样处理\r\n    else if ((obj1 instanceof Object) && (obj2 instanceof Object) && !(obj1 instanceof Array) && !(obj2 instanceof Array)) {\r\n        for (let key in obj1) {\r\n            // obj2里面有这个属性\r\n            if (key in obj2) {\r\n                isSame = isSame && sameStructure(obj1[key], obj2[key], isCheckValSame)\r\n                if (!isSame) {\r\n                    break\r\n                }\r\n            } else {\r\n                isSame = false\r\n                break\r\n            }\r\n        }\r\n    }\r\n    else if (!(obj1 instanceof Object) && !(obj2 instanceof Object)) {\r\n        // 说明数据结构一样\r\n        isSame = true\r\n        // 检测值是不是一样的\r\n        if (isCheckValSame) {\r\n            isSame = obj1 === obj2\r\n        }\r\n    }\r\n    else {\r\n        isSame = false\r\n    }\r\n    return isSame\r\n}\r\n\r\n// function sameStructureCheck(obj1, obj2) {\r\n//     for (let c in obj1) {\r\n//         if (c instanceof Object)\r\n//             return sameStructureCheck(obj1, obj2)\r\n//         else\r\n//             if (!(c in obj2))\r\n//                 return false;\r\n//     }\r\n//     return true;\r\n// }\r\n\r\n//两个数据结构是否相同\r\nexport function hasSameStructure(obj1, obj2, isCheckValSame = false) {\r\n    if (isCheckValSame) {\r\n        return JSON.stringify(obj1) === JSON.stringify(obj2)\r\n    }\r\n    return sameStructure(obj1, obj2)\r\n}\r\n\r\n\r\n\r\n//检测对象是否包含空值\r\nexport function checkObjHasNull(obj, replaceVal) {\r\n    if (obj === null || obj === undefined) return true\r\n    if (typeof (obj) != 'object') return false\r\n    for (let key in obj) {\r\n        const isNull = checkObjHasNull(obj[key])\r\n        if (isNull) {\r\n            obj[key] = replaceVal\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","<template>\r\n    <div class=\"users-mng-box\" @click=\"isClickOpearteBox\">\r\n        <div class=\"users-nav\">\r\n            <span class=\"id-span\">{{ $t('setuser.username') }}</span><span class=\"name-span\">{{\r\n                $t('setuser.roleedit')\r\n            }}</span>\r\n            <span class=\"role-span\" ref=\"editUsr\">{{ $t('setuser.liveTime') }}</span>\r\n            <span class=\"edit-span\"></span>\r\n        </div>\r\n        <div class=\"mask-box\">\r\n            <div class=\"table-box\">\r\n                <div v-for=\"(item, i) in  users\" :key=\"i\" :class=\"{ 'users-item': true, 'active-user': actvUsr == i }\"\r\n                    @click=\"operateUsr(i)\">\r\n                    <span class=\"id-span\">{{ item.user_name }}</span>\r\n                    <span class=\"name-span\">{{ item.group_name }}</span>\r\n                    <span class=\"role-span\">{{ $t('setuser.noLimit') }}</span>\r\n\r\n                    <span class=\"edit-span\" v-if=\"permision_level == 4\">\r\n                        <svg-loader @click=\"editUserDialog\" v-show=\"actvUsr == i\" class=\"edit-btn\" icon=\"ActiveEditUser\"\r\n                            size=\"2.5rem\"></svg-loader>\r\n                        <svg-loader @click=\"delUser\"\r\n                            v-show=\"actvUsr == i && this.$store.state.f_status.user != item.user_name\" class=\"trash-btn\"\r\n                            icon=\"DelDmrct\" size=\"2.5rem\"></svg-loader>\r\n                    </span>\r\n                </div>\r\n                <div :class=\"{ 'users-item': true, 'add-line': true }\">\r\n                    <span class=\"id-span\" v-if=\"permision_level == 4\">\r\n                        <LeetxButton :module=\"module\" @click=\"addUserDialog\" class=\"add-btn\" :use-icon=\"true\"\r\n                            icon=\"StaticCircleAdd\" bgcColor=\"transparent\" height=\"2.5rem\" width=\"2.5rem\" iconSize=\"2.5rem\">\r\n                        </LeetxButton>\r\n                    </span>\r\n                    <span class=\"name-span\"></span>\r\n                    <span class=\"role-span\"></span>\r\n                    <span class=\"edit-span\"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { authUserAddApi, authUserDelApi, authGroupLstApi, authUserLstApi, authUserModApi } from \"../../api/authorize/authorize.js\"\r\nimport userEdit from \"../../dialogs/permission/edituser/edituser.js\"\r\nimport userAdd from \"../../dialogs/permission/adduser/adduser.js\"\r\nimport cnfrmWin from '../../dialogs/common/confirm/cnfrm.js'\r\nimport { hasSameStructure } from '../../utils/deepCopy.js'\r\nimport logout from '../../utils/logout.js'\r\nimport { messageApi } from '../message/message.js'\r\nimport LeetxButton from \"../controls/LeetxButton.vue\"\r\nexport default {\r\n    components: {\r\n        LeetxButton\r\n    },\r\n    data() {\r\n        return {\r\n            module: \"AUTH_GROUP\",\r\n            actvUsr: -1,\r\n            users: [],\r\n            groups: [],\r\n            newUser: {\r\n                user: \"\",\r\n                pwd: \"\",\r\n                user_key: \"\",\r\n                // workNum: \"\",\r\n                group_id: \"\",\r\n            },\r\n            oldUser: {\r\n                user_id: \"\",\r\n                user_name: \"\",\r\n                user_key: \"\",\r\n                email: \"\",\r\n                group_id: \"\",\r\n                others: \"\"\r\n            },\r\n            isLogin: 0,\r\n            userNames: [],\r\n            userKeys: []\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        operateUsr(i) {\r\n            this.actvUsr = this.actvUsr == i ? -1 : i\r\n        },\r\n        editUserDialog() {\r\n            userEdit({ \"groups\": this.groups, \"olduser\": this.users[this.actvUsr], 'names': this.userNames, 'bus': this.$bus, 'keys': this.userKeys }).then(\r\n                async (result) => {\r\n                    for (let key in this.oldUser) {\r\n                        this.oldUser[key] = result.user[key].text\r\n                    }\r\n                    if (!hasSameStructure(this.oldUser, result.oldUser, true)) {\r\n                        await this.editUser(this.oldUser)\r\n                        setTimeout(() => {\r\n                            if (result.olduser.user_name == this.$store.state.f_status.user) {\r\n                                logout()\r\n                                let success = this.$t('logout.success')\r\n                                let loginAgain = this.$t('logout.loginAgain')\r\n                                messageApi.success([success, loginAgain])\r\n                            }\r\n                        }, 500)\r\n                    }\r\n\r\n                })\r\n        },\r\n        addUserDialog() {\r\n            if (this.groups.length <= 0) return\r\n            userAdd({ 'groups': this.groups, 'names': this.userNames, 'bus': this.$bus, 'keys': this.userKeys }).then((result) => {\r\n                for (let key in this.newUser) {\r\n                    this.newUser[key] = result[key].text\r\n                }\r\n                this.addUser(this.newUser)\r\n            })\r\n        },\r\n        async addUser(newUser) {\r\n            newUser = newUser ? newUser : { \"user\": `user${Math.random().toFixed(3) * 10000}`, \"pwd\": 123456, \"group_id\": 1, \"user_key\": 123456 }\r\n            await authUserAddApi(newUser).then((result) => {\r\n                if (result.status != 0) {\r\n                    messageApi.error(['添加用户失败'])\r\n                } else {\r\n                    this.getUserList()\r\n                }\r\n            }).catch(() => {\r\n                // messgaeApi.error(['添加用户失败'])\r\n            });\r\n            this.getUserList()\r\n        },\r\n        delUser() {\r\n            // let isDel = false\r\n            // let name=this.users[this.actvUsr].user_name\r\n            let user_id = this.users[this.actvUsr].user_id\r\n            let title = this.$t('setuser.deluser')\r\n            let confirmText = this.$t('setuser.yes')\r\n            let cancelText = this.$t('setuser.no')\r\n            let msg = this.$t('setuser.isDelGroup')\r\n            cnfrmWin({ title, confirmText, cancelText, msg }).then(() => {\r\n\r\n                authUserDelApi(user_id).then((result) => {\r\n                    if (result.status != 0) {\r\n                        messageApi.error(['删除用户失败'])\r\n                    }\r\n                }).catch(() => {\r\n                    // messgaeApi.error(['删除用户失败'])        \r\n                });\r\n                this.getUserList()\r\n                this.restActiveUser()\r\n            })\r\n\r\n        },\r\n        getGroupList() {\r\n            authGroupLstApi().then((result) => {\r\n                if (result.status == 0) {\r\n                    this.groups = result.data\r\n                    this.initUserNames()\r\n                } else {\r\n                    this.groups = []\r\n                }\r\n            })\r\n        },\r\n        getUserList() {\r\n            authUserLstApi().then((result) => {\r\n                if (result.status == 0) {\r\n                    this.users = result.data\r\n                    this.initUserNames()\r\n                } else {\r\n                    this.users = []\r\n                }\r\n            })\r\n        },\r\n        async editUser(user) {\r\n            await authUserModApi(user)\r\n            this.getUserList()\r\n        },\r\n        restActiveUser() {\r\n            this.actvUsr = -1\r\n        },\r\n        resetData() {\r\n            this.actvUsr = -1\r\n            this.users = []\r\n            this.groups = []\r\n        },\r\n        initUserNames() {\r\n            this.userNames = []\r\n            this.userKeys = []\r\n            for (let user of this.users) {\r\n                this.userNames.push(user.user_name)\r\n                this.userKeys.push(user.user_key)\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        if (this.permision_level >= 1) {\r\n            this.getUserList()\r\n            this.getGroupList()\r\n        }\r\n    },\r\n    computed: {\r\n        permision_level() {\r\n            if (this.module in this.$store.state.f_status.permissions)\r\n                return this.$store.state.f_status.permissions[this.module]\r\n            else\r\n                return 0\r\n        },\r\n    },\r\n    // watch: {\r\n    //     enabled: {\r\n    //         immediate: true,\r\n    //         // deep:true,\r\n    //         handler() {\r\n    //             if (this.isLogin != this.enabled) {\r\n    //                 this.isLogin = this.enabled\r\n    //                 if (this.enabled) {\r\n    //                     this.getUserList()\r\n    //                     this.getGroupList()\r\n    //                 } else {\r\n    //                     this.resetData()\r\n    //                 }\r\n    //             }\r\n\r\n    //         }\r\n    //     }\r\n    //},\r\n}\r\n</script>\r\n<style scoped>\r\nli {\r\n    list-style: none;\r\n}\r\n\r\n.users-mng-box {\r\n    position: relative;\r\n    height: 100%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    top: 1rem;\r\n    font-size: var(--font1_5);\r\n    width: 84.5vw;\r\n    padding-bottom: 1rem;\r\n    border-top: 2px solid var(--C00);\r\n}\r\n\r\n.users-nav {\r\n    display: flex;\r\n    width: 84.5vw;\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    font-size: var(--font1_5);\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    border-bottom: 1px solid var(--C00);\r\n    color: var(--C65);\r\n\r\n}\r\n\r\n.mask-box {\r\n    position: relative;\r\n    width: 84.5vw;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    height: 60vh;\r\n    overflow: hidden;\r\n}\r\n\r\n.table-box {\r\n    position: relative;\r\n    width: calc(84.5vw + 18px);\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.users-item {\r\n    position: relative;\r\n    left: 0;\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    display: flex;\r\n    width: 84.5vw;\r\n    color: var(--C3B);\r\n    border-bottom: 1px solid var(--Cd4);\r\n    font-size: var(--font1_625);\r\n\r\n}\r\n\r\n.users-item span {\r\n    position: relative;\r\n}\r\n\r\n.users-nav .id-span,\r\n.users-item .id-span {\r\n    /* flex: 1; */\r\n    width: 30%;\r\n}\r\n\r\n.users-nav .name-span,\r\n.users-item .name-span {\r\n    /* flex: 2; */\r\n    width: 30%;\r\n}\r\n\r\n.users-nav .role-span,\r\n.users-item .role-span {\r\n    /* flex: 2; */\r\n    width: 15%;\r\n}\r\n\r\n.role-span {\r\n    white-space: nowrap;\r\n}\r\n\r\n.users-nav .edit-span,\r\n.users-item .edit-span {\r\n    /* flex: 1; */\r\n    width: 25%;\r\n}\r\n\r\n.users-item span:last-child {\r\n    cursor: pointer;\r\n}\r\n\r\n.active-user {\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n.add-btn {\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.edit-btn {\r\n    position: relative;\r\n    right: 2.5rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.trash-btn {\r\n    position: relative;\r\n    right: 1rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.add-line {\r\n\r\n    border-top: 2px solid var(--C00);\r\n    border-bottom: 0px;\r\n}\r\n</style>","<template>\r\n    <div class=\"eidtuser-box\" v-if=\"isShow\">\r\n        <div class=\"eidtuser-title-line\">\r\n            <span class=\"eidtuser-title-msg\">{{ $t('dlgedituser.editUser') }}</span>\r\n            <span class=\"edituser-box-close\" @click=\"cancel\">\r\n                <svgloader class=\"icon-close\" icon=\"Close\" size=\"1.2rem\"></svgloader>\r\n            </span>\r\n        </div>\r\n        <div class=\"eidtuser-name-line\">\r\n            <div class=\"eidtuser-name-text\">\r\n                {{ $t('dlgedituser.name') }}\r\n            </div>\r\n            <InputText :text=\"olduser.user_name\" :imprprChrctr=\"['space']\" :textValid=\"validNameType == -1\"\r\n                :validReason=\"nameReason\" class=\"eidtuser-name-input\" v-model=\"user.user_name\"></InputText>\r\n        </div>\r\n        <div class=\"eidtuser-role-line\">\r\n            <div class=\"eidtuser-role-text\">\r\n                {{ $t('dlgedituser.newRole') }}\r\n            </div>\r\n            <NewSelect class=\"eidtuser-name-input\" :width=\"18.4768\" :realVal=\"user.group_id.text\"\r\n                @valChng=\"user.group_id.text = $event\" :options=\"groupInfo\"></NewSelect>\r\n        </div>\r\n        <div class=\"eidtuser-key-line\">\r\n            <div class=\"eidtuser-key-text\">\r\n                登录码\r\n            </div>\r\n            <InputText :isShowKeyBoard=false placeholder=\"请刷卡注册\" class=\"eidtuser-key-input\"\r\n                :textValid=\"validWorkerNumType == -1\" :validReason=\"userKeyNameReason\" v-model:text=\"user.user_key.text\">\r\n            </InputText>\r\n        </div>\r\n        <br>\r\n        <div class=\"edituser-operate-line\">\r\n            <div class=\"edituser-cancel-btn\" @click=\"cancel\">\r\n                {{ $t('dlgedituser.cancel') }}\r\n            </div>\r\n            <div class=\"edituser-cnfrm-btn\" @click=\"sbmtUserInfo\" v-if=\"groups.length != 0 && allowAddUser\"\r\n                v-show=\"groups.length != 0\">\r\n                {{ $t('dlgedituser.confirm') }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport InputText from '../../../components/input/InputText.vue'\r\nimport svgloader from '../../../components/icon_font/svgloader.vue'\r\nimport NewSelect from '../../../components/select/NewSelect.vue'\r\nimport { maskApi } from '../../mask/StackMask.vue'\r\nexport default {\r\n    components: {\r\n        InputText, svgloader,\r\n        NewSelect\r\n    },\r\n    data() {\r\n        return {\r\n            user: {\r\n                user_id: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                user_name: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                email: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                group_id: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                user_key: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                others: {\r\n                    text: \"\",\r\n                    valid: false\r\n                }\r\n            },\r\n            groupInfo: {},\r\n            isShow: true,\r\n            validNameType: -1,\r\n            validWorkerNumType: -1,\r\n            maskId: 0,\r\n            inputValue: '',\r\n            lastKeyPressTime: 0,\r\n            scanDelay: 50   // 定义扫码延迟时间（毫秒）\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initStatus()\r\n        // 添加全局键盘事件监听器\r\n        // window.addEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.on('scannerInput', this.handleScannerInput);\r\n    },\r\n    beforeUnmount() {\r\n        // 在组件销毁时移除全局键盘事件监听器\r\n        // window.removeEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.off('scannerInput', this.handleScannerInput);\r\n    },\r\n    methods: {\r\n        // handleGlobalKeydown(event) {\r\n        //     // 计算两次按键之间的时间间隔\r\n        //     const currentTime = new Date().getTime();\r\n        //     const timeSinceLastKeyPress = currentTime - this.lastKeyPressTime;\r\n        //     this.lastKeyPressTime = currentTime;\r\n        //     if (event.key === 'Enter' && this.inputValue !== '') {\r\n        //         this.user.user_key.text = this.inputValue\r\n        //         console.log('完整的数据:', this.user.user_key.text);\r\n        //         this.inputValue = ''; // 清空scanValue\r\n        //         this.lastKeyPressTime = 0\r\n        //     } else {\r\n        //         if (timeSinceLastKeyPress < this.scanDelay || 0 == this.lastKeyPressTime) {\r\n        //             this.inputValue += event.key; // 拼接字符串\r\n        //             console.log('扫码枪数据:', this.user.user_key.text);\r\n        //         } else {\r\n\r\n\r\n        //             console.log('普通键盘数据:', event.key);\r\n        //         }\r\n        //         // event.preventDefault(); // 阻止键盘输入的字符显示在输入框中\r\n        //     }\r\n        // },\r\n        handleScannerInput(code) {\r\n            console.log(\"收到用于注册的code:\", code)\r\n            this.user.user_key.text = code\r\n        },\r\n        sbmtUserInfo() {\r\n            this.isShow = false\r\n            let user = this.user\r\n            let olduser = this.olduser\r\n            this.onConfirm && this.onConfirm({ user, olduser })\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        cancel() {\r\n            this.isShow = false\r\n            this.onCancel && this.onCancel()\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        initGroupInfo() {\r\n            for (let i = 0; i < this.groups.length; i++) {\r\n                this.groupInfo[this.groups[i].group_name] = this.groups[i].group_id\r\n            }\r\n        },\r\n        initStatus() {\r\n            this.maskId = maskApi.rise(15, this.cancel)\r\n        },\r\n        updateUserValidType() {\r\n            if (this.user.user_name.text == \"\") {\r\n                this.validNameType = 1\r\n            }\r\n            else if (this.olduser.user_name != this.user.user_name.text && this.names.indexOf(this.user.user_name.text) != -1) {\r\n                this.validNameType = 2\r\n            }\r\n            else if (this.user.user_name.text.length > 10) {\r\n                this.validNameType = 3\r\n            }\r\n            else {\r\n                this.validNameType = -1\r\n            }\r\n        },\r\n        updateWorkNumValidType() {\r\n            const occurrences = this.keys.reduce((count, element) => {\r\n                if (element === this.user.user_key.text) {\r\n                    count++;\r\n                }\r\n                return count;\r\n            }, 0);\r\n            if ((this.user.user_key.text != \"\" && occurrences > 1) || (this.user.user_key.text != \"\" && this.olduser.user_key != this.user.user_key.text && this.keys.indexOf(this.user.user_key.text) != -1)) {\r\n                this.validWorkerNumType = 2\r\n            } else {\r\n                this.validWorkerNumType = -1\r\n            }\r\n        },\r\n    },\r\n    props: {\r\n        groups: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        olduser: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        names: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n        keys: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        olduser: {\r\n            immediate: true,\r\n            deep: true,\r\n            handler: function () {\r\n                for (let key in this.user) {\r\n                    this.user[key].text = this.olduser[key]\r\n                }\r\n            }\r\n        },\r\n        groups: {\r\n            immediate: true,\r\n            deep: true,\r\n            handler: function () {\r\n                this.initGroupInfo()\r\n            }\r\n        },\r\n        'user.user_name': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        'user.user_key': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n        keys: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        nameReason() {\r\n            if (this.validNameType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validNameType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validNameType == 2) {\r\n                return this.$t('dlgadduser.nameReasonTwo')\r\n            }\r\n            if (this.validNameType == 3) {\r\n                return this.$t('dlgadduser.nameReasonThree')\r\n            }\r\n            return \"\"\r\n        },\r\n        userKeyNameReason() {\r\n            if (this.validWorkerNumType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validWorkerNumType == 2) {\r\n                return this.$t('dlgadduser.userKeyReason')\r\n            }\r\n            return \"\"\r\n        },\r\n        allowAddUser() {\r\n            let valid = true\r\n            valid = valid && (this.validNameType == -1)\r\n            valid = valid && (this.validWorkerNumType == -1)\r\n            return valid\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n.eidtuser-box {\r\n    width: 37.5rem;\r\n    height: 31.25rem;\r\n    background-color: var(--fff);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    z-index: 40;\r\n}\r\n\r\n.eidtuser-title-line {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 3.2688rem;\r\n    background-color: var(--Cee);\r\n    color: var(--C3B);\r\n    border-radius: 0.375rem;\r\n    ;\r\n}\r\n\r\n.eidtuser-title-msg {\r\n    position: absolute;\r\n    display: inline-block;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    top: 50%;\r\n    height: 2.4375rem;\r\n    font-size: var(--font1_75);\r\n    line-height: 2.4375rem;\r\n    letter-spacing: 0px;\r\n\r\n    color: var(--C3B);\r\n}\r\n\r\n.edituser-box-close {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 3rem;\r\n    height: 3rem;\r\n    color: var(--C65);\r\n}\r\n\r\n.icon-close {\r\n    position: absolute;\r\n    right: 1.0625rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.eidtuser-name-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 9.6875rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.eidtuser-role-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 14.125rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.eidtuser-key-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 18.5625rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n\r\n\r\n.eidtuser-name-text,\r\n.eidtuser-role-text,\r\n.eidtuser-key-text {\r\n    position: absolute;\r\n    left: 3.23rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    height: 1.5625rem;\r\n\r\n    font-size: var(--font1_625);\r\n    line-height: 1.5625rem;\r\n    color: var(--C3B);\r\n}\r\n\r\n.eidtuser-name-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4768rem !important;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.eidtuser-key-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4768rem !important;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.edituser-operate-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 3.15rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.edituser-cnfrm-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    right: 8.4375rem;\r\n    background-color: var(--C00c155);\r\n    font-size: var(--font1_625);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n\r\n}\r\n\r\n.edituser-cancel-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    left: 8.4375rem;\r\n    background-color: var(--Cee);\r\n    font-size: var(--font1_625);\r\n    color: var(--C00);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n\r\n}\r\n</style>","import { render } from \"./EditUser.vue?vue&type=template&id=d297a0ee&scoped=true\"\nimport script from \"./EditUser.vue?vue&type=script&lang=js\"\nexport * from \"./EditUser.vue?vue&type=script&lang=js\"\n\nimport \"./EditUser.vue?vue&type=style&index=0&id=d297a0ee&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d297a0ee\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport EditUser from '../../../dialogs/permission/edituser/EditUser.vue'\r\nimport langvue from \"../../../plugins/langVue\";\r\n// 导出函数可通过调用 Confirm() 函数动态创建 XtxConfirm 组件\r\n\r\nconst userEdit = (props={}) => {\r\n    if(typeof(props)!=\"object\") throw new Error(\"props must be a object\")\r\n    return new Promise((resolve, reject) => { //promise封装，ok执行resolve，no执行reject\r\n        // 创建组件实例\r\n        let app =createApp(EditUser,props).use(langvue)\r\n        app.config.globalProperties.$bus = props.bus\r\n        let dom = app.mount(document.createElement(\"div\"));\r\n        // 添加元素\r\n        document.body.appendChild(dom.$el);\r\n        // 重写组件的函数\r\n        dom.onConfirm = function (x) {\r\n            resolve(x)\r\n        }\r\n        dom.onCancel = function (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\nexport default userEdit","<template>\r\n    <div class=\"adduser-box\" v-if=\"isShow\">\r\n        <div class=\"adduser-title-line\">\r\n            <span class=\"adduser-title-msg\">{{ $t('newuser.newuser') }}</span>\r\n            <span class=\"adduser-box-close\" @click=\"cancel\">\r\n                <svgloader class=\"icon-close\" icon=\"Close\" size=\"1.2rem\"></svgloader>\r\n            </span>\r\n        </div>\r\n        <div class=\"adduser-name-line\">\r\n            <div class=\"adduser-name-text\">\r\n                {{ $t('newuser.username') }}\r\n            </div>\r\n            <InputText :imprprChrctr=\"illegalWords\" :textValid=\"validNameType == -1\" :validReason=\"nameReason\" :text=\"''\"\r\n                :placeholder=\"$t('newuser.usernamemsg')\" class=\"adduser-name-input\" v-model=\"userData.user\"></InputText>\r\n        </div>\r\n        <div class=\"adduser-pswrd-line\">\r\n            <div class=\"adduser-name-text\">\r\n                {{ $t('newuser.initialPswrd') }}\r\n            </div>\r\n            <InputText :imprprChrctr=\"['space']\" :textValid=\"validPswrdType == -1\" :validReason=\"pwdReason\"\r\n                :placeholder=\"$t('newuser.pswrdmsg')\" class=\"adduser-pswrd-input\" :type=\"pswdOrtext\" v-model=\"userData.pwd\">\r\n            </InputText>\r\n            <svgloader :icon=\"eyeType\" class=\"user-pswd-eye\" size=\"1.5rem\" v-show=\"haseye\" @click=\"showPswrd\"></svgloader>\r\n        </div>\r\n\r\n        <div class=\"adduser-worknum-line\">\r\n            <div class=\"adduser-worknum-text\">\r\n                登录码\r\n            </div>\r\n            <!-- <InputVal class=\"adduser-worknum-input\" :sensorValue=\"0\" :isInt=\"true\" :isLimit=\"false\"  @updateData=\"userData.user_key=$event\"></InputVal>-->\r\n            <InputText :isShowKeyBoard=false placeholder=\"请刷卡注册\" class=\"adduser-worknum-input\"\r\n                :textValid=\"validWorkerNumType == -1\" :validReason=\"userKeyNameReason\"\r\n                v-model:text=\"userData.user_key.text\"></InputText>\r\n        </div>\r\n        <div class=\"adduser-role-line\">\r\n            <div class=\"adduser-role-text\">\r\n                {{ $t('newuser.prmsnrole') }}\r\n            </div>\r\n            <NewSelect class=\"adduser-name-input\" :width=\"17.625\" :realVal=\"userData.group_id.text\" :options=\"getGroups()\"\r\n                @valChng=\"userData.group_id.text = $event\"></NewSelect>\r\n        </div>\r\n        <div class=\"adduser-operate-line\">\r\n            <div class=\"adduser-cancel-btn\" @click=\"cancel\">{{ $t('dlgadduser.cancel') }}</div>\r\n            <div v-if=\"groups.length != 0 && allowAddUser\" class=\"adduser-cnfrm-btn\" @click=\"sbmtUserInfo\"\r\n                v-show=\"groups.length != 0\">{{ $t('dlgadduser.sure') }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport svgloader from '../../../components/icon_font/svgloader.vue'\r\n\r\nimport InputText from '../../../components/input/InputText.vue'\r\n// import InputVal from '../../../components/input/InputVal.vue'\r\nimport NewSelect from '../../../components/select/NewSelect.vue'\r\nimport { maskApi } from '../../mask/StackMask.vue'\r\n\r\nexport default {\r\n    components: {\r\n        InputText, svgloader, NewSelect,\r\n        // InputVal\r\n    },\r\n    data() {\r\n        return {\r\n            userData: {\r\n                user: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                pwd: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                user_key: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                group_id: {\r\n                    text: this.groups[0].group_id,\r\n                    valid: true,\r\n                },\r\n            },\r\n            isShow: true,\r\n            isShowPswrd: false,\r\n            illegalWords: [',', '.', ':', ';', \"'\", '\"', '?', \"!\", \"-\", \"+\", \"/\", \"=\", '(', \")\", 'space'],\r\n            validNameType: 1,\r\n            validWorkerNumType: 1,\r\n            validPswrdType: 1,\r\n            maskId: 0,\r\n            inputValue: '',\r\n            lastKeyPressTime: 0,\r\n            scanDelay: 50   // 定义扫码延迟时间（毫秒）\r\n        }\r\n    },\r\n    methods: {\r\n        // handleGlobalKeydown(event) {\r\n        //     // 计算两次按键之间的时间间隔\r\n        //     const currentTime = new Date().getTime();\r\n        //     const timeSinceLastKeyPress = currentTime - this.lastKeyPressTime;\r\n        //     this.lastKeyPressTime = currentTime;\r\n        //     if (event.key === 'Enter' && this.inputValue !== '') {\r\n        //         this.userData.user_key.text = this.inputValue\r\n        //         console.log('完整的数据:', this.userData.user_key.text);\r\n        //         this.inputValue = ''; // 清空scanValue\r\n        //         this.lastKeyPressTime = 0\r\n        //     } else {\r\n        //         if (timeSinceLastKeyPress < this.scanDelay || 0 == this.lastKeyPressTime) {\r\n        //             this.inputValue += event.key; // 拼接字符串\r\n        //             console.log('扫码枪数据:', this.userData.user_key.text);\r\n        //         } else {\r\n\r\n\r\n        //             console.log('普通键盘数据:', event.key);\r\n        //         }\r\n        //         // event.preventDefault(); // 阻止键盘输入的字符显示在输入框中\r\n        //     }\r\n        // },\r\n        handleScannerInput(code) {\r\n            console.log(\"收到用于注册的code:\", code)\r\n            this.userData.user_key.text = code\r\n        },\r\n        showPswrd() {\r\n            this.isShowPswrd = !this.isShowPswrd\r\n        },\r\n        sbmtUserInfo() {\r\n            this.isShow = false\r\n            this.onConfirm && this.onConfirm(this.userData)\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        cancel() {\r\n            this.isShow = false\r\n            this.onCancel && this.onCancel()\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        getGroups() {\r\n            let obj = {}\r\n            for (let key in this.groups) {\r\n                obj[this.groups[key].group_name] = this.groups[key].group_id\r\n            }\r\n            return obj\r\n        },\r\n        initStatus() {\r\n            this.maskId = maskApi.rise(15, this.cancel)\r\n        },\r\n        updateWorkNumValidType() {\r\n            if (this.userData.user_key.text != \"\" && this.keys.indexOf(this.userData.user_key.text) != -1) {\r\n                this.validWorkerNumType = 2\r\n            } else {\r\n                this.validWorkerNumType = -1\r\n            }\r\n        },\r\n        updateUserValidType() {\r\n            if (this.userData.user.text == \"\") {\r\n                this.validNameType = 1\r\n            }\r\n            else if (this.names.indexOf(this.userData.user.text) != -1) {\r\n                this.validNameType = 2\r\n            }\r\n            else {\r\n                this.validNameType = -1\r\n            }\r\n        },\r\n        updatePswrdValidType() {\r\n            if (this.userData.pwd.text == \"\") {\r\n                this.validPswrdType = 1\r\n            } else {\r\n                this.validPswrdType = -1\r\n            }\r\n        },\r\n\r\n    },\r\n    props: {\r\n        groups: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        names: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n        keys: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        groups: {\r\n            deep: true,\r\n            handler: function () {\r\n                (this.groups);\r\n            }\r\n        },\r\n        'userData.user': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        'userData.pwd': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updatePswrdValidType()\r\n            }\r\n        },\r\n        'userData.user_key': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n        names: {\r\n            deep: true,\r\n            handler: function () {\r\n                // this.updateValidType()\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        keys: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n\r\n    },\r\n    computed: {\r\n        pswdOrtext() {\r\n            if (this.isShowPswrd) {\r\n                return 'text'\r\n            }\r\n            return 'password'\r\n        },\r\n        haseye() {\r\n            return this.userData.pwd.text.length > 0\r\n        },\r\n        eyeType() {\r\n            return this.isShowPswrd ? \"OpenEye\" : \"CloseEye\"\r\n        },\r\n        nameReason() {\r\n            if (this.validNameType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validNameType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validNameType == 2) {\r\n                return this.$t('dlgadduser.nameReasonTwo')\r\n            }\r\n            if (this.validNameType == 3) {\r\n                return this.$t('dlgadduser.nameReasonThree')\r\n            }\r\n            return \"\"\r\n        },\r\n        userKeyNameReason() {\r\n            if (this.validWorkerNumType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validWorkerNumType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validWorkerNumType == 2) {\r\n                return this.$t('dlgadduser.userKeyReason')\r\n            }\r\n            return \"\"\r\n        },\r\n        pwdReason() {\r\n            if (this.validPswrdType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validPswrdType == 1) {\r\n                return this.$t('dlgadduser.pwdReasonOne')\r\n            }\r\n            if (this.validPswrdType == 2) {\r\n                return this.$t('dlgadduser.pwdReasonTwo')\r\n            }\r\n            return \"\"\r\n        },\r\n        allowAddUser() {\r\n            let valid = true\r\n            valid = valid && (this.validNameType == -1)\r\n            valid = valid && (this.validPswrdType == -1)\r\n            valid = valid && (this.validWorkerNumType == -1)\r\n            return valid\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initStatus()\r\n        // 添加全局键盘事件监听器\r\n        // window.addEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.on('scannerInput', this.handleScannerInput);\r\n    },\r\n    beforeUnmount() {\r\n        // 在组件销毁时移除全局键盘事件监听器\r\n        // window.removeEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.off('scannerInput', this.handleScannerInput);\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n.adduser-box {\r\n    width: 37.5rem;\r\n    height: 31.25rem;\r\n    background-color: var(--fff);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    z-index: 40;\r\n}\r\n\r\n.adduser-title-line {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 3.2688rem;\r\n    background-color: var(--Cee);\r\n    color: var(--C3B);\r\n    border-radius: 0.375rem;\r\n    ;\r\n}\r\n\r\n.adduser-title-msg {\r\n    position: absolute;\r\n    display: inline-block;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    top: 50%;\r\n    height: 2.4375rem;\r\n    font-size: var(--font1_75);\r\n    line-height: 2.4375rem;\r\n    letter-spacing: 0px;\r\n    color: var(--C3B);\r\n}\r\n\r\n.adduser-box-close {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 3rem;\r\n    height: 3rem;\r\n    color: var(--C65);\r\n}\r\n\r\n.icon-close {\r\n    position: absolute;\r\n    right: 1.0625rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.adduser-name-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 5.8469rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-pswrd-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 10.2844rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-worknum-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 14.7219rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-role-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 19.2594rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-name-text,\r\n.adduser-role-text,\r\n.adduser-worknum-text {\r\n    position: absolute;\r\n    left: 3.23rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    height: 1.5625rem;\r\n    font-size: var(--font1_625);\r\n    line-height: 1.5625rem;\r\n    color: var(--C3B);\r\n}\r\n\r\n.adduser-name-input,\r\n.adduser-pswrd-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 17.625rem;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.adduser-worknum-input {\r\n    position: absolute;\r\n    right: 3.2106rem;\r\n\r\n}\r\n\r\n.adduser-operate-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 3.15rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-cnfrm-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    right: 8.4375rem;\r\n    background-color: var(--C00c155);\r\n    font-size: var(--font1_625);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n}\r\n\r\n.adduser-cancel-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    left: 8.4375rem;\r\n    background-color: var(--Cf1);\r\n    font-size: var(--font1_625);\r\n    color: var(--C00);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n}\r\n\r\n.user-pswd-eye {\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 82.88%;\r\n    z-index: 33;\r\n}\r\n</style>","import { render } from \"./AddUser.vue?vue&type=template&id=69b6a2b9&scoped=true\"\nimport script from \"./AddUser.vue?vue&type=script&lang=js\"\nexport * from \"./AddUser.vue?vue&type=script&lang=js\"\n\nimport \"./AddUser.vue?vue&type=style&index=0&id=69b6a2b9&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-69b6a2b9\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport AddUser from '../../../dialogs/permission/adduser/AddUser.vue'\r\nimport langvue from \"../../../plugins/langVue\";\r\n// 导出函数可通过调用 Confirm() 函数动态创建 XtxConfirm 组件\r\nconst userAdd = (props={}) => {\r\n    if(typeof(props)!=\"object\") throw new Error(\"props must be a object\")\r\n    return new Promise((resolve, reject) => { //promise封装，ok执行resolve，no执行reject\r\n        // 创建组件实例\r\n        (props);\r\n        let app =createApp(AddUser,props).use(langvue)\r\n        app.config.globalProperties.$bus = props.bus\r\n        let dom = app.mount(document.createElement(\"div\"));\r\n\r\n        // 添加元素\r\n        document.body.appendChild(dom.$el);\r\n        // 重写组件的函数\r\n        dom.onConfirm = function (x) {\r\n            resolve(x)\r\n        }\r\n        dom.onCancel = function (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\nexport default userAdd","import { render } from \"./UserMng.vue?vue&type=template&id=78451750&scoped=true\"\nimport script from \"./UserMng.vue?vue&type=script&lang=js\"\nexport * from \"./UserMng.vue?vue&type=script&lang=js\"\n\nimport \"./UserMng.vue?vue&type=style&index=0&id=78451750&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78451750\"]])\n\nexport default __exports__"],"names":["deepCopy","obj","ctn","Array","i","length","Object","key","keys","sameStructure","obj1","obj2","isCheckValSame","isSame","hasSameStructure","JSON","stringify","class","_createElementVNode","_createElementBlock","onClick","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","ref","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","$data","item","$options","_hoisted_8","user_name","_hoisted_9","group_name","_hoisted_10","_hoisted_11","_createVNode","_component_svg_loader","icon","size","this","$store","state","f_status","user","_hoisted_12","_hoisted_13","_component_LeetxButton","module","bgcColor","height","width","iconSize","_hoisted_14","_hoisted_15","_hoisted_16","_component_svgloader","_component_InputText","text","$props","imprprChrctr","textValid","validReason","_hoisted_7","_component_NewSelect","realVal","group_id","onValChng","$event","options","isShowKeyBoard","placeholder","user_key","components","InputText","svgloader","NewSelect","data","user_id","valid","email","others","groupInfo","isShow","validNameType","validWorkerNumType","maskId","inputValue","lastKeyPressTime","scanDelay","mounted","initStatus","$bus","on","handleScannerInput","beforeUnmount","off","methods","code","console","log","sbmtUserInfo","olduser","onConfirm","maskApi","cancel","onCancel","initGroupInfo","groups","updateUserValidType","names","indexOf","updateWorkNumValidType","occurrences","reduce","count","element","props","type","default","watch","immediate","deep","handler","computed","nameReason","$t","userKeyNameReason","allowAddUser","__exports__","userEdit","Error","Promise","resolve","reject","app","createApp","EditUser","use","langvue","config","globalProperties","bus","dom","mount","document","createElement","body","appendChild","$el","x","err","pwd","userData","isShowPswrd","illegalWords","validPswrdType","showPswrd","getGroups","updatePswrdValidType","pswdOrtext","haseye","eyeType","pwdReason","userAdd","AddUser","LeetxButton","actvUsr","users","newUser","oldUser","isLogin","userNames","userKeys","operateUsr","editUserDialog","then","async","result","editUser","setTimeout","logout","success","loginAgain","messageApi","addUserDialog","addUser","Math","random","toFixed","authUserAddApi","status","getUserList","catch","delUser","title","confirmText","cancelText","msg","cnfrmWin","authUserDelApi","restActiveUser","getGroupList","authGroupLstApi","initUserNames","authUserLstApi","authUserModApi","resetData","push","created","permision_level","permissions","render"],"sourceRoot":""}