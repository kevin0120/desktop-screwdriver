{"version":3,"file":"js/254.0f0641e4.js","mappings":"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","sources":["webpack://leetx-web/./src/view/DeviceManage.vue","webpack://leetx-web/./src/view/DeviceManage.vue?4ac1"],"sourcesContent":["<template>\r\n    <div class=\"controllers-box\">\r\n        <div class=\"operate-line\">\r\n            <div class=\"operate-box\" @click=\"addDevice\">\r\n                <svg-loader class=\"pfIcon\" icon=\"AddTwo\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>{{ $t('profile.add') }}</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box\" @click=\"copyDevice\">\r\n                <svg-loader class=\"pfIcon\" icon=\"CopyOne\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>复制</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box\" @click=\"scanDevice\">\r\n                <svg-loader class=\"pfIcon\" icon=\"Scan\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>扫描</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box\" @click=\"delDevice\">\r\n                <svg-loader class=\"pfIcon\" icon=\"TrashOne\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>{{ $t('profile.delete') }}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"device-manage\">\r\n            <span class=\"manage-text\">设备管理</span>\r\n            <div class=\"transverse-line\"></div>\r\n            <div class=\"vertical-line\"></div>\r\n        </div>\r\n        <div class=\"items-box\">\r\n            <div class=\"profile-item\" v-for=\"(value, i) in  controllerData \" :key=\"value.ID\" @click=\"selectFile(i)\">\r\n                <svg-loader :class=\"{ 'file-static-icon': true, 'file-active-icon': active_item == i }\"\r\n                    :icon=\"active_item == i ? 'ActiveController' : 'StaticController'\" size='10.5rem'></svg-loader>\r\n                <span :class=\"{ 'pf-static-num': true, 'pf-active-num': active_item == i }\">{{ value.deviceId }}</span>\r\n                <span :class=\"{ 'pf-static-num': true, 'pf-active-num': active_item == i }\" class=\"controller-ip\">{{\r\n                    value.ipAddress }}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"device-manage-bottom-line\">\r\n            <div class=\"rev-transverse-line\"></div>\r\n            <div class=\"rev-vertical-line\"></div>\r\n        </div>\r\n        <div class=\"cur-data\">\r\n            <div class=\"ip-line\">\r\n                <span class=\"text-line\">IP地址：</span>{{ currentDevice.ID }}\r\n                <InputText class=\"tech-input-top\" :maxLength=\"20\" v-model:text=\"currentDevice.ipAddress\">\r\n                </InputText>\r\n            </div>\r\n            <div class=\"id-data\">\r\n                <span class=\"text-line\">设备号：</span>\r\n                <InputVal class=\"tech-input-top\" :minNum=\"0\" :maxNum=\"9999\" v-model:sensorValue=\"currentDevice.deviceId\">\r\n                </InputVal>\r\n            </div>\r\n            <div class=\"controller-data\">\r\n                <span class=\"text-line\">设备名称：</span>\r\n                <InputText class=\"tech-input-top\" :maxLength=\"20\" v-model:text=\"currentDevice.controllerName\">\r\n                </InputText>\r\n            </div>\r\n            <LeetxButton class=\"setController-box\" width=\"25.3125rem\" height=\"3.75rem\" @click=\"confirm\" textColor=\"#fff\"\r\n                text=\"设备编辑\" fontFamily=\"'SourceHanSansCN-Bold'\" fontSize=\"2.25rem\" bgcColor=\"#00c155\"></LeetxButton>\r\n        </div>\r\n        <div v-show=\"scanList\" class=\"scan-box\">\r\n            <div class=\"scanList-head-line\">\r\n                <span>IP地址</span>\r\n                <span>设备号</span>\r\n                <span>设备名称</span>\r\n                <span></span>\r\n            </div>\r\n            <div v-for=\"(item, key) of getScanDeviceResults\" :key=\"key\" :class=\"{ 'active-line': item == actDevice }\"\r\n                class=\"scanList-data-line\">\r\n                <span>{{ item.ipAddress }}</span>\r\n                <span>{{ item.deviceId }}</span>\r\n                <span>{{ item.controllerName }}</span>\r\n                <span>\r\n                    <svg-loader size=\"2.75rem\" class=\"pfIcon\" icon=\"Add\" @click=\"addCurDevice(key)\"></svg-loader>\r\n                    <!-- v-show=\"scanList && item == actDevice\" -->\r\n                </span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport InputText from \"@/components/input/InputText.vue\";\r\nimport { messageApi } from \"@/components/message/message\";\r\nimport { maskApi } from '@/dialogs/mask/StackMask.vue'\r\nexport default {\r\n    components: {\r\n        InputText,\r\n    },\r\n    data() {\r\n        return {\r\n            defaults: {\r\n                ipAddress: \"192.168.20.145\",\r\n                deviceId: 1,\r\n                controllerName: \"Line0-0.0\",\r\n                ID: -1,\r\n            },\r\n            controllerData: [\r\n                {\r\n                    ipAddress: \"192.168.20.141\",\r\n                    deviceId: 1,\r\n                    controllerName: \"Line1-0.1\",\r\n                    ID: 1,\r\n                },\r\n                {\r\n                    ipAddress: \"192.168.20.142\",\r\n                    deviceId: 2,\r\n                    controllerName: \"Line1-0.2\",\r\n                    ID: 2,\r\n                },\r\n            ],\r\n            active_item: -1,\r\n            scanList: false,\r\n            maskId: 0,\r\n            getScanDeviceResults: [\r\n                {\r\n                    ipAddress: \"192.168.20.143\",\r\n                    deviceId: 3,\r\n                    controllerName: \"Line1-0.3\",\r\n                    ID: 0,\r\n                },\r\n                {\r\n                    ipAddress: \"192.168.20.144\",\r\n                    deviceId: 4,\r\n                    controllerName: \"Line1-0.4\",\r\n                    ID: 0,\r\n                },\r\n            ],\r\n            // 选中的当前行\r\n            actDevice: -1,\r\n        };\r\n    },\r\n    props: {\r\n        msg: String,\r\n    },\r\n    methods: {\r\n        selectFile(index) {\r\n            this.active_item = index == this.active_item ? -1 : index\r\n            console.log(\"clcik\", this.active_item)\r\n        },\r\n        scanDevice() {\r\n            this.maskId = maskApi.rise(15, this.cancel)\r\n\r\n            if (window.electronAPI) {\r\n                this.getScanDeviceResults = window.electronAPI.scanDeviceBackend()\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n\r\n            this.scanList = true\r\n        },\r\n        cancel() {\r\n            // this.isShow=false\r\n            this.scanList = false\r\n            this.onCancel && this.onCancel(\"用户取消了\")\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        // 展示id号\r\n        getIdNum(i) {\r\n            let id = this.controllerData[i - 1].deviceId\r\n            return id\r\n        },\r\n        newId() {\r\n            const lastDevice = this.controllerData[this.controllerData.length - 1]\r\n            const newId = lastDevice ? lastDevice.ID + 1 : 1\r\n            return newId\r\n        },\r\n        addDevice() {\r\n            const device = {\r\n                ipAddress: this.defaults.ipAddress,\r\n                deviceId: this.defaults.deviceId,\r\n                controllerName: this.defaults.controllerName,\r\n                ID: this.newId()\r\n            }\r\n            this.controllerData.push(device)\r\n            this.active_item = this.controllerData.length - 1\r\n\r\n            this.addDeviceBackend(device)\r\n            console.log(\"-----add-----\", this.controllerData)\r\n        },\r\n        copyDevice() {\r\n            if (this.active_item == -1) {\r\n                messageApi.error([this.$t('promsg.nselect_file')])\r\n                return\r\n            }\r\n            if (this.active_item >= 0 && this.active_item < this.controllerData.length) {\r\n                const selectedDevice = this.controllerData[this.active_item];\r\n                const copiedDevice = { ...selectedDevice }; // 复制选中的设备对象\r\n                copiedDevice.ID = this.newId(); // 设置新的ID\r\n                this.controllerData.push(copiedDevice); // 添加复制的设备\r\n                this.active_item = this.controllerData.length - 1; // 将 active_item 指向复制的设备\r\n                this.copyDeviceBackend(copiedDevice, selectedDevice.ID)\r\n                console.log(\"-----copy-----\", this.controllerData)\r\n            }\r\n        },\r\n        delDevice() {\r\n            if (this.active_item == -1) {\r\n                messageApi.error([this.$t('promsg.nselect_file')])\r\n                return\r\n            }\r\n            if (this.active_item >= 0 && this.active_item < this.controllerData.length) {\r\n                const Id = this.controllerData[this.active_item].ID\r\n                this.controllerData.splice(this.active_item, 1); // 删除选中的对象\r\n                if (this.active_item > 0) {\r\n                    this.active_item--; // 将 active_item 设置为前一个索引位置\r\n                } else {\r\n                    this.active_item = -1; // 如果 active_item 已经是第一个对象，则重置为 -1\r\n                }\r\n\r\n                this.delDeviceBackend(Id)\r\n\r\n                console.log(\"-----del-----\", this.controllerData)\r\n            }\r\n        },\r\n        addCurDevice(i) {\r\n            this.actDevice = this.actDevice == i ? -1 : i\r\n            const selectedDevice = this.getScanDeviceResults[i];\r\n            const copiedDevice = { ...selectedDevice }; // 复制选中的设备对象\r\n            copiedDevice.ID = this.newId(); // 设置新的ID\r\n            this.controllerData.push(copiedDevice);\r\n\r\n            this.addDeviceBackend(copiedDevice)\r\n\r\n            console.log(\"copiedDevice\", copiedDevice.ID)\r\n            this.scanList = false\r\n            this.onCancel && this.onCancel(\"用户取消了\")\r\n            maskApi.descend(this.maskId)\r\n            this.active_item = this.controllerData.length - 1\r\n        },\r\n        addDeviceBackend(device) {\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                window.electronAPI.addDeviceBackend(device)\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n        },\r\n        copyDeviceBackend(device, copyId) {\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                window.electronAPI.copyDeviceBackend(device, copyId)\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n        },\r\n        delDeviceBackend(deviceId) {\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                window.electronAPI.delDeviceBackend(deviceId)\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n        },\r\n\r\n        syncDevicesBackend(devices) {\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                window.electronAPI.syncDevicesBackend(JSON.stringify(devices))\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n        },\r\n\r\n        getDevicesBackend() {\r\n            let devices = []\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                devices = window.electronAPI.getDevicesBackend()\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n            return devices\r\n        },\r\n\r\n        editDeviceBackend(device) {\r\n            // 在这里可以执行你想要的操作，例如发送请求或处理数据\r\n            if (window.electronAPI) {\r\n                window.electronAPI.editDeviceBackend(device)\r\n                // 示例：在控制台打印输入的值\r\n            }\r\n        },\r\n        confirm() {\r\n            if (this.active_item == -1) {\r\n                messageApi.error([this.$t('promsg.nselect_file')])\r\n                return\r\n            }\r\n            const selectedDevice = this.controllerData[this.active_item];\r\n            const copiedDevice = { ...selectedDevice }; // 复制选中的设备对象\r\n            this.editDeviceBackend(copiedDevice)\r\n            console.log(\"Confirm\")\r\n        }\r\n    },\r\n    computed: {\r\n        currentDevice() {\r\n            if (this.active_item == -1)\r\n                return this.defaults;\r\n            return this.controllerData[this.active_item];\r\n        },\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    created() {\r\n        if (window.electronAPI) {\r\n            this.controllerData = this.getDevicesBackend()\r\n        }\r\n    },\r\n    watch: {\r\n        controllerData: {\r\n            // immediate: true,\r\n            deep: true,\r\n            handler: function () {\r\n                console.log(\"同步设备列表\")\r\n                this.syncDevicesBackend(this.controllerData)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.controllers-box {\r\n    position: relative;\r\n}\r\n\r\n.operate-line {\r\n    position: absolute;\r\n    top: 0.9vh;\r\n    left: 1.5vw;\r\n    width: 97vw;\r\n    height: 8vh;\r\n    background-color: var(--Cee);\r\n    border-radius: 6px;\r\n    display: flex;\r\n}\r\n\r\n.operate-box {\r\n    flex: 3;\r\n    margin-top: 1.2vh;\r\n    font-size: var(--font1_625);\r\n    /* font-weight: 500; */\r\n    color: #3B3B3B;\r\n}\r\n\r\n.operate-box:active,\r\n.operate-box:active .pfIcon {\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n.scanList-data-line:active span,\r\n.scanList-data-line:active .pfIcon {\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n.line {\r\n    display: block;\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    height: 2.05rem;\r\n    width: 1px;\r\n    background-color: var(--CD4);\r\n}\r\n\r\n.file-static-icon {\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 50%;\r\n    width: 15.5rem;\r\n    height: 5rem;\r\n    transform: translate(-50%, -50%);\r\n    font-size: var(--font1_625);\r\n}\r\n\r\n.file-active-icon {\r\n    position: absolute;\r\n    top: 40%;\r\n    left: 50%;\r\n    width: 15.5rem;\r\n    height: 5rem;\r\n    transform: translate(-50%, -50%);\r\n    font-size: 2.4rem;\r\n}\r\n\r\n.items-box {\r\n    position: absolute;\r\n    top: 11.9vh;\r\n    left: 1.5vw;\r\n    width: 97vw;\r\n    height: 46.5vh;\r\n    /* background-color: pink; */\r\n    overflow: hidden;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.items-box::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n.profile-item {\r\n    position: relative;\r\n    float: left;\r\n    list-style: none !important;\r\n    width: 15.3rem;\r\n    height: 9.4465rem;\r\n    cursor: pointer;\r\n    margin-left: 1.5vw;\r\n    /* background: red; */\r\n}\r\n\r\n.pf-static-num {\r\n    position: absolute;\r\n    left: 51%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: var(--font1_625);\r\n}\r\n\r\n.pf-active-num {\r\n    position: absolute;\r\n    left: 51%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: 2rem;\r\n    color: #00C155 !important;\r\n}\r\n\r\n.controller-ip {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 84%;\r\n    width: 30vw;\r\n    display: inline-block;\r\n    color: var(--C3B);\r\n    font-size: 1.5rem;\r\n    font-family: var(--SHSC-R);\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    /* background: green; */\r\n}\r\n\r\n.device-manage {\r\n    position: absolute;\r\n    top: 10vh;\r\n    left: 2.5vw;\r\n}\r\n\r\n.manage-text {\r\n    display: inline-block;\r\n    color: var(--C00);\r\n    font-size: var(--font1_625);\r\n    font-weight: 600;\r\n}\r\n\r\n/* 横线 */\r\n.transverse-line {\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 7.9rem;\r\n    width: 7rem;\r\n    height: 1rem;\r\n    border-top: 2px dashed var(--C00);\r\n}\r\n\r\n/* 竖线 */\r\n.vertical-line {\r\n    position: absolute;\r\n    top: 3rem;\r\n    left: 0.7rem;\r\n    width: 1rem;\r\n    height: 4rem;\r\n    border-left: 2px dashed var(--C00);\r\n}\r\n\r\n.device-manage-bottom-line {\r\n    position: absolute;\r\n    top: 62vh;\r\n    right: -0.5vw;\r\n    z-index: 1;\r\n}\r\n\r\n/* 反横线 */\r\n.rev-transverse-line {\r\n    position: absolute;\r\n    bottom: 0.6rem;\r\n    right: 0.9rem;\r\n    width: 7rem;\r\n    height: 1rem;\r\n    border-top: 2px dashed var(--C00);\r\n}\r\n\r\n/* 反竖线 */\r\n.rev-vertical-line {\r\n    position: absolute;\r\n    bottom: 1.9rem;\r\n    right: 0rem;\r\n    width: 1rem;\r\n    height: 4rem;\r\n    border-left: 2px dashed var(--C00);\r\n}\r\n\r\n.cur-data {\r\n    position: absolute;\r\n    top: 61vh;\r\n    left: 1.5vw;\r\n    width: 97vw;\r\n    height: 22vh;\r\n    background: rgba(138, 216, 121, 0.1);\r\n    border: 1px solid #00C155;\r\n}\r\n\r\n.ip-line,\r\n.id-data,\r\n.controller-data {\r\n    position: relative;\r\n    top: 1rem;\r\n    left: 9rem;\r\n    display: flex;\r\n    height: 4.9063vh;\r\n    font-size: var(--font1_625);\r\n    color: var(--C3B);\r\n}\r\n\r\n.setController-box {\r\n    position: absolute;\r\n    bottom: 0.9rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n\r\n.text-line {\r\n    position: absolute;\r\n    top: 0.6vh;\r\n    left: -7rem;\r\n}\r\n\r\n.tech-input-top {\r\n    position: absolute;\r\n    right: 11rem;\r\n}\r\n\r\n.scan-box {\r\n    position: absolute;\r\n    top: 13vh;\r\n    left: 6vw;\r\n    width: 89vw;\r\n    height: 46vh;\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    background-color: var(--fff);\r\n    z-index: 16;\r\n    overflow: auto;\r\n}\r\n\r\n.scanList-head-line {\r\n    border-bottom: 2px solid var(--C00) !important;\r\n}\r\n\r\n.scanList-head-line,\r\n.scanList-data-line {\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    height: 5.305vh;\r\n    line-height: 5.305vh;\r\n    border-bottom: 1px solid var(--C00);\r\n    font-size: 1.4rem;\r\n    width: 100% !important;\r\n}\r\n\r\n.scanList-head-line span,\r\n.scanList-data-line span {\r\n    flex: 2;\r\n    text-align: center;\r\n    font-weight: 500;\r\n    letter-spacing: 0px;\r\n    color: var(--C65);\r\n}\r\n\r\n.scanList-data-line span:last-child,\r\n.scanList-head-line span:last-child {\r\n    flex: 0.5;\r\n}\r\n</style>","import { render } from \"./DeviceManage.vue?vue&type=template&id=1e99b987&scoped=true\"\nimport script from \"./DeviceManage.vue?vue&type=script&lang=js\"\nexport * from \"./DeviceManage.vue?vue&type=script&lang=js\"\n\nimport \"./DeviceManage.vue?vue&type=style&index=0&id=1e99b987&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1e99b987\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","onClick","$options","_createVNode","_component_svg_loader","icon","size","_hoisted_3","_ctx","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_Fragment","$data","value","i","key","ID","deviceId","ipAddress","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_component_InputText","maxLength","text","_hoisted_19","_hoisted_20","_component_InputVal","minNum","maxNum","sensorValue","_hoisted_21","_hoisted_22","controllerName","_component_LeetxButton","width","height","textColor","fontFamily","fontSize","bgcColor","_hoisted_23","_hoisted_24","item","components","InputText","data","defaults","controllerData","active_item","scanList","maskId","getScanDeviceResults","actDevice","props","msg","String","methods","selectFile","index","this","console","log","scanDevice","maskApi","cancel","window","electronAPI","scanDeviceBackend","onCancel","getIdNum","id","newId","lastDevice","length","addDevice","device","push","addDeviceBackend","copyDevice","selectedDevice","copiedDevice","copyDeviceBackend","messageApi","$t","delDevice","Id","splice","delDeviceBackend","addCurDevice","copyId","syncDevicesBackend","devices","JSON","stringify","getDevicesBackend","editDeviceBackend","confirm","computed","currentDevice","mounted","created","watch","deep","handler","__exports__","render"],"sourceRoot":""}