"use strict";(self["webpackChunkleetx_web"]=self["webpackChunkleetx_web"]||[]).push([[927],{59317:function(e,t,a){function i(e){let t;if(e instanceof Array){t=[];for(let a=0;a<e.length;a++)t[a]=i(e[a])}else if(e instanceof Object){t={};for(let a of Object.keys(e))t[a]=i(e[a])}else t=e;return t}function s(e,t,a=!1){let i=!0;if(e instanceof Array&&t instanceof Array&&t.length==e.length){for(let l=0;l<e.length;l++)if(i=i&&s(e[l],t[l],a),!i)break}else if(!(e instanceof Object&&t instanceof Object)||e instanceof Array||t instanceof Array)e instanceof Object||t instanceof Object?i=!1:(i=!0,a&&(i=e===t));else for(let l in e){if(!(l in t)){i=!1;break}if(i=i&&s(e[l],t[l],a),!i)break}return i}function l(e,t,a=!1){return a?JSON.stringify(e)===JSON.stringify(t):s(e,t)}a.d(t,{IK:function(){return l},p$:function(){return i}})},76736:function(e,t,a){a.d(t,{Z:function(){return h}});var i=a(66252),s=a(3577);function l(e,t,a,l,n,o){return(0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(o.boxClass),onClick:t[0]||(t[0]=(...e)=>o.updateData&&o.updateData(...e))},null,2)}var n=a(49963);const o={data(){return{status:!1}},methods:{updateData(){this.allowClick&&(this.status=!this.status,this.$emit("update:modelValue",this.status?this.activeValue:this.staticValue))},initData(){this.status=this.modelValue==this.activeValue}},props:{activeValue:{type:null,default:1},staticValue:{type:null,default:0},modelValue:{type:null,default:0},size:{type:String,default:"2rem"},width:{type:String,default:"1.5rem"},color:{type:String,default:"#c7c7c7"},allowClick:{type:Boolean,default:!0}},computed:{boxClass(){return this.status?"active-box":"static-box"}},created(){this.initData()},watch:{modelValue(){this.initData()}}},r=()=>{(0,n.sj)((e=>({"7ea655dc":e.width,"80d452a2":e.color})))},m=o.setup;o.setup=m?(e,t)=>(r(),m(e,t)):r;var u=o,d=a(83744);const c=(0,d.Z)(u,[["render",l],["__scopeId","data-v-dd5b2ddc"]]);var h=c},52927:function(e,t,a){a.r(t),a.d(t,{default:function(){return ya}});var i=a(66252),s=a(3577),l=a(49963);const n={class:"tech-box"},o={class:"tech-basemsg-line"},r={class:"tech-num"},m={key:0,class:"tech-select"},u={class:"tech-name"},d={class:"mask-box"},c={class:"items-box"},h={key:0,class:"visual-box"},g={class:"add-text-class"},p=["onClick"],f=["onClick"],D={class:"add-text-class"},b=["onClick"],w={type:"radio",name:"one",class:"select-one"},A={class:"pro-name"},V={key:0,class:"pro-step-data"};function _(e,t,a,_,S,v){const x=(0,i.up)("InputText"),P=(0,i.up)("svg-loader"),q=(0,i.up)("FindBolt"),$=(0,i.up)("FastMove"),y=(0,i.up)("Wait"),T=(0,i.up)("SocketRelease"),W=(0,i.up)("Tightening"),I=(0,i.up)("OutSignal"),N=(0,i.up)("SlopeTest");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i._)("span",r,(0,s.zw)(e.$t("tchnlgy.prcsid"))+":",1),-1!=S.curPsetId?((0,i.wg)(),(0,i.iD)("div",m,(0,s.zw)(S.curPsetId.toString().padStart(3,"0")),1)):(0,i.kq)("",!0),(0,i._)("span",u,(0,s.zw)(e.$t("tchnlgy.prcsname")),1),-1!=S.curPsetId?((0,i.wg)(),(0,i.j4)(x,{key:1,module:S.module,class:"tech-input",width:"24vw",disabled:!0,text:S.profile_name,"onUpdate:modelValue":t[0]||(t[0]=e=>S.profile_name=e.text),textValid:""==v.nameReason,validReason:v.nameReason},null,8,["module","text","textValid","validReason"])):(0,i.kq)("",!0),-1!=S.curPsetId?((0,i.wg)(),(0,i.j4)(P,{key:2,onClick:v.showGlobalConfig,class:"tech-setting",icon:"StaticSetting",size:"2.5rem"},null,8,["onClick"])):(0,i.kq)("",!0)]),(0,i._)("div",d,[(0,i._)("div",c,[0===S.activeSeqIndex||0===S.seqItems.length?((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",{class:"add-btn-box",onClick:t[1]||(t[1]=e=>v.showAddingSeqItemDialog(0))},[(0,i.Wm)(P,{class:"add-icon-class",icon:"Add",size:"2.84rem"}),(0,i._)("span",g,(0,s.zw)(e.$t("tchnlgy.add")),1)])])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.seqItems,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"visual-box",key:a},[(0,i._)("div",{class:(0,s.C_)(a===this.activeSeqIndex?"big-box":"small-box"),onClick:e=>v.selSeqItemByIndex(a)},[(0,i._)("span",{class:(0,s.C_)(a===this.activeSeqIndex?"big-num":"small-num")},(0,s.zw)(a+1),3),(0,i.wy)((0,i.Wm)(P,{class:"delete-class",onClick:e=>v.delSeqItem(a),icon:"ActiveRedTrash"},null,8,["onClick"]),[[l.F8,S.activeSeqIndex==a]]),(0,i._)("div",{class:(0,s.C_)(a===this.activeSeqIndex?"big-first-line":"small-first-line")},[(0,i.Wm)(P,{icon:a==S.activeSeqIndex?S.seqIcons[t.Descr][1]:S.seqIcons[t.Descr][0],class:(0,s.C_)(a===this.activeSeqIndex?"big-step-icon":"small-step-icon"),size:S.activeSeqIndex==a?"3rem":"1.5rem"},null,8,["icon","class","size"]),(0,i._)("span",{class:(0,s.C_)(a===this.activeSeqIndex?"big-step-text":"small-step-text")},(0,s.zw)(S.seq_types[t.Descr]),3)],2),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.seqItemTexts(t.Descr,a),((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:(0,s.C_)(a===this.activeSeqIndex?"big-second-line":"small-second-line")},[(0,i._)("span",{class:(0,s.C_)(a===this.activeSeqIndex?"big-param-text":"small-param-text")},(0,s.zw)(e[0]),3),(0,i._)("span",{class:(0,s.C_)(a===this.activeSeqIndex?"big-param-val":"small-param-val")},(0,s.zw)(e[1]),3)],2)))),128))],10,p),S.activeSeqIndex===a||S.activeSeqIndex==a+1?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"add-btn-box",onClick:(0,l.iM)((e=>v.showAddingSeqItemDialog(a+1)),["stop"])},[(0,i.Wm)(P,{class:"add-icon-class",icon:"Add",size:"2.84rem"}),(0,i._)("span",D,(0,s.zw)(e.$t("tchnlgy.add")),1)],8,f)):(0,i.kq)("",!0)])))),128))])]),(0,i.wy)((0,i._)("div",{class:"tech-options-box",ref:"addingbox",tabindex:99,contenteditable:!0,onBlur:t[2]||(t[2]=(...e)=>v.closeSeqAddingBox&&v.closeSeqAddingBox(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(S.seq_types,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:"one-pro",contenteditable:!1,onClick:e=>v.addSeqItemBySeqType(t)},[(0,i.wy)((0,i._)("input",w,null,512),[[l.F8,!1]]),(0,i._)("span",A,(0,s.zw)(e),1)],8,b)))),128))],544),[[l.F8,-1!=S.addSeqIndex&&-1!=S.curPsetId]]),-1!=S.activeSeqIndex&&-1!=S.curPsetId?((0,i.wg)(),(0,i.iD)("div",V,["FindBolt"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(q,{key:0,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[3]||(t[3]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"FastMove"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)($,{key:1,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[4]||(t[4]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"Wait"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(y,{key:2,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[5]||(t[5]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"SocketRelease"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(T,{key:3,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[6]||(t[6]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"Tighten"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(W,{key:4,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[7]||(t[7]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"OutSignal"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(I,{key:5,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[8]||(t[8]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0),"SlopeTest"===S.sel_seq_type?((0,i.wg)(),(0,i.j4)(N,{key:6,stepList:v.jumpStepLst(),onConfirm:v.confirm,stepData:S.seqItems[S.activeSeqIndex],"onUpdate:stepData":t[9]||(t[9]=e=>S.seqItems[S.activeSeqIndex]=e)},null,8,["stepList","onConfirm","stepData"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])}var S=a(59317),v=a(92797);const x=e=>((0,i.dD)("data-v-4cf51e92"),e=e(),(0,i.Cn)(),e),P={key:0,class:"set-tech-box"},q={class:"head-text-line"},$={class:"time-line"},y={class:"tech-num"},T={class:"dots-line"},W={class:"pro-text"},I={class:"tech-input"},N=x((()=>(0,i._)("div",{class:"step-line"},"~",-1))),C={class:"sampling-line"},z={class:"sampling-rate"},U={class:"max-line"},M={class:"max-samples"},k={class:"dir-line"},R={class:"default-dir"},L={class:"reverse-speed-line"},O={class:"reverse-speed-num"},F={class:"reverse-angle-line"},j={class:"reverse-angle-num"},Z={class:"ergonomic-line"},B={class:"ergonomic-text"},E={class:"discharge-time-line"};function J(e,t,a,l,n,o){const r=(0,i.up)("svgloader"),m=(0,i.up)("InputVal"),u=(0,i.up)("CheckCircle"),d=(0,i.up)("NewSelect"),c=(0,i.up)("LeetxSwitch"),h=(0,i.up)("LeetxButton");return n.isShow?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",q,[(0,i._)("span",null,(0,s.zw)(e.$t("hightsetting.advancedSettings")),1),(0,i._)("span",{class:"cancel-box",onClick:t[0]||(t[0]=(...e)=>o.cancel&&o.cancel(...e))},[(0,i.Wm)(r,{class:"tech-setting",icon:"Close",size:"1.2rem"})])]),(0,i._)("div",$,[(0,i._)("span",y,(0,s.zw)(e.$t("hightsetting.startingTorque")),1),(0,i.Wm)(m,{sensorValue:n.globalParams.ThresholdValue,"onUpdate:sensorValue":t[1]||(t[1]=e=>n.globalParams.ThresholdValue=e),class:"tech-input",width:"18rem",uname:"torque"},null,8,["sensorValue"])]),(0,i._)("div",T,[(0,i._)("span",W,(0,s.zw)(e.$t("hightsetting.globalAngleMonitoring")),1),(0,i.Wm)(u,{modelValue:n.globalParams.GlobalAngleMonitoring,"onUpdate:modelValue":t[2]||(t[2]=e=>n.globalParams.GlobalAngleMonitoring=e),activeValue:!0,staticValue:!1,width:"2.5rem",class:"is-use-global-angle"},null,8,["modelValue"]),(0,i._)("div",I,[(0,i.Wm)(m,{textValid:n.angleRangeValid,sensorValue:n.globalParams.AngleLimit.Min,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.globalParams.AngleLimit.Min=e),isAllowUse:n.globalParams.GlobalAngleMonitoring,class:"min-torque",uname:"angle","show-unit-name":!1,width:"8rem"},null,8,["textValid","sensorValue","isAllowUse"]),N,(0,i.Wm)(m,{textValid:n.angleRangeValid,sensorValue:n.globalParams.AngleLimit.Max,"onUpdate:sensorValue":t[4]||(t[4]=e=>n.globalParams.AngleLimit.Max=e),isAllowUse:n.globalParams.GlobalAngleMonitoring,class:"max-torque",uname:"angle",width:"8rem"},null,8,["textValid","sensorValue","isAllowUse"])])]),(0,i._)("div",C,[(0,i._)("span",z,(0,s.zw)(e.$t("hightsetting.samplingRate")),1),(0,i.Wm)(d,{options:n.frequencys,realVal:n.globalParams.SampleFrequency,"onUpdate:realVal":t[5]||(t[5]=e=>n.globalParams.SampleFrequency=e),class:"sampling-select"},null,8,["options","realVal"])]),(0,i._)("div",U,[(0,i._)("span",M,(0,s.zw)(e.$t("hightsetting.maxSamples")),1),(0,i.Wm)(d,{options:n.samplingDots,realVal:n.globalParams.SamplingNumber,"onUpdate:realVal":t[6]||(t[6]=e=>n.globalParams.SamplingNumber=e),class:"max-samples-select"},null,8,["options","realVal"])]),(0,i._)("div",k,[(0,i._)("span",R,(0,s.zw)(e.$t("hightsetting.defRotationDirection")),1),(0,i.Wm)(d,{options:n.dirs,realVal:n.globalParams.Direction,"onUpdate:realVal":t[7]||(t[7]=e=>n.globalParams.Direction=e),class:"default-dir-btn"},null,8,["options","realVal"])]),(0,i._)("div",L,[(0,i._)("span",O,(0,s.zw)(e.$t("hightsetting.reverseSpeedValue")),1),(0,i.Wm)(m,{sensorValue:n.globalParams.ReverseSpeedValue,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.globalParams.ReverseSpeedValue=e),class:"reverse-speed-input",width:"18rem",uname:"angle_speed"},null,8,["sensorValue"])]),(0,i._)("div",F,[(0,i._)("span",j,(0,s.zw)(e.$t("hightsetting.reverseAngleValue")),1),(0,i.Wm)(m,{sensorValue:n.globalParams.ReverseAngleValue,"onUpdate:sensorValue":t[9]||(t[9]=e=>n.globalParams.ReverseAngleValue=e),class:"reverse-angle-input",width:"18rem",uname:"angle"},null,8,["sensorValue"])]),(0,i._)("div",Z,[(0,i._)("span",B,(0,s.zw)(e.$t("hightsetting.ergonomicStop")),1),(0,i.Wm)(c,{class:"ergonomic-switch",activeVal:!0,staticVal:!1,value:n.globalParams.EnableSoftStop,onSentVal:t[10]||(t[10]=e=>n.globalParams.EnableSoftStop=e),height:2.5},null,8,["value","height"])]),(0,i._)("div",E,[(0,i._)("span",{class:(0,s.C_)(["discharge-time-text",{"forbit-color":!n.globalParams.EnableSoftStop}])},(0,s.zw)(e.$t("hightsetting.dischargeTime")),3),(0,i.Wm)(m,{class:"discharge-time-input",isAllowUse:n.globalParams.EnableSoftStop,sensorValue:n.globalParams.SoftStopTime,"onUpdate:sensorValue":t[11]||(t[11]=e=>n.globalParams.SoftStopTime=e),width:"18rem",uname:"discharge_time"},null,8,["isAllowUse","sensorValue"])]),(0,i.Wm)(h,{bgcColor:"#00c155",textColor:"#fff",width:"30.3125rem",fontSize:"2.25rem",class:"confirm-box",text:e.$t("confirm.validity"),onClick:o.confirmInner},null,8,["text","onClick"])])):(0,i.kq)("",!0)}var K=a(73496),G=a(22213),H=a(96799),Y=a(10335),X=a(76736),Q=a(65884),ee=a(27253),te=a(84965),ae={components:{InputVal:G.Z,svgloader:K.Z,LeetxButton:Y.Z,CheckCircle:X.Z,NewSelect:H.Z,LeetxSwitch:ee.Z},data(){return{frequencys:{"100sps":100,"250sps":250,"500sps":500,"1000sps":1e3},dirs:{[this.$t("hightsetting.foreward")]:"CW",[this.$t("hightsetting.reverse")]:"CCW"},samplingDots:{1e3:1e3,2e3:2e3,5e3:5e3,1e4:1e4},isShow:!0,maskId:0,globalParams:void 0,angleRangeValid:!0}},methods:{cancel(){this.isShow=!1,Q.g.descend(this.maskId)},confirmInner(){if(!this.angleRangeValid){let e=this.$t("hightsetting.globalMonitpers"),t=this.$t("hightsetting.wrongRange");return te.c.warning([e,t])}this.isShow=!1,this.onConfirm&&this.onConfirm(this.globalParams),Q.g.descend(this.maskId)},modData(e,t){const a=["ThresholdValue","AngleMin","AngleMax"];-1!==a.indexOf(e)?"ThresholdValue"===e?this.globalParams[e]=t.sensorValue:"AngleMin"===e?this.globalParams.AngleLimit.Min=t.sensorValue:this.globalParams.AngleLimit.Max=t.sensorValue:this.globalParams[e]=t},initStatus(){this.maskId=Q.g.rise(15)},initGlobalParams(){this.globalParams=(0,S.p$)(this.GlobalParams)}},created(){this.initGlobalParams()},mounted(){this.initStatus()},props:{GlobalParams:{AutoPowerOn:!0,AutoPowerOff:!1,Direction:"CW",SampleFrequency:1e3,SamplingNumber:1e4,CalibrationeOn:!0,GlobalAngleMonitoring:!0,ThresholdValue:0,AngleLimit:{Min:-50,Max:50},ReverseSpeedValue:10,ReverseAngleValue:0,EnableSoftStop:!0,SoftStopTime:100}},computed:{},watch:{globalParams:{deep:!0,handler:function(){this.angleRangeValid=this.globalParams.AngleLimit.Min<this.globalParams.AngleLimit.Max}}}},ie=a(83744);const se=(0,ie.Z)(ae,[["render",J],["__scopeId","data-v-4cf51e92"]]);var le=se;const ne=e=>new Promise(((t,a)=>{let i=(0,l.ri)(le,e).use(v.Z).mount(document.createElement("div"));document.body.appendChild(i.$el),i.onConfirm=e=>{t(e)},i.onCancel=function(e){a(e)}}));const oe={class:"data-box"},re={class:"repeat-delay-text"},me={class:"angle-unit angle-speed"},ue={class:"angle-unit angle-time"};function de(e,t,a,l,n,o){const r=(0,i.up)("InputVal"),m=(0,i.up)("FormItem"),u=(0,i.up)("NewSelect"),d=(0,i.up)("svg-loader"),c=(0,i.up)("FormItemTwo"),h=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",oe,[(0,i.Wm)(m,{class:"form-item first-item",label:e.$t("knowhat.repeatTime")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,isInt:!0,minNum:1,maxNum:100,sensorValue:n.cfg_data.ActionPara.Repeat.RepeatCounts,"onUpdate:sensorValue":t[0]||(t[0]=e=>n.cfg_data.ActionPara.Repeat.RepeatCounts=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item zindex6",label:e.$t("knowhat.directionRotation")},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{module:n.module,options:n.dirs,realVal:n.cfg_data.ActionPara.Direction,"onUpdate:realVal":t[1]||(t[1]=e=>n.cfg_data.ActionPara.Direction=e)},null,8,["module","options","realVal"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item",label:e.$t("knowhat.SingleRotationAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,uname:"angle",sensorValue:n.cfg_data.ActionPara.Target,"onUpdate:sensorValue":t[2]||(t[2]=e=>n.cfg_data.ActionPara.Target=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item",label:e.$t("release.stoppingTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,uname:"torque",sensorValue:n.cfg_data.ActionPara.Limit.Max,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.cfg_data.ActionPara.Limit.Max=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i._)("div",null,[(0,i.Wm)(d,{class:"hatRecognition",icon:"hatRecognition",size:"28rem"})]),(0,i.Wm)(m,{class:"form-itemb speed",label:e.$t("knowhat.speed"),labelSize:"1.25rem",leftDis:"1.5rem",labelWidth:"1.7rem"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle_speed",showUnitName:!1,onUpdateData:t[4]||(t[4]=e=>o.updateData("acc")),sensorValue:n.cfg_data.ActionPara.Velocity,"onUpdate:sensorValue":t[5]||(t[5]=e=>n.cfg_data.ActionPara.Velocity=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item speedTime",label:e.$t("knowhat.acceleratetime"),labelSize:"1.25rem",leftDis:"1rem",labelWidth:"4rem"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"acc_time",showUnitName:!1,sensorValue:n.cfg_data.ActionPara.AccTime,"onUpdate:sensorValue":t[6]||(t[6]=e=>n.cfg_data.ActionPara.AccTime=e),onUpdateData:t[7]||(t[7]=e=>o.updateData("acc"))},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(c,{class:"repeat-delay"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"time",showUnitName:!1,sensorValue:n.cfg_data.ActionPara.Repeat.IntervalTime_mS,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.cfg_data.ActionPara.Repeat.IntervalTime_mS=e)},null,8,["module","sensorValue"]),(0,i._)("span",re,(0,s.zw)(e.$t("knowhat.repetitionDelay")),1)])),_:1}),(0,i._)("div",me,(0,s.zw)(e.$t("knowhat.speed"))+"/"+(0,s.zw)(o.sensorUnit("angle_speed")),1),(0,i._)("div",ue,(0,s.zw)(e.$t("knowhat.time"))+"/"+(0,s.zw)(o.sensorUnit("time")),1),(0,i.Wm)(h,{module:n.module,width:"30.3125rem",height:"3.75rem",onClick:o.confirm,textColor:"#fff",text:e.$t("knowhat.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var ce=a(17127),he={components:{NewSelect:H.Z,InputVal:G.Z,LeetxButton:Y.Z},data(){return{module:"PROFILE",cfg_data:(0,ce.p)(),dirs:{"正转":1,"反转":-1,"正反交替":0}}},props:{stepData:{type:Object,default:(0,ce.p)()}},methods:{confirm(){this.$emit("confirm")},sensorUnit(e){return this.$store.state.sensors[e].name},updateData(){0==this.cfg_data.ActionPara.AccTime&&(this.cfg_data.ActionPara.AccTime=1e-6),this.cfg_data.ActionPara.Acc.Constant=this.cfg_data.ActionPara.Velocity/this.cfg_data.ActionPara.AccTime},sendDataStatus(){this.$emit("update:stepData",this.cfg_data)},init(){let e=this.$t("knowhat.frwrd"),t=this.$t("knowhat.bcwrd"),a=this.$t("knowhat.frwrdBcwrd");this.dirs={[e]:1,[t]:-1,[a]:0},this.cfg_data=(0,S.p$)(this.stepData)}},created(){this.init(),this.$watch((()=>this.cfg_data),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const ge=(0,ie.Z)(he,[["render",de],["__scopeId","data-v-7f84c4bf"]]);var pe=ge;const fe=e=>((0,i.dD)("data-v-3b20dc09"),e=e(),(0,i.Cn)(),e),De={class:"data-box"},be={class:"lock-tab"},we={class:"torque-unit"},Ae={class:"angle-unit"},Ve=fe((()=>(0,i._)("div",{class:"zero"},[(0,i._)("span",null,"0.0")],-1)));function _e(e,t,a,n,o,r){const m=(0,i.up)("NewSelect"),u=(0,i.up)("FormItem"),d=(0,i.up)("InputVal"),c=(0,i.up)("svg-loader"),h=(0,i.up)("LeetxSwitch"),g=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",De,[(0,i._)("div",be,[(0,i._)("div",{onClick:t[0]||(t[0]=e=>o.activeTab=1)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":1==o.activeTab})},(0,s.zw)(e.$t("hightsetting.policymonitoring")),3)]),(0,i._)("div",{onClick:t[1]||(t[1]=e=>o.activeTab=2)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":2==o.activeTab})},(0,s.zw)(e.$t("hightsetting.advancedSettings")),3)])]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",we,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(r.sensorUnit("torque")),1),(0,i._)("div",Ae,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(r.sensorUnit("angle")),1),(0,i.Wm)(u,{class:"form-item select-cnrl",label:e.$t("strategy.mode")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,options:o.fitMethods,realVal:o.dataMethod,onValChng:r.modeChanged},null,8,["module","options","realVal","onValChng"])])),_:1},8,["label"]),(0,i.Wm)(u,{class:"form-item",label:e.$t("monitor.speed")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,sensorValue:o.fastmoveData.ActionPara.Velocity.Constant,"onUpdate:sensorValue":t[2]||(t[2]=e=>o.fastmoveData.ActionPara.Velocity.Constant=e),uname:"angle_speed",onUpdateData:r.cal_acc},null,8,["module","sensorValue","onUpdateData"])])),_:1},8,["label"]),(0,i.Wm)(u,{class:"form-item",label:e.$t("fastrundown.accleratetime")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,sensorValue:o.fastmoveData.ActionPara.AccTime,"onUpdate:sensorValue":t[3]||(t[3]=e=>o.fastmoveData.ActionPara.AccTime=e),uname:"acc_time",onUpdateData:r.cal_acc},null,8,["module","sensorValue","onUpdateData"])])),_:1},8,["label"]),1==o.dataMethod?((0,i.wg)(),(0,i.j4)(u,{key:0,labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-torque",label:e.$t("fastrundown.targettorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,minNum:.01*this.$store.state.g_status.sensor_max,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:o.fastmoveData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[4]||(t[4]=e=>o.fastmoveData.ActionPara.Target.Constant=e)},null,8,["module","minNum","sensorValue"])])),_:1},8,["label"])):(0,i.kq)("",!0),0==o.dataMethod?((0,i.wg)(),(0,i.j4)(u,{key:1,labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item safe-torque",label:e.$t("fastrundown.safeTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:o.fastmoveData.ActionPara.Limit.Max,"onUpdate:sensorValue":t[5]||(t[5]=e=>o.fastmoveData.ActionPara.Limit.Max=e)},null,8,["module","sensorValue"])])),_:1},8,["label"])):(0,i.kq)("",!0),0==o.dataMethod?((0,i.wg)(),(0,i.j4)(u,{key:2,labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item limit-torque",label:e.$t("fastrundown.torqueThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:o.fastmoveData.ActionPara.ThresholdValue,"onUpdate:sensorValue":t[6]||(t[6]=e=>o.fastmoveData.ActionPara.ThresholdValue=e)},null,8,["module","sensorValue"])])),_:1},8,["label"])):(0,i.kq)("",!0),0==o.dataMethod?((0,i.wg)(),(0,i.j4)(u,{key:3,labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-angle",label:e.$t("fastrundown.monitorangle")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,sensorValue:o.fastmoveData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[7]||(t[7]=e=>o.fastmoveData.ActionPara.Target.Constant=e)},null,8,["module","sensorValue"])])),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(c,{class:"fastmove-icon",icon:0==o.dataMethod?"FastAngle":"FastTorque",size:"30rem"},null,8,["icon"]),Ve],512),[[l.F8,1==o.activeTab]]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(u,{class:"form-item",label:e.$t("release.timeout")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,minNum:2e3,sensorValue:o.fastmoveData.ActionPara.Timeout_mS,"onUpdate:sensorValue":t[8]||(t[8]=e=>o.fastmoveData.ActionPara.Timeout_mS=e),uname:"time"},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{class:"form-item",label:e.$t("release.stepDelay")},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{module:o.module,sensorValue:o.fastmoveData.Delay_ms,"onUpdate:sensorValue":t[9]||(t[9]=e=>o.fastmoveData.Delay_ms=e),uname:"time"},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{zIndex:2,class:"form-item",label:e.$t("release.errorJump")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,isScroll:!0,options:a.stepList,realVal:o.fastmoveData.NOKAction.JumpRow,"onUpdate:realVal":t[10]||(t[10]=e=>o.fastmoveData.NOKAction.JumpRow=e)},null,8,["module","options","realVal"])])),_:1},8,["label"]),(0,i.Wm)(u,{class:"form-item",leftDis:"3.8rem",label:e.$t("tighten.angleReduction")},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{module:o.module,activeVal:!0,staticVal:!1,height:2,value:o.fastmoveData.ActionPara.AngleZero,modelValue:o.fastmoveData.ActionPara.AngleZero,"onUpdate:modelValue":t[11]||(t[11]=e=>o.fastmoveData.ActionPara.AngleZero=e)},null,8,["module","value","modelValue"])])),_:1},8,["label"])],512),[[l.F8,2==o.activeTab]]),(0,i.Wm)(g,{module:o.module,width:"30.3125rem",height:"3.75rem",onClick:r.confirm,textColor:"#fff",text:e.$t("fastrundown.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var Se=a(36200),ve={components:{LeetxButton:Y.Z,NewSelect:H.Z},data(){return{module:"PROFILE",fastmoveData:{},dataMethod:0,hasSave:!0,fitMethods:{"角度法":0,"扭矩法":1},activeTab:1,watcher:null}},methods:{confirm(){this.$emit("confirm")},sensorUnit(e){return this.$store.state.sensors[e].name},cal_acc(){0==this.fastmoveData.ActionPara.AccTime&&(this.fastmoveData.ActionPara.AccTime=1e-6),this.fastmoveData.ActionPara.Acc.Constant=this.fastmoveData.ActionPara.Velocity.Constant/this.fastmoveData.ActionPara.AccTime},modeChanged(e){this.dataMethod=e,this.fastmoveData=1==this.dataMethod?(0,Se.d)():(0,Se.w)()},initData(){this.fastmoveData=(0,S.p$)(this.stepData),this.dataMethod="ForceOpenLoop"==this.stepData.Action?1:0},updateData(e,t){"JumpRow"==e&&(this.fastmoveData.NOKAction.JumpRow=t)},sendDataStatus(){this.$emit("update:stepData",this.fastmoveData)},initOptions(){let e=this.$t("fastrundown.angleMethod"),t=this.$t("fastrundown.torqueMethod");this.fitMethods={[e]:0,[t]:1}}},props:{stepData:{type:Object,default:null},methodType:{type:Number,default:0},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},created(){this.initOptions(),this.initData(),this.watcher=this.$watch((()=>this.fastmoveData),(()=>{this.sendDataStatus()}),{deep:!0,immediate:!1})},watch:{},computed:{}};const xe=(0,ie.Z)(ve,[["render",_e],["__scopeId","data-v-3b20dc09"]]);var Pe=xe;const qe={class:"data-box"},$e={class:"lock-tab"},ye={class:"form-box"},Te={class:"form-box"};function We(e,t,a,n,o,r){const m=(0,i.up)("NewSelect"),u=(0,i.up)("FormItem"),d=(0,i.up)("TightenAngleMode"),c=(0,i.up)("TightenTorqueMode"),h=(0,i.up)("TightenYieldMode"),g=(0,i.up)("TightenAdvanceConfig"),p=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",qe,[(0,i._)("div",$e,[(0,i._)("div",{onClick:t[0]||(t[0]=e=>o.activeTab=1)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":1==o.activeTab})},(0,s.zw)(e.$t("hightsetting.policymonitoring")),3)]),(0,i._)("div",{onClick:t[1]||(t[1]=e=>o.activeTab=2)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":2==o.activeTab})},(0,s.zw)(e.$t("hightsetting.advancedSettings")),3)])]),(0,i.wy)((0,i._)("div",ye,[(0,i.Wm)(u,{class:"form-item zindex6",label:e.$t("strategy.mode")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,options:o.tightenModes,realVal:o.tightenMode,onValChng:r.tightenModeChg},null,8,["module","options","realVal","onValChng"])])),_:1},8,["label"]),4==o.tightenMode&&1==o.activeTab?((0,i.wg)(),(0,i.j4)(d,{key:0,stepData:o.tightenData,"onUpdate:stepData":t[2]||(t[2]=e=>o.tightenData=e)},null,8,["stepData"])):(0,i.kq)("",!0),2==o.tightenMode&&1==o.activeTab?((0,i.wg)(),(0,i.j4)(c,{key:1,stepData:o.tightenData,"onUpdate:stepData":t[3]||(t[3]=e=>o.tightenData=e)},null,8,["stepData"])):(0,i.kq)("",!0),7==o.tightenMode&&1==o.activeTab?((0,i.wg)(),(0,i.j4)(h,{key:2,stepData:o.tightenData,"onUpdate:stepData":t[4]||(t[4]=e=>o.tightenData=e)},null,8,["stepData"])):(0,i.kq)("",!0)],512),[[l.F8,1==o.activeTab]]),(0,i.wy)((0,i._)("div",Te,[2==o.activeTab?((0,i.wg)(),(0,i.j4)(g,{key:0,stepData:o.tightenData,"onUpdate:stepData":t[5]||(t[5]=e=>o.tightenData=e),stepList:a.stepList},null,8,["stepData","stepList"])):(0,i.kq)("",!0)],512),[[l.F8,2==o.activeTab]]),(0,i.Wm)(p,{module:o.module,width:"30.3125rem",height:"3.75rem",onClick:r.confirm,textColor:"#fff",text:e.$t("strategy.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var Ie=a(79990);const Ne=e=>((0,i.dD)("data-v-d6ec7e36"),e=e(),(0,i.Cn)(),e),Ce={class:"form-box"},ze={class:"torque-unit"},Ue=Ne((()=>(0,i._)("div",{class:"zero"},[(0,i._)("span",null,"0.0")],-1))),Me={class:"angle-unit"};function ke(e,t,a,l,n,o){const r=(0,i.up)("InputVal"),m=(0,i.up)("NewSelect"),u=(0,i.up)("FormItem"),d=(0,i.up)("svg-loader");return(0,i.wg)(),(0,i.iD)("div",Ce,[(0,i._)("div",ze,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(o.sensorUnit("torque")),1),(0,i.Wm)(u,{class:"form-item zindex5",label:e.$t("monitor.speed")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,width:"6rem",uname:"angle_speed",onUpdateData:o.updateData,sensorValue:n.tightenData.ActionPara.Velocity,"onUpdate:sensorValue":t[0]||(t[0]=e=>n.tightenData.ActionPara.Velocity=e)},null,8,["module","onUpdateData","sensorValue"]),(0,i.Wm)(m,{module:n.module,class:"left-dis",width:8,realVal:n.tightenData.ActionPara.Direction,"onUpdate:realVal":t[1]||(t[1]=e=>n.tightenData.ActionPara.Direction=e),options:{[e.$t("release.foreWard")]:1,[e.$t("release.reversal")]:-1}},null,8,["module","realVal","options"])])),_:1},8,["label"]),(0,i.Wm)(u,{class:"form-item",label:e.$t("fastrundown.accleratetime")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,onUpdateData:o.updateData,uname:"acc_time",sensorValue:n.tightenData.ActionPara.AccTime,"onUpdate:sensorValue":t[2]||(t[2]=e=>n.tightenData.ActionPara.AccTime=e)},null,8,["module","onUpdateData","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item safe-torque",label:e.$t("strategy.safetytorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultTorque.Max,sensorValue:n.tightenData.ActionPara.Limit.Max,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.tightenData.ActionPara.Limit.Max=e)},null,8,["module","minNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angle-mode-max-torque",label:e.$t("selftapping.maxtorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.Limit.Max,sensorValue:n.tightenData.ActionPara.ResultTorque.Max,"onUpdate:sensorValue":t[4]||(t[4]=e=>n.tightenData.ActionPara.ResultTorque.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-torque",label:e.$t("selftapping.mintorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultTorque.Max,sensorValue:n.tightenData.ActionPara.ResultTorque.Min,"onUpdate:sensorValue":t[5]||(t[5]=e=>n.tightenData.ActionPara.ResultTorque.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item limit-torque",label:e.$t("release.torqueThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.ThresholdValue,"onUpdate:sensorValue":t[6]||(t[6]=e=>n.tightenData.ActionPara.ThresholdValue=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-angle",label:e.$t("tighten.miniAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.Target.Constant,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[7]||(t[7]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(u,{labelSize:"0rem",leftDis:"0",labelWidth:"0rem",class:"form-item angle-mode-max-angle"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.Target.Constant,sensorValue:n.tightenData.ActionPara.ResultAngle.Max,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.tightenData.ActionPara.ResultAngle.Max=e)},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angle-mode-max-angle-text",label:e.$t("tighten.maxAngle")},null,8,["label"]),(0,i.Wm)(u,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-angle",label:e.$t("fastrundown.monitorangle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Min,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[9]||(t[9]=e=>n.tightenData.ActionPara.Target.Constant=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),Ue,(0,i._)("div",Me,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(o.sensorUnit("angle")),1),(0,i.Wm)(d,{class:"locktorque-icon",icon:"LockAngle",size:"34rem"})])}var Re={data(){return{module:"PROFILE",tightenData:(0,Ie.jH)()}},props:{stepData:{type:Object,default:(0,Ie.jH)()}},methods:{initOptions(){this.tightenData=(0,S.p$)(this.stepData)},updateData(){0==this.tightenData.ActionPara.AccTime&&(this.tightenData.ActionPara.AccTime=1e-6),this.tightenData.ActionPara.Acc.Constant=this.tightenData.ActionPara.Velocity/this.tightenData.ActionPara.AccTime},sendDataStatus(){this.$emit("update:stepData",this.tightenData),console.log("update:stepData",this.tightenData)},sensorUnit(e){return this.$store.state.sensors[e].name}},created(){this.initOptions(),this.$watch((()=>this.tightenData),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const Le=(0,ie.Z)(Re,[["render",ke],["__scopeId","data-v-d6ec7e36"]]);var Oe=Le;const Fe=e=>((0,i.dD)("data-v-e3465500"),e=e(),(0,i.Cn)(),e),je={class:"form-box"},Ze={class:"torque-unit"},Be=Fe((()=>(0,i._)("div",{class:"zero"},[(0,i._)("span",null,"0.0")],-1))),Ee={class:"angle-unit"};function Je(e,t,a,l,n,o){const r=(0,i.up)("InputVal"),m=(0,i.up)("FormItem"),u=(0,i.up)("svg-loader");return(0,i.wg)(),(0,i.iD)("div",je,[(0,i._)("div",Ze,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(o.sensorUnit("torque")),1),(0,i.Wm)(m,{class:"form-item zindex5",label:e.$t("monitor.speed")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,width:"17.625rem",uname:"angle_speed",onUpdateData:o.updateData,sensorValue:n.tightenData.ActionPara.Velocity,"onUpdate:sensorValue":t[0]||(t[0]=e=>n.tightenData.ActionPara.Velocity=e)},null,8,["module","onUpdateData","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item",label:e.$t("fastrundown.accleratetime")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,sensorValue:n.tightenData.ActionPara.AccTime,"onUpdate:sensorValue":t[1]||(t[1]=e=>n.tightenData.ActionPara.AccTime=e),onUpdateData:o.updateData,uname:"acc_time"},null,8,["module","sensorValue","onUpdateData"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item torque-mode-max-torque",label:e.$t("selftapping.maxtorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,minNum:n.tightenData.ActionPara.Target.Constant,maxNum:1.2*this.$store.state.g_status.sensor_max,sensorValue:n.tightenData.ActionPara.ResultTorque.Max,"onUpdate:sensorValue":t[2]||(t[2]=e=>n.tightenData.ActionPara.ResultTorque.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-torque",label:e.$t("strategy.targetTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.ResultTorque.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.tightenData.ActionPara.Target.Constant=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-torque",label:e.$t("selftapping.mintorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,maxNum:n.tightenData.ActionPara.Target.Constant,sensorValue:n.tightenData.ActionPara.ResultTorque.Min,"onUpdate:sensorValue":t[4]||(t[4]=e=>n.tightenData.ActionPara.ResultTorque.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item limit-torque",label:e.$t("release.torqueThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.ThresholdValue,"onUpdate:sensorValue":t[5]||(t[5]=e=>n.tightenData.ActionPara.ThresholdValue=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-angle",label:e.$t("tighten.miniAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[6]||(t[6]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item torque-mode-max-angle",label:e.$t("tighten.maxAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Min,maxNum:n.tightenData.ActionPara.Limit.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Max,"onUpdate:sensorValue":t[7]||(t[7]=e=>n.tightenData.ActionPara.ResultAngle.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item safe-angle",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Limit.Max,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.tightenData.ActionPara.Limit.Max=e)},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item safe-angle-text",label:e.$t("fastrundown.safeAngle")},null,8,["label"]),Be,(0,i._)("div",Ee,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(o.sensorUnit("angle")),1),(0,i.Wm)(u,{class:"locktorque-icon",icon:"LockTorque",size:"34rem"})])}var Ke={data(){return{module:"PROFILE",tightenData:(0,Ie.Dt)()}},props:{stepData:{type:Object,default:(0,Ie.Dt)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},methods:{updateData(){0==this.tightenData.ActionPara.AccTime&&(this.tightenData.ActionPara.AccTime=1e-6),this.tightenData.ActionPara.Acc.Constant=this.tightenData.ActionPara.Velocity/this.tightenData.ActionPara.AccTime},init(){this.tightenData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.tightenData),console.log("torque update:stepData",this.tightenData)},sensorUnit(e){return this.$store.state.sensors[e].name}},watch:{},created(){this.init(),this.$watch((()=>this.tightenData),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const Ge=(0,ie.Z)(Ke,[["render",Je],["__scopeId","data-v-e3465500"]]);var He=Ge;const Ye=e=>((0,i.dD)("data-v-dfaa9b26"),e=e(),(0,i.Cn)(),e),Xe={class:"form-box"},Qe={class:"torque-unit"},et=Ye((()=>(0,i._)("div",{class:"zero"},[(0,i._)("span",null,"0.0")],-1))),tt={class:"angle-unit"};function at(e,t,a,l,n,o){const r=(0,i.up)("InputVal"),m=(0,i.up)("FormItem"),u=(0,i.up)("svg-loader");return(0,i.wg)(),(0,i.iD)("div",Xe,[(0,i._)("div",Qe,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(o.sensorUnit("torque")),1),(0,i.Wm)(m,{class:"form-item",label:e.$t("fastrundown.accleratetime")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,sensorValue:n.tightenData.ActionPara.AccTime,"onUpdate:sensorValue":t[0]||(t[0]=e=>n.tightenData.ActionPara.AccTime=e),uname:"acc_time"},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item max-torque",label:e.$t("selftapping.maxtorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,minNum:n.tightenData.ActionPara.Target.Constant,maxNum:1.2*this.$store.state.g_status.sensor_max,sensorValue:n.tightenData.ActionPara.ResultTorque.Max,"onUpdate:sensorValue":t[1]||(t[1]=e=>n.tightenData.ActionPara.ResultTorque.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-torque",label:e.$t("selftapping.mintorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,maxNum:n.tightenData.ActionPara.Target.Constant,sensorValue:n.tightenData.ActionPara.ResultTorque.Min,"onUpdate:sensorValue":t[2]||(t[2]=e=>n.tightenData.ActionPara.ResultTorque.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item torque-rate",label:e.$t("tighten.torqueRateThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.ResultTorque.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.TorqueRateThreshold,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.tightenData.ActionPara.TorqueRateThreshold=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angle-threshold",label:e.$t("tighten.angleThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.ResultTorque.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.AngleThreshold,"onUpdate:sensorValue":t[4]||(t[4]=e=>n.tightenData.ActionPara.AngleThreshold=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item start-torque",label:e.$t("tighten.startTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.ResultTorque.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[5]||(t[5]=e=>n.tightenData.ActionPara.Target.Constant=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-angle",label:e.$t("tighten.miniAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[6]||(t[6]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angular-sample",label:e.$t("tighten.angularSample")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[7]||(t[7]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-plastic-angle",label:e.$t("tighten.targetPlasticAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item torque-mode-max-angle",label:e.$t("tighten.maxAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Min,maxNum:n.tightenData.ActionPara.Limit.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Max},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item abort-angle",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Limit.Max},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item abort-angle-text",label:e.$t("tighten.abortAngle")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item min-rate",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Limit.Max},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item min-rate-text",label:e.$t("tighten.minTorRate")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item yield-ratio",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Limit.Max},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item yield-ratio-text",label:e.$t("tighten.yieldRatio")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item max-rate",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"3rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.Limit.Max},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item max-rate-text",label:e.$t("tighten.maxTorRate")},null,8,["label"]),et,(0,i._)("div",tt,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(o.sensorUnit("angle")),1),(0,i.Wm)(u,{class:"locktorque-icon",icon:"LockTorque",size:"34rem"})])}var it={data(){return{module:"PROFILE",tightenData:(0,Ie.Dt)()}},props:{stepData:{type:Object,default:(0,Ie.Dt)()}},methods:{updateData(){0==this.tightenData.ActionPara.AccTime&&(this.tightenData.ActionPara.AccTime=1e-6),this.tightenData.ActionPara.Acc.Constant=this.tightenData.ActionPara.Velocity/this.tightenData.ActionPara.AccTime},init(){this.tightenData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.tightenData),console.log("torque update:stepData",this.tightenData)},sensorUnit(e){return this.$store.state.sensors[e].name}},watch:{},created(){this.init(),this.$watch((()=>this.tightenData),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const st=(0,ie.Z)(it,[["render",at],["__scopeId","data-v-dfaa9b26"]]);var lt=st;const nt={class:"form-box"};function ot(e,t,a,s,l,n){const o=(0,i.up)("NewSelect"),r=(0,i.up)("FormItem"),m=(0,i.up)("LeetxSwitch"),u=(0,i.up)("InputVal");return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i.Wm)(r,{class:"form-item zindex6",label:e.$t("tighten.torqueValueMode")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,options:{[e.$t("tighten.peakValue")]:0},realVal:l.tightenData.TorqueValueMode,"onUpdate:realVal":t[0]||(t[0]=e=>l.tightenData.TorqueValueMode=e)},null,8,["module","options","realVal"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item zindex5",label:e.$t("tighten.angleValueMode")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,options:{[e.$t("tighten.peakValue")]:0},realVal:l.tightenData.AngleValueMode,"onUpdate:realVal":t[1]||(t[1]=e=>l.tightenData.AngleValueMode=e)},null,8,["module","options","realVal"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",leftDis:"3.8rem",label:e.$t("tighten.angleReduction")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:l.module,activeVal:!0,staticVal:!1,height:2,value:l.tightenData.AngleZero,modelValue:l.tightenData.AngleZero,"onUpdate:modelValue":t[2]||(t[2]=e=>l.tightenData.AngleZero=e)},null,8,["module","value","modelValue"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",leftDis:"3.8rem",label:e.$t("tighten.torqueReset")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:l.module,activeVal:!0,staticVal:!1,height:2,value:l.tightenData.TorqueZero,modelValue:l.tightenData.TorqueZero,"onUpdate:modelValue":t[3]||(t[3]=e=>l.tightenData.TorqueZero=e)},null,8,["module","value","modelValue"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("release.timeout")},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{module:l.module,minNum:2e3,uname:"time",sensorValue:l.tightenData.ActionPara.Timeout_mS,"onUpdate:sensorValue":t[4]||(t[4]=e=>l.tightenData.ActionPara.Timeout_mS=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("release.stepDelay")},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{module:l.module,uname:"time",sensorValue:l.tightenData.Delay_ms,"onUpdate:sensorValue":t[5]||(t[5]=e=>l.tightenData.Delay_ms=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("release.errorJump"),zIndex:31},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,isScroll:!0,options:a.stepList,realVal:l.tightenData.NOKAction.JumpRow,"onUpdate:realVal":t[6]||(t[6]=e=>l.tightenData.NOKAction.JumpRow=e)},null,8,["module","options","realVal"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("release.NoOkJump")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,isScroll:!0,options:a.stepList,realVal:l.tightenData.NOKAction.NoOkJump,"onUpdate:realVal":t[7]||(t[7]=e=>l.tightenData.NOKAction.NoOkJump=e)},null,8,["module","options","realVal"])])),_:1},8,["label"])])}var rt={components:{LeetxSwitch:ee.Z,InputVal:G.Z},data(){return{module:"PROFILE",tightenData:(0,Ie.jH)()}},props:{stepData:{type:Object,default:(0,Ie.jH)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}},visible:{type:Boolean,default:!0}},methods:{initOptions(){this.tightenData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.tightenData)}},created(){this.initOptions(),this.$watch((()=>this.tightenData),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const mt=(0,ie.Z)(rt,[["render",ot],["__scopeId","data-v-47a36176"]]);var ut=mt,dt={components:{TightenAngleMode:Oe,TightenTorqueMode:He,TightenYieldMode:lt,TightenAdvanceConfig:ut},data(){return{module:"PROFILE",activeTab:1,tightenData:(0,Ie.Dt)(),tightenMode:2,tightenModes:{[this.$t("strategy.torqueMode")]:2,[this.$t("strategy.angleMode")]:4,[this.$t("strategy.yieldMode")]:7}}},props:{stepData:{type:Object,default:(0,Ie.Dt)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},methods:{updateData(e,t){let a=e[0],i=e[1],s=["angleControl","torqueControl","angleControl","ngMotion","backDir","jumpTarget","checkTouchPoint","dir","angleClear","torqueClear","angleValueMode","torqueValueMode","JumpRow"];-1!==s.indexOf(i)?(this.tightenData[a][i].sensorValue=t,"dir"===i&&(this.angleDir=t)):this.tightenData[a][i]=t},initOptions(){this.tightenData=(0,S.p$)(this.stepData)},confirm(){this.$emit("confirm")},dispatchDataChanged(){},initData(){this.tightenMode="ForceOpenLoop"==this.stepData.Action?2:4,this.tightenData=this.stepData,this.$watch((()=>this.tightenData),(()=>{this.$emit("update:stepData",this.tightenData),console.log("tighten dataChnged -> ",this.tightenData)}),{deep:!0})},tightenModeChg(e){console.log("newval",e),this.tightenMode=e,this.tightenData=(0,Ie.ey)(e)}},watch:{},created(){this.initOptions(),this.initData()},computed:{strategyMinTorqueReason(){return 1==this.strategyMinTorqueType?this.$t("strategy.msgFour"):""},strategyMinAngleReason(){return 1==this.strategyMinAngleType?this.$t("strategy.msgTwo"):""},controlMinTorqueReason(){return 1==this.controlMinTorqueType?this.$t("tchnlgy_monitor.msgTwo"):""},controlMinAngleReason(){return 1==this.controlMinAngleType?this.$t("tchnlgy_monitor.msgThree"):""}}};const ct=(0,ie.Z)(dt,[["render",We],["__scopeId","data-v-3333b544"]]);var ht=ct;const gt={class:"data-box"},pt={class:"lock-tab"},ft={class:"form-box"},Dt={class:"form-box"};function bt(e,t,a,n,o,r){const m=(0,i.up)("SlopTestMode"),u=(0,i.up)("TightenAdvanceConfig"),d=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",gt,[(0,i._)("div",pt,[(0,i._)("div",{onClick:t[0]||(t[0]=e=>o.activeTab=1)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":1==o.activeTab})},(0,s.zw)(e.$t("hightsetting.policymonitoring")),3)]),(0,i._)("div",{onClick:t[1]||(t[1]=e=>o.activeTab=2)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":2==o.activeTab})},(0,s.zw)(e.$t("hightsetting.advancedSettings")),3)])]),(0,i.wy)((0,i._)("div",ft,[1==o.activeTab?((0,i.wg)(),(0,i.j4)(m,{key:0,stepData:o.tightenData,"onUpdate:stepData":t[2]||(t[2]=e=>o.tightenData=e)},null,8,["stepData"])):(0,i.kq)("",!0)],512),[[l.F8,1==o.activeTab]]),(0,i.wy)((0,i._)("div",Dt,[2==o.activeTab?((0,i.wg)(),(0,i.j4)(u,{key:0,stepData:o.tightenData,"onUpdate:stepData":t[3]||(t[3]=e=>o.tightenData=e),stepList:a.stepList},null,8,["stepData","stepList"])):(0,i.kq)("",!0)],512),[[l.F8,2==o.activeTab]]),(0,i.Wm)(d,{module:o.module,width:"30.3125rem",height:"3.75rem",onClick:r.confirm,textColor:"#fff",text:e.$t("strategy.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var wt=a(21503);const At={class:"form-box"},Vt={class:"torque-unit"},_t={class:"angle-unit"};function St(e,t,a,l,n,o){const r=(0,i.up)("InputVal"),m=(0,i.up)("FormItem"),u=(0,i.up)("svg-loader");return(0,i.wg)(),(0,i.iD)("div",At,[(0,i._)("div",Vt,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(o.sensorUnit("torque")),1),(0,i.Wm)(m,{class:"form-item zindex5",label:e.$t("monitor.speed")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,width:"17.625rem",uname:"angle_speed",onUpdateData:o.updateData,sensorValue:n.tightenData.ActionPara.Velocity,"onUpdate:sensorValue":t[0]||(t[0]=e=>n.tightenData.ActionPara.Velocity=e)},null,8,["module","onUpdateData","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{class:"form-item",label:e.$t("fastrundown.accleratetime")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,sensorValue:n.tightenData.ActionPara.AccTime,"onUpdate:sensorValue":t[1]||(t[1]=e=>n.tightenData.ActionPara.AccTime=e),onUpdateData:o.updateData,uname:"acc_time"},null,8,["module","sensorValue","onUpdateData"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item max-torque",label:e.$t("seat.maxTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultTorque.Min,maxNum:n.tightenData.ActionPara.TorqueLimit,sensorValue:n.tightenData.ActionPara.ResultTorque.Max,"onUpdate:sensorValue":t[2]||(t[2]=e=>n.tightenData.ActionPara.ResultTorque.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item min-torque",label:e.$t("seat.minTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultTorque.Max,sensorValue:n.tightenData.ActionPara.ResultTorque.Min,"onUpdate:sensorValue":t[3]||(t[3]=e=>n.tightenData.ActionPara.ResultTorque.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item torque-rate",label:e.$t("seat.safeTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:n.tightenData.ActionPara.ResultTorque.Max,maxNum:1.5*this.$store.state.g_status.sensor_max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.TorqueLimit,"onUpdate:sensorValue":t[4]||(t[4]=e=>n.tightenData.ActionPara.TorqueLimit=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angular-sample",label:e.$t("seat.slopeThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",maxNum:n.tightenData.ActionPara.Target.Constant,minNum:0,sensorValue:n.tightenData.ActionPara.TorqueRateThreshold,"onUpdate:sensorValue":t[5]||(t[5]=e=>n.tightenData.ActionPara.TorqueRateThreshold=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item angle-threshold",label:e.$t("seat.angleThreshold")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:0,maxNum:n.tightenData.ActionPara.ResultAngle.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,sensorValue:n.tightenData.ActionPara.AngleThresholdValue,"onUpdate:sensorValue":t[6]||(t[6]=e=>n.tightenData.ActionPara.AngleThresholdValue=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item start-torque",label:e.$t("seat.startTorque")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,minNum:0,maxNum:n.tightenData.ActionPara.ResultTorque.Max,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"torque",showUnitName:!1,sensorValue:n.tightenData.ActionPara.ThresholdValue,"onUpdate:sensorValue":t[7]||(t[7]=e=>n.tightenData.ActionPara.ThresholdValue=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-plastic-angle",label:e.$t("seat.delayAngle")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,minNum:0,sensorValue:n.tightenData.ActionPara.AngleDelay,"onUpdate:sensorValue":t[8]||(t[8]=e=>n.tightenData.ActionPara.AngleDelay=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"5rem",class:"form-item target-angle",label:e.$t("seat.sampleDegree")},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,minNum:0,sensorValue:n.tightenData.ActionPara.AngleSampling,"onUpdate:sensorValue":t[9]||(t[9]=e=>n.tightenData.ActionPara.AngleSampling=e)},null,8,["module","maxNum","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item min-angle",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,maxNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.ResultAngle.Min,"onUpdate:sensorValue":t[10]||(t[10]=e=>n.tightenData.ActionPara.ResultAngle.Min=e)},null,8,["module","maxNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item min-angle-text",label:e.$t("seat.minAngle")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item torque-mode-max-angle",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Min,maxNum:n.tightenData.ActionPara.AngleLimit,sensorValue:n.tightenData.ActionPara.ResultAngle.Max,"onUpdate:sensorValue":t[11]||(t[11]=e=>n.tightenData.ActionPara.ResultAngle.Max=e)},null,8,["module","minNum","maxNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item max-angle-text",label:e.$t("seat.maxAngle")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item abort-angle",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",uname:"angle",showUnitName:!1,minNum:n.tightenData.ActionPara.ResultAngle.Max,sensorValue:n.tightenData.ActionPara.AngleLimit,"onUpdate:sensorValue":t[12]||(t[12]=e=>n.tightenData.ActionPara.AngleLimit=e)},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item abort-angle-text",label:e.$t("seat.safeAngle")},null,8,["label"]),(0,i.Wm)(m,{labelSize:"0",leftDis:"0",labelWidth:"0rem",class:"form-item min-rate",label:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{module:n.module,height:"2.4rem",fontSize:"1.25rem",width:"6.4rem",minNum:n.tightenData.ActionPara.TorqueRateThreshold,sensorValue:n.tightenData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[13]||(t[13]=e=>n.tightenData.ActionPara.Target.Constant=e)},null,8,["module","minNum","sensorValue"])])),_:1}),(0,i.Wm)(m,{labelSize:"1.25rem",leftDis:"0",labelWidth:"0rem",class:"form-item min-rate-text",label:e.$t("seat.targetSlope")},null,8,["label"]),(0,i._)("div",_t,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(o.sensorUnit("angle")),1),(0,i.Wm)(u,{class:"locktorque-icon",icon:"SlopeFind",size:"34rem"})])}var vt={data(){return{module:"PROFILE",tightenData:(0,wt.i)()}},props:{stepData:{type:Object,default:(0,wt.i)()}},methods:{updateData(){0==this.tightenData.ActionPara.AccTime&&(this.tightenData.ActionPara.AccTime=1e-6),this.tightenData.ActionPara.Acc.Constant=this.tightenData.ActionPara.Velocity/this.tightenData.ActionPara.AccTime},init(){this.tightenData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.tightenData),console.log("torque update:stepData",this.tightenData)},sensorUnit(e){return this.$store.state.sensors[e].name}},watch:{},created(){this.init(),this.$watch((()=>this.tightenData),(()=>{this.sendDataStatus()}),{deep:!0})},computed:{}};const xt=(0,ie.Z)(vt,[["render",St],["__scopeId","data-v-5ebf0b87"]]);var Pt=xt,qt={components:{SlopTestMode:Pt,TightenAdvanceConfig:ut},data(){return{module:"PROFILE",activeTab:1,tightenData:(0,wt.i)(),tightenMode:2,tightenModes:{[this.$t("strategy.torqueMode")]:2,[this.$t("strategy.angleMode")]:4,[this.$t("strategy.yieldMode")]:7}}},props:{stepData:{type:Object,default:(0,wt.i)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},methods:{updateData(e,t){let a=e[0],i=e[1],s=["angleControl","torqueControl","angleControl","ngMotion","backDir","jumpTarget","checkTouchPoint","dir","angleClear","torqueClear","angleValueMode","torqueValueMode","JumpRow"];-1!==s.indexOf(i)?(this.tightenData[a][i].sensorValue=t,"dir"===i&&(this.angleDir=t)):this.tightenData[a][i]=t},initOptions(){this.tightenData=(0,S.p$)(this.stepData)},confirm(){this.$emit("confirm")},dispatchDataChanged(){},initData(){this.tightenMode="ForceOpenLoop"==this.stepData.Action?2:4,this.tightenData=this.stepData,this.$watch((()=>this.tightenData),(()=>{this.$emit("update:stepData",this.tightenData)}),{deep:!0})},tightenModeChg(e){console.log("newval",e),this.tightenMode=e,this.tightenData=(0,Ie.ey)(e)}},watch:{},created(){this.initOptions(),this.initData()},computed:{strategyMinTorqueReason(){return 1==this.strategyMinTorqueType?this.$t("strategy.msgFour"):""},strategyMinAngleReason(){return 1==this.strategyMinAngleType?this.$t("strategy.msgTwo"):""},controlMinTorqueReason(){return 1==this.controlMinTorqueType?this.$t("tchnlgy_monitor.msgTwo"):""},controlMinAngleReason(){return 1==this.controlMinAngleType?this.$t("tchnlgy_monitor.msgThree"):""}}};const $t=(0,ie.Z)(qt,[["render",bt],["__scopeId","data-v-39dc2dbb"]]);var yt=$t;const Tt={class:"data-box"},Wt={class:"lock-tab"},It={class:"torque-unit"},Nt={class:"angle-unit"},Ct={class:"label-text top-dis"},zt={class:"label-text top-dis"},Ut={class:"label-text top-dis"},Mt={class:"label-text top-dis"},kt={class:"label-text top-dis"},Rt={class:"speed-unit"};function Lt(e,t,a,n,o,r){const m=(0,i.up)("InputVal"),u=(0,i.up)("FormItemTwo"),d=(0,i.up)("svg-loader"),c=(0,i.up)("FormItem"),h=(0,i.up)("NewSelect"),g=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",Tt,[(0,i._)("div",Wt,[(0,i._)("div",{onClick:t[0]||(t[0]=e=>o.activeTab=1)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":1==o.activeTab})},(0,s.zw)(e.$t("hightsetting.policymonitoring")),3)]),(0,i._)("div",{onClick:t[1]||(t[1]=e=>o.activeTab=2)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":2==o.activeTab})},(0,s.zw)(e.$t("hightsetting.advancedSettings")),3)])]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",It,(0,s.zw)(e.$t("monitor.torque"))+"/"+(0,s.zw)(r.sensorUnit("torque")),1),(0,i._)("div",Nt,(0,s.zw)(e.$t("monitor.angle"))+"/"+(0,s.zw)(r.sensorUnit("angle")),1),(0,i.Wm)(u,{flexDir:"column",class:"add-time"},{default:(0,i.w5)((()=>[(0,i._)("span",Ct,(0,s.zw)(e.$t("strategy.addTime")),1),(0,i.Wm)(m,{module:o.module,fontSize:"1.25rem",height:"3rem",width:"6.4rem",uname:"acc_time",sensorValue:o.config.ActionPara.AccTime,"onUpdate:sensorValue":t[2]||(t[2]=e=>o.config.ActionPara.AccTime=e),onUpdateData:t[3]||(t[3]=e=>r.updateData("AccTime",e))},null,8,["module","sensorValue"])])),_:1}),(0,i.Wm)(u,{flexDir:"column",class:"release-angle"},{default:(0,i.w5)((()=>[(0,i._)("span",zt,(0,s.zw)(e.$t("release.angleRelease")),1),(0,i.Wm)(m,{module:o.module,fontSize:"1.25rem",height:"3rem",width:"6.4rem",uname:"angle","show-unit-name":!1,minNum:0,sensorValue:o.config.ActionPara.Target,"onUpdate:sensorValue":t[4]||(t[4]=e=>o.config.ActionPara.Target=e)},null,8,["module","sensorValue"])])),_:1}),(0,i.Wm)(u,{flexDir:"column",class:"limit-torque"},{default:(0,i.w5)((()=>[(0,i._)("span",Ut,(0,s.zw)(e.$t("release.torqueThreshold")),1),(0,i.Wm)(m,{module:o.module,fontSize:"1.25rem",height:"3rem",width:"6.4rem",uname:"torque","show-unit-name":!1,sensorValue:o.config.ActionPara.ThresholdValue,"onUpdate:sensorValue":t[5]||(t[5]=e=>o.config.ActionPara.ThresholdValue=e)},null,8,["module","sensorValue"])])),_:1}),(0,i.Wm)(u,{flexDir:"column",class:"stop-torque"},{default:(0,i.w5)((()=>[(0,i._)("span",Mt,(0,s.zw)(e.$t("release.stoppingTorque")),1),(0,i.Wm)(m,{module:o.module,fontSize:"1.25rem",height:"3rem",width:"6.4rem",uname:"torque","show-unit-name":!1,sensorValue:o.config.ActionPara.Limit.Max,"onUpdate:sensorValue":t[6]||(t[6]=e=>o.config.ActionPara.Limit.Max=e)},null,8,["module","sensorValue"])])),_:1}),(0,i.Wm)(u,{flexDir:"column",class:"backward"},{default:(0,i.w5)((()=>[(0,i._)("span",kt,(0,s.zw)(e.$t("release.reversal")),1),(0,i.Wm)(m,{module:o.module,fontSize:"1.25rem",height:"3rem",width:"6.4rem",uname:"angle_speed","show-unit-name":!1,sensorValue:o.config.ActionPara.Velocity,"onUpdate:sensorValue":t[7]||(t[7]=e=>o.config.ActionPara.Velocity=e),onUpdateData:t[8]||(t[8]=e=>r.updateData("speed",e))},null,8,["module","sensorValue"])])),_:1}),(0,i._)("div",Rt,(0,s.zw)(e.$t("monitor.speed"))+"/"+(0,s.zw)(r.sensorUnit("angle_speed")),1),(0,i.Wm)(d,{class:"release-icon",icon:"Release",size:"30rem"})],512),[[l.F8,1==o.activeTab]]),(0,i.wy)((0,i._)("div",null,[(0,i.Wm)(c,{class:"form-item",label:e.$t("release.timeout")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,minNum:2e3,sensorValue:o.config.ActionPara.Timeout_mS,"onUpdate:sensorValue":t[9]||(t[9]=e=>o.config.ActionPara.Timeout_mS=e),uname:"time"},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(c,{class:"form-item",label:e.$t("release.stepDelay")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,sensorValue:o.config.Delay_ms,"onUpdate:sensorValue":t[10]||(t[10]=e=>o.config.Delay_ms=e),uname:"time"},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(c,{class:"form-item",label:e.$t("release.errorJump")},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{module:o.module,isScroll:!0,options:a.stepList,realVal:o.config.NOKAction.JumpRow,"onUpdate:realVal":t[11]||(t[11]=e=>o.config.NOKAction.JumpRow=e)},null,8,["module","options","realVal"])])),_:1},8,["label"])],512),[[l.F8,2==o.activeTab]]),(0,i.Wm)(g,{module:o.module,width:"30.3125rem",height:"3.75rem",onClick:r.confirm,textColor:"#fff",text:e.$t("tchnlgy.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var Ot=a(19027),Ft={components:{InputVal:G.Z,LeetxButton:Y.Z},data(){return{module:"PROFILE",config:(0,Ot.f)(),activeTab:1}},methods:{initData(){this.config=this.stepData},confirm(){this.$emit("confirm")},updateData(){this.config.ActionPara.AccTime=0==this.config.ActionPara.AccTime?1e-6:this.config.ActionPara.AccTime,this.config.ActionPara.Acc.Constant=this.config.ActionPara.Velocity/this.config.ActionPara.AccTime},sendDataStatus(){this.$emit("update:stepData",this.config),console.log("update:stepData",this.config)},sensorUnit(e){return this.$store.state.sensors[e].name}},props:{stepData:{type:Object,default:(0,Ot.f)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},created(){this.initData(),this.$watch((()=>this.config),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const jt=(0,ie.Z)(Ft,[["render",Lt],["__scopeId","data-v-438ac099"]]);var Zt=jt;const Bt={class:"data-box"},Et={class:"lock-tab"},Jt={class:"form-box"},Kt={class:"form-box"};function Gt(e,t,a,n,o,r){const m=(0,i.up)("NewSelect"),u=(0,i.up)("FormItem"),d=(0,i.up)("WaitForTime"),c=(0,i.up)("WaitForSignal"),h=(0,i.up)("WaitAdvanceConfig"),g=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",Bt,[(0,i._)("div",Et,[(0,i._)("div",{onClick:t[0]||(t[0]=e=>o.activeTab=1)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":1==o.activeTab})},(0,s.zw)(e.$t("hightsetting.policymonitoring")),3)]),(0,i._)("div",{onClick:t[1]||(t[1]=e=>o.activeTab=2)},[(0,i._)("span",{class:(0,s.C_)({"tab-text":!0,"border-green":2==o.activeTab})},(0,s.zw)(e.$t("hightsetting.advancedSettings")),3)])]),(0,i.wy)((0,i._)("div",Jt,[(0,i.Wm)(u,{class:"form-item first-item zindex5",label:e.$t("wait.wait")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:o.module,realVal:o.wait_type,options:o.waitTypes,onValChng:r.changeWaitype},null,8,["module","realVal","options","onValChng"])])),_:1},8,["label"]),0==o.wait_type&&1==o.activeTab?((0,i.wg)(),(0,i.j4)(d,{key:0,stepData:o.waitData,"onUpdate:stepData":t[2]||(t[2]=e=>o.waitData=e)},null,8,["stepData"])):(0,i.kq)("",!0),1==o.wait_type&&1==o.activeTab?((0,i.wg)(),(0,i.j4)(c,{key:1,stepData:o.waitData,"onUpdate:stepData":t[3]||(t[3]=e=>o.waitData=e)},null,8,["stepData"])):(0,i.kq)("",!0)],512),[[l.F8,1==o.activeTab]]),(0,i.wy)((0,i._)("div",Kt,[2==o.activeTab?((0,i.wg)(),(0,i.j4)(h,{key:0,stepData:o.waitData,"onUpdate:stepData":t[4]||(t[4]=e=>o.waitData=e),stepList:a.stepList},null,8,["stepData","stepList"])):(0,i.kq)("",!0)],512),[[l.F8,2==o.activeTab]]),(0,i.Wm)(g,{module:o.module,width:"30.3125rem",height:"3.75rem",onClick:r.confirm,textColor:"#fff",text:e.$t("tchnlgy.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"save-box"},null,8,["module","onClick","text"])])}const Ht={class:"form-box"};function Yt(e,t,a,s,l,n){const o=(0,i.up)("NewSelect"),r=(0,i.up)("FormItem"),m=(0,i.up)("InputVal");return(0,i.wg)(),(0,i.iD)("div",Ht,[(0,i.Wm)(r,{class:"form-item zindex4",label:e.$t("wait.signalSource")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,realVal:l.waitData.ActionPara.TargetSdo.LinkSdo,"onUpdate:realVal":t[0]||(t[0]=e=>l.waitData.ActionPara.TargetSdo.LinkSdo=e),options:l.signalSources,onValChng:t[1]||(t[1]=e=>l.waitData.ActionPara.TargetSdo.LinkSdo=e)},null,8,["module","realVal","options"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item zindex3",label:e.$t("wait.waitingSignalValue")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,realVal:l.waitData.ActionPara.CompareValue,"onUpdate:realVal":t[2]||(t[2]=e=>l.waitData.ActionPara.CompareValue=e),options:l.signalVals,onValChng:t[3]||(t[3]=e=>l.waitData.ActionPara.CompareValue=e)},null,8,["module","realVal","options"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("wait.timeOutDuration")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:l.module,minNum:1,sensorValue:l.waitData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[4]||(t[4]=e=>l.waitData.ActionPara.Target.Constant=e),uname:"time"},null,8,["module","sensorValue"])])),_:1},8,["label"])])}var Xt=a(65747),Qt={components:{},data(){return{module:"PROFILE",waitData:(0,Xt.V)(),signalSources:{[this.$t("wait.synSignal")]:"0x300409"},signalVals:{[this.$t("wait.lowLevel")]:!1},activeTab:1}},methods:{initData(){this.waitData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.waitData),console.log("waitData update:stepData",this.waitData)}},props:{stepData:{type:Object,default:(0,Xt.V)()}},created(){this.initData(),this.$watch((()=>this.waitData),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const ea=(0,ie.Z)(Qt,[["render",Yt],["__scopeId","data-v-9faabb1a"]]);var ta=ea;const aa={class:"form-box"};function ia(e,t,a,s,l,n){const o=(0,i.up)("InputVal"),r=(0,i.up)("FormItem");return(0,i.wg)(),(0,i.iD)("div",aa,[(0,i.Wm)(r,{class:"form-item",label:e.$t("wait.time")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,minNum:1,uname:"time",sensorValue:l.waitData.ActionPara.Target.Constant,"onUpdate:sensorValue":t[0]||(t[0]=e=>l.waitData.ActionPara.Target.Constant=e)},null,8,["module","sensorValue"])])),_:1},8,["label"])])}var sa={components:{},data(){return{module:"PROFILE",waitData:(0,Xt.$)(),activeTab:1}},methods:{initData(){this.waitData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.waitData)}},props:{stepData:{type:Object,default:(0,Xt.$)()}},created(){this.initData(),this.$watch((()=>this.waitData),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const la=(0,ie.Z)(sa,[["render",ia],["__scopeId","data-v-16cfbc3d"]]);var na=la;const oa={class:"form-box"};function ra(e,t,a,s,l,n){const o=(0,i.up)("InputVal"),r=(0,i.up)("FormItem"),m=(0,i.up)("NewSelect");return(0,i.wg)(),(0,i.iD)("div",oa,[(0,i.Wm)(r,{class:"form-item first-item",label:e.$t("release.stepDelay")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,uname:"time",sensorValue:l.waitData.Delay_ms,"onUpdate:sensorValue":t[0]||(t[0]=e=>l.waitData.Delay_ms=e)},null,8,["module","sensorValue"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item",label:e.$t("release.errorJump")},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{module:l.module,isScroll:!0,options:a.stepList,realVal:l.waitData.NOKAction.JumpRow,"onUpdate:realVal":t[1]||(t[1]=e=>l.waitData.NOKAction.JumpRow=e)},null,8,["module","options","realVal"])])),_:1},8,["label"])])}var ma={components:{},data(){return{module:"PROFILE",waitData:(0,Xt.V)()}},methods:{initData(){this.waitData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.waitData)}},props:{stepData:{type:Object,default:(0,Xt.V)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},created(){this.initData(),this.$watch((()=>this.waitData),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const ua=(0,ie.Z)(ma,[["render",ra],["__scopeId","data-v-a327e5fc"]]);var da=ua,ca={components:{LeetxButton:Y.Z,WaitForSignal:ta,WaitForTime:na,WaitAdvanceConfig:da},data(){return{module:"PROFILE",waitData:(0,Xt.V)(),wait_type:0,waitTypes:{[this.$t("wait.time")]:0,[this.$t("wait.signal")]:1},activeTab:1}},methods:{changeWaitype(e){this.wait_type=e,this.waitData=1==this.wait_type?(0,Xt.V)():(0,Xt.$)()},initData(){this.waitData=(0,S.p$)(this.stepData),this.wait_type="WaitForSignal"==this.waitData.Action?1:0},confirm(){this.$emit("confirm")},getUnit(e){return this.$store.state.sensors[e]},sendDataStatus(){this.$emit("update:stepData",this.waitData)},updateWaitSignal(e,t){this.waitData[e].sensorValue=t}},props:{stepData:{type:Object,default:(0,Xt.V)()},stepList:{type:Object,default:function(){return{"继续":-1,"结束":-2}}}},created(){this.initData(),this.$watch((()=>this.waitData),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const ha=(0,ie.Z)(ca,[["render",Gt],["__scopeId","data-v-3fd6f976"]]);var ga=ha;const pa={class:"form-box"};function fa(e,t,a,s,l,n){const o=(0,i.up)("NewSelect"),r=(0,i.up)("FormItem"),m=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",pa,[(0,i.Wm)(r,{class:"form-item first-item zindex4",label:e.$t("wait.signalSource")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,realVal:l.waitData.ActionPara.TargetSdo.LinkSdo,"onUpdate:realVal":t[0]||(t[0]=e=>l.waitData.ActionPara.TargetSdo.LinkSdo=e),options:l.signalSources,onValChng:t[1]||(t[1]=e=>l.waitData.ActionPara.TargetSdo.LinkSdo=e)},null,8,["module","realVal","options"])])),_:1},8,["label"]),(0,i.Wm)(r,{class:"form-item zindex3",label:e.$t("output.signalType")},{default:(0,i.w5)((()=>[(0,i.Wm)(o,{module:l.module,realVal:l.waitData.ActionPara.CompareValue,"onUpdate:realVal":t[2]||(t[2]=e=>l.waitData.ActionPara.CompareValue=e),options:l.signalVals,onValChng:t[3]||(t[3]=e=>l.waitData.ActionPara.CompareValue=e)},null,8,["module","realVal","options"])])),_:1},8,["label"]),(0,i.Wm)(m,{module:l.module,width:"30.3125rem",height:"3.75rem",onClick:n.confirm,textColor:"#fff",text:e.$t("knowhat.save"),fontFamily:"'SourceHanSansCN-Bold'",fontSize:"2.25rem",bgcColor:"#00c155",class:"confirm-box"},null,8,["module","onClick","text"])])}var Da={components:{LeetxButton:Y.Z},data(){return{module:"PROFILE",waitData:(0,Xt.V)(),signalSources:{[this.$t("output.ioSignal")]:"0x30082800"},signalVals:{[this.$t("output.lowLevel")]:!1,[this.$t("output.highLevel")]:!0},activeTab:1}},methods:{confirm(){this.$emit("confirm")},initData(){this.waitData=(0,S.p$)(this.stepData)},sendDataStatus(){this.$emit("update:stepData",this.waitData),console.log("waitData update:stepData",this.waitData)}},props:{stepData:{type:Object,default:(0,Xt.V)()}},created(){this.initData(),this.$watch((()=>this.waitData),(()=>{this.sendDataStatus()}),{deep:!0})},watch:{},computed:{}};const ba=(0,ie.Z)(Da,[["render",fa],["__scopeId","data-v-f0309408"]]);var wa=ba,Aa=a(22805),Va=a(23263),_a=a(32015),Sa=a(74125);const va={components:{InputText:Va.Z,FindBolt:pe,FastMove:Pe,Tightening:ht,SocketRelease:Zt,Wait:ga,OutSignal:wa,SlopeTest:yt},data(){return{module:"PROFILE",seqItems:[],activeSeqIndex:-1,addSeqIndex:-1,sel_seq_type:"",profile:{},profile_json:"",global_paras_json:"",seq_types:{FindBolt:this.$t("knowhat.konwhat"),FastMove:this.$t("fastrundown.fastrundown"),Wait:this.$t("delay.delay"),SocketRelease:this.$t("unloading.unloading"),Tighten:this.$t("tighten.tighten"),OutSignal:this.$t("output.output"),SlopeTest:this.$t("seat.seatDetection")},seqIcons:{FindBolt:["StaticKnowHat","ActiveKnowHat"],FastMove:["StaticFastRotate","ActiveFastRotate"],Wait:["StaticWait","ActiveWait"],SocketRelease:["StaticRelease","ActiveRelease"],Tighten:["StaticLock","ActiveLock"],OutSignal:["StaticOutSignal","ActiveOutSignal"],SlopeTest:["SlopeStatic","SlopeActive"]},profile_name:"...",validPset:!0,curPsetId:-1,profileNameLst:[],need_check_edit:!1,delPsetNum:0,isCheckRoute:!1}},beforeRouteLeave(e,t,a){if(""!=this.nameReason&&-1!=this.curPsetId)return te.c.warning([this.$t("job.invalidName")]),void a(!1);this.isCheckRoute=!0;let i=this.profile.Pset==this.delPsetNum,s=this.global_paras_json==JSON.stringify(this.profile.Sequence.GlobalParams),l=this.profile_json==JSON.stringify(this.seqItems),n=this.profile_name==this.profile.Name;if(s&&l&&n||i)a();else{let e=this.$t("tchnlgy.savePset"),t=this.$t("tchnlgy.yes"),i=this.$t("tchnlgy.no"),o=this.$t("tchnlgy.whetherSavePset");0==s&&(o+=this.$t("tchnlgy.stepModified")),0==l&&(o+=this.$t("tchnlgy.stepParamModified")),0==n&&(o+=this.$t("tchnlgy.nameModified")),(0,_a.Z)({title:e,confirmText:t,cancelText:i,msg:o}).then((async()=>{await this.confirm(),a()})).catch((()=>{a()}))}},methods:{async confirm(){""==this.nameReason||-1==this.curPsetId?(this.profile.Sequence.Branchs[0].SeqItems=(0,Aa.t2)((0,S.p$)(this.seqItems)),this.profile.Name=this.profile_name,await this.sendFileToServerApi(this.profile,this.saveSuccess),this.need_check_edit=!1,this.curPsetId==this.$store.state.g_status.pset&&(this.$store.state.g_status.eopos=-1)):te.c.warning([this.$t("job.invalidName")])},showAddingSeqItemDialog(e){this.addSeqIndex=e,setTimeout((()=>{this.$refs.addingbox.focus()}),20)},showGlobalConfig(){let e=this.profile.Sequence.GlobalParams;ne({GlobalParams:e}).then((e=>{this.profile.Sequence.GlobalParams=e,this.need_check_edit=!0})).catch((e=>{e&&console.log(e)})),this.global_paras_json=JSON.stringify(this.profile.Sequence.GlobalParams)},jumpStepLst(){const e={[this.$t("fastrundown.continued")]:-1,[this.$t("fastrundown.stop")]:-2,[this.$t("fastrundown.reverseEnd")]:-3};if(-1==this.activeSeqIndex||0==this.seqItems.length)return e;for(let t=1;t<this.seqItems.length+1;t++)t!=this.activeSeqIndex+1&&(e[t]=t);return e},resetData(){this.getPfList(),this.closeSeqAddingBox(),this.sel_seq_type="",this.curPsetId=-1,this.profile_name="...",this.seqItems=[],this.need_check_edit=!1},closeSeqAddingBox(){this.addSeqIndex=-1},backStaticBox(){this.activeBox=-1},async sendFileToServerApi(e,t){if(!this.enabledEdit)return te.c.warning([this.$t("tchnlgy.isRunning"),this.$t("tchnlgy.noModified")]);try{const a=await(0,Sa.FX)({Profile:e});this.need_check_edit=!1,t&&t(a)}catch(a){console.log("pfModApi profile error ",a),te.c.error([this.$t("tchnlgy.saveFail")])}},getFileContentByPsetApi(e,t,a){(0,Sa.Y3)(e).then((e=>{t&&t(e)})).catch((e=>{console.log("getFileContent profile error ",e),a&&a(e)}))},getCurPsetProfile(e){e&&e>0&&this.getFileContentByPsetApi(e,(t=>{if(0===t.status){let a=t.data.Profile;this.setFileContent(a),this.curPsetId=e,this.need_check_edit=!0}else this.curPsetId=-1,this.need_check_edit=!1,te.c.warning(["获取文件失败"])}),(()=>{this.curPsetId=-1,this.need_check_edit=!1,te.c.warning(["获取文件失败"])}))},setFileContent(e){this.profile_name=e.Name,this.profile=e,this.seqItems=(0,S.p$)(this.profile.Sequence.Branchs[0].SeqItems.slice(1,-1)),this.profile_json=JSON.stringify(this.seqItems),this.global_paras_json=JSON.stringify(this.profile.Sequence.GlobalParams),this.selSeqItemByIndex(0,!1)},selSeqItemByIndex(e,t=!0){if(e<0||e>=this.seqItems.length)return this.activeSeqIndex=-1,void(this.sel_seq_type="");this.activeSeqIndex==e&&t||(this.activeSeqIndex=e,this.sel_seq_type="",setTimeout((()=>{this.sel_seq_type=this.seqItems[e].Descr}),30))},addSeqItemBySeqType(e){if(!this.enabledEdit){let e=this.$t("tchnlgy.notEdit"),t=this.$t("tchnlgy.activateFile");return void te.c.warning([e,t])}let t=this.activeSeqIndex==this.addSeqIndex?this.activeSeqIndex:this.activeSeqIndex+1,a=(0,S.p$)(this.seqItems),i=(0,Aa.bR)(e);a.splice(t,0,i);for(let s=0;s<a.length;s++)a[s].NOKAction.JumpRow>t&&(a[s].NOKAction.JumpRow+=1);this.seqItems=a,this.addSeqIndex=-1,this.selSeqItemByIndex(t,!1)},delSeqItem(e){if(!this.enabledEdit){let e=this.$t("tchnlgy.notEdit"),t=this.$t("tchnlgy.runFile");return void te.c.warning([e,t])}for(let l=0;l<this.seqItems.length;l++)if(l!=e&&this.seqItems[l].NOKAction.JumpRow==e+1){let e=l+1;return void te.c.warning([this.$t("tchnlgy.isUsed",[e]),this.$t("tchnlgy.isFrom")])}let t=this.$t("tchnlgy.delPset"),a=this.$t("tchnlgy.yes"),i=this.$t("tchnlgy.no"),s=this.$t("tchnlgy.isDeletePocessStep");(0,_a.Z)({title:t,confirmText:a,cancelText:i,msg:s}).then((()=>{let t=(0,S.p$)(this.seqItems);for(let a=0;a<t.length;a++)t[a].NOKAction.JumpRow>e&&(t[a].NOKAction.JumpRow-=1);t.splice(e,1),this.seqItems=t,this.selSeqItemByIndex(e>=this.seqItems.length-1?this.seqItems.length-1:e,!1)}))},promptUserSave(e){let t=this.$t("tchnlgy.confirmSave"),a=this.$t("tchnlgy.yes"),i=this.$t("tchnlgy.no"),s=this.$t("tchnlgy.confirmMsgOne");(0,_a.Z)({title:t,confirmText:a,cancelText:i,msg:s}).then((()=>{this.selSeqItemByIndex(e)})).catch((()=>{this.selSeqItemByIndex(e)}))},seqItemTexts(e,t){switch(e){case"FindBolt":return[[this.$t("step.angle"),this.displayVal("angle",this.seqItems[t].ActionPara.Target)],[this.$t("step.torque"),this.displayVal("torque",this.seqItems[t].ActionPara.Limit.Max)]];case"FastMove":return"ForceOpenLoop"==this.seqItems[t].Action?[[this.$t("step.torque"),this.displayVal("torque",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity.Constant)]]:[[this.$t("step.angle"),this.displayVal("angle",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity.Constant)]];case"Wait":return[[this.$t("wait.type")+":","WaitConstantTime"==this.seqItems[t].Action?"Time":"Signal"],[this.$t("wait.time")+":",this.displayVal("time",this.seqItems[t].ActionPara.Target.Constant)]];case"OutSignal":return[[this.$t("output.type"),"Signal"],[this.$t("output.signal"),this.seqItems[t].ActionPara.CompareValue?this.$t("output.highLevel"):this.$t("output.lowLevel")]];case"SlopeTest":return[[this.$t("seat.target")+":",this.seqItems[t].ActionPara.Target.Constant],[this.$t("seat.speed")+":",this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity)]];case"SocketRelease":return[[this.$t("step.angle"),this.displayVal("angle",this.seqItems[t].ActionPara.Target)],[this.$t("step.torque"),this.displayVal("torque",this.seqItems[t].ActionPara.Limit.Max)]];case"Tighten":return"ForceOpenLoop"==this.seqItems[t].Action?[[this.$t("step.torque"),this.displayVal("torque",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity)]]:"PositionOpenLoop"==this.seqItems[t].Action?[[this.$t("step.angle"),this.displayVal("angle",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity)]]:[[this.$t("tchnlgy.target"),this.displayVal("torque",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity)]];default:return[[this.$t("tchnlgy.target"),this.displayVal("torque",this.seqItems[t].ActionPara.Target.Constant)],[this.$t("step.speed"),this.displayVal("angle_speed",this.seqItems[t].ActionPara.Velocity)]]}},displayVal(e,t){var a=this.$store.state.sensors[e];return null==a&&(a={gain:1,offset:0,name:""}),`${Math.round(1e3*(parseFloat(t)*a.gain+a.offset))/1e3}${a.name}`},initEmptyProfile(){this.profile=(0,Aa.re)(2),this.setFileContent(this.profile)},initCurPset(){let e=this.$route.query.pset;"number"==typeof parseInt(e)&&e>0?this.curPsetId=e:this.curPsetId=-1},excuteDefaultAction(){this.resetData(),this.curPsetId=this.$route.query.pset,this.curPsetId>0&&this.getCurPsetProfile(this.curPsetId)},getPfList(e){(0,Sa.Lm)().then((t=>{9127!=t.status&&0==t.status&&(this.profileNameLst=[],t.data.forEach((e=>{e.pset!=this.curPsetId&&this.profileNameLst.push(e.name)})),e&&e())})).catch((()=>{}))},saveSuccess(e){0==e.status?(this.profile_json=JSON.stringify(this.seqItems),this.global_paras_json=JSON.stringify(this.profile.Sequence.GlobalParams),te.c.success([this.$t("setop.saveSuc")])):9131==e.status?te.c.warning([this.$t("tchnlgy.fileUnchanged")]):9125==e.status?te.c.warning([this.$t("tchnlgy.fileNotExit")]):9128==e.status?te.c.warning([this.$t("tchnlgy.versionInconsistent")]):9129==e.status?te.c.warning([this.$t("tchnlgy.modifyFileFail")]):te.c.error([this.$t("tchnlgy.saveFail"),[`[${e.status}]`]])},checkDelPfPset(){this.$bus.on("delPset",(e=>{this.delPsetNum=e.pset,this.profile}))},isChanged(){let e=this.profile.Pset==this.delPsetNum,t=this.global_paras_json==JSON.stringify(this.profile.Sequence.GlobalParams),a=this.profile_json==JSON.stringify(this.seqItems),i=this.profile_name==this.profile.Name;return!(t&&a&&i||e)},openDialog(){let e=this.$t("tchnlgy.savePset"),t=this.$t("tchnlgy.yes"),a=this.$t("tchnlgy.no"),i=this.$t("tchnlgy.isSavePset");(0,_a.Z)({title:e,confirmText:t,cancelText:a,msg:i}).then((()=>{this.confirm(),this.excuteDefaultAction()})).catch((()=>{this.excuteDefaultAction()}))}},computed:{enabledEdit(){return 0==(this.curPsetId==this.$store.state.g_status.pset&&this.$store.state.g_status.busy)},nameReason(){return-1==this.curPsetId?-1:0==this.profile_name.length?this.$t("dlgprogram.nameNotEmpty"):this.profile_name&&this.profileNameLst.length>0&&-1!=this.profileNameLst.indexOf(this.profile_name)?this.$t("dlgprogram.nameRepeat"):""},enabled(){return"PROFILE"in this.$store.state.f_status.permissions&&4==this.$store.state.f_status.permissions["PROFILE"]},pointerEvent(){return this.enabled?"auto":"none"},opacity(){return this.enabled?1:.5}},created(){this.getPfList(),this.initEmptyProfile(),this.checkDelPfPset()},watch:{"$route.query.pset":{immediate:!0,handler:function(e,t){void 0!=t&&void 0!=e&&this.isChanged()&&0==this.isCheckRoute?this.openDialog():this.excuteDefaultAction()}}}},xa=()=>{(0,l.sj)((e=>({c8f16626:e.pointerEvent,"45f2190a":e.opacity})))},Pa=va.setup;va.setup=Pa?(e,t)=>(xa(),Pa(e,t)):xa;var qa=va;const $a=(0,ie.Z)(qa,[["render",_],["__scopeId","data-v-c209bc12"]]);var ya=$a}}]);
//# sourceMappingURL=927.dc4f8101.js.map