{"version":3,"file":"js/286.b5e27a1e.js","mappings":"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","sources":["webpack://leetx-web/./src/utils/deepCopy.js","webpack://leetx-web/./src/components/setting/UserMng.vue","webpack://leetx-web/./src/dialogs/permission/edituser/EditUser.vue","webpack://leetx-web/./src/dialogs/permission/edituser/EditUser.vue?23ac","webpack://leetx-web/./src/dialogs/permission/edituser/edituser.js","webpack://leetx-web/./src/dialogs/permission/adduser/AddUser.vue","webpack://leetx-web/./src/dialogs/permission/adduser/AddUser.vue?9f68","webpack://leetx-web/./src/dialogs/permission/adduser/adduser.js","webpack://leetx-web/./src/components/setting/UserMng.vue?bed0"],"sourcesContent":["// 递归实现深拷贝\r\n\r\nexport function deepCopy(obj) {\r\n    let ctn\r\n    if (obj instanceof Array) {\r\n        ctn = []\r\n        for (let i = 0; i < obj.length; i++) {\r\n            ctn[i] = deepCopy(obj[i])\r\n        }\r\n    }\r\n    else if (obj instanceof Object) {\r\n        ctn = {}\r\n        for (let key of Object.keys(obj)) {\r\n            ctn[key] = deepCopy(obj[key])\r\n        }\r\n    }\r\n    else {\r\n        ctn = obj\r\n    }\r\n    return ctn\r\n}\r\n// 给工艺表单初始化数据,实际上组件传出数据的时候,外层只用到了sensorValue\r\nexport function initData(param) {\r\n    if (param instanceof Array) {\r\n        throw new Error(`${param} 不能为数组  `)\r\n    }\r\n    let val\r\n    if (param instanceof Object) {\r\n        val = {}\r\n        for (let key in param) {\r\n            val[key] = initData(param[key])\r\n        }\r\n    }\r\n    else {\r\n        val = { sensorValue: param, displayValue: 0, valid: true }\r\n    }\r\n    return val\r\n}\r\n\r\n\r\nexport function getDeepData(current, target, fn) {\r\n    if (target instanceof Object) {\r\n        for (let key in target) {\r\n            target[key] = getDeepData(current[key], target[key], fn)\r\n        }\r\n    } else {\r\n        target = current.sensorValue\r\n        fn && fn(target, current)\r\n    }\r\n    return target\r\n}\r\n\r\n// 判断两个对象的数据结构是否一样,值可以不一样\r\n// 深度遍历\r\nfunction sameStructure(obj1, obj2, isCheckValSame = false) {\r\n    let isSame = true\r\n    // 同为数组怎么样处理\r\n    if ((obj1 instanceof Array) && (obj2 instanceof Array) && (obj2.length == obj1.length)) {\r\n        for (let i = 0; i < obj1.length; i++) {\r\n            isSame = isSame && sameStructure(obj1[i], obj2[i], isCheckValSame)\r\n            if (!isSame) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n    // 同为对象但不是数组怎么样处理\r\n    else if ((obj1 instanceof Object) && (obj2 instanceof Object) && !(obj1 instanceof Array) && !(obj2 instanceof Array)) {\r\n        for (let key in obj1) {\r\n            // obj2里面有这个属性\r\n            if (key in obj2) {\r\n                isSame = isSame && sameStructure(obj1[key], obj2[key], isCheckValSame)\r\n                if (!isSame) {\r\n                    break\r\n                }\r\n            } else {\r\n                isSame = false\r\n                break\r\n            }\r\n        }\r\n    }\r\n    else if (!(obj1 instanceof Object) && !(obj2 instanceof Object)) {\r\n        // 说明数据结构一样\r\n        isSame = true\r\n        // 检测值是不是一样的\r\n        if (isCheckValSame) {\r\n            isSame = obj1 === obj2\r\n        }\r\n    }\r\n    else {\r\n        isSame = false\r\n    }\r\n    return isSame\r\n}\r\n\r\n// function sameStructureCheck(obj1, obj2) {\r\n//     for (let c in obj1) {\r\n//         if (c instanceof Object)\r\n//             return sameStructureCheck(obj1, obj2)\r\n//         else\r\n//             if (!(c in obj2))\r\n//                 return false;\r\n//     }\r\n//     return true;\r\n// }\r\n\r\n//两个数据结构是否相同\r\nexport function hasSameStructure(obj1, obj2, isCheckValSame = false) {\r\n    if (isCheckValSame) {\r\n        return JSON.stringify(obj1) === JSON.stringify(obj2)\r\n    }\r\n    return sameStructure(obj1, obj2)\r\n}\r\n\r\n\r\n\r\n//检测对象是否包含空值\r\nexport function checkObjHasNull(obj, replaceVal) {\r\n    if (obj === null || obj === undefined) return true\r\n    if (typeof (obj) != 'object') return false\r\n    for (let key in obj) {\r\n        const isNull = checkObjHasNull(obj[key])\r\n        if (isNull) {\r\n            obj[key] = replaceVal\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","<template>\r\n    <div class=\"users-mng-box\" @click=\"isClickOpearteBox\">\r\n        <div class=\"users-nav\">\r\n            <span class=\"id-span\">{{ $t('setuser.username') }}</span><span class=\"name-span\">{{\r\n                $t('setuser.roleedit')\r\n            }}</span>\r\n            <span class=\"role-span\" ref=\"editUsr\">{{ $t('setuser.liveTime') }}</span>\r\n            <span class=\"edit-span\"></span>\r\n        </div>\r\n        <div class=\"mask-box\">\r\n            <div class=\"table-box\">\r\n                <div v-for=\"(item, i) in  users\" :key=\"i\" :class=\"{ 'users-item': true, 'active-user': actvUsr == i }\"\r\n                    @click=\"operateUsr(i)\">\r\n                    <span class=\"id-span\">{{ item.user_name }}</span>\r\n                    <span class=\"name-span\">{{ item.group_name }}</span>\r\n                    <span class=\"role-span\">{{ $t('setuser.noLimit') }}</span>\r\n\r\n                    <span class=\"edit-span\" v-if=\"permision_level == 4\">\r\n                        <svg-loader @click=\"editUserDialog\" v-show=\"actvUsr == i\" class=\"edit-btn\" icon=\"ActiveEditUser\"\r\n                            size=\"2.5rem\"></svg-loader>\r\n                        <svg-loader @click=\"delUser\"\r\n                            v-show=\"actvUsr == i && this.$store.state.f_status.user != item.user_name\" class=\"trash-btn\"\r\n                            icon=\"DelDmrct\" size=\"2.5rem\"></svg-loader>\r\n                    </span>\r\n                </div>\r\n                <div :class=\"{ 'users-item': true, 'add-line': true }\">\r\n                    <span class=\"id-span\" v-if=\"permision_level == 4\">\r\n                        <LeetxButton :module=\"module\" @click=\"addUserDialog\" class=\"add-btn\" :use-icon=\"true\"\r\n                            icon=\"StaticCircleAdd\" bgcColor=\"transparent\" height=\"2.5rem\" width=\"2.5rem\" iconSize=\"2.5rem\">\r\n                        </LeetxButton>\r\n                    </span>\r\n                    <span class=\"name-span\"></span>\r\n                    <span class=\"role-span\"></span>\r\n                    <span class=\"edit-span\"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { authUserAddApi, authUserDelApi, authGroupLstApi, authUserLstApi, authUserModApi } from \"../../api/authorize/authorize.js\"\r\nimport userEdit from \"../../dialogs/permission/edituser/edituser.js\"\r\nimport userAdd from \"../../dialogs/permission/adduser/adduser.js\"\r\nimport cnfrmWin from '../../dialogs/common/confirm/cnfrm.js'\r\nimport { hasSameStructure } from '../../utils/deepCopy.js'\r\nimport logout from '../../utils/logout.js'\r\nimport { messageApi } from '../message/message.js'\r\nimport LeetxButton from \"../controls/LeetxButton.vue\"\r\nexport default {\r\n    components: {\r\n        LeetxButton\r\n    },\r\n    data() {\r\n        return {\r\n            module: \"AUTH_GROUP\",\r\n            actvUsr: -1,\r\n            users: [],\r\n            groups: [],\r\n            newUser: {\r\n                user: \"\",\r\n                pwd: \"\",\r\n                user_key: \"\",\r\n                // workNum: \"\",\r\n                group_id: \"\",\r\n            },\r\n            oldUser: {\r\n                user_id: \"\",\r\n                user_name: \"\",\r\n                user_key: \"\",\r\n                user_password: \"\",\r\n                email: \"\",\r\n                group_id: \"\",\r\n                others: \"\"\r\n            },\r\n            isLogin: 0,\r\n            userNames: [],\r\n            userKeys: [],\r\n            password: [],\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        operateUsr(i) {\r\n            this.actvUsr = this.actvUsr == i ? -1 : i\r\n        },\r\n        editUserDialog() {\r\n            userEdit({ \"groups\": this.groups, \"olduser\": this.users[this.actvUsr], 'names': this.userNames, 'bus': this.$bus, 'keys': this.userKeys, 'pwd': this.password }).then(\r\n                async (result) => {\r\n                    for (let key in this.oldUser) {\r\n                        this.oldUser[key] = result.user[key].text\r\n                    }\r\n                    if (!hasSameStructure(this.oldUser, result.oldUser, true)) {\r\n                        await this.editUser(this.oldUser)\r\n                        setTimeout(() => {\r\n                            if (result.olduser.user_name == this.$store.state.f_status.user) {\r\n                                logout()\r\n                                let success = this.$t('logout.success')\r\n                                let loginAgain = this.$t('logout.loginAgain')\r\n                                messageApi.success([success, loginAgain])\r\n                            }\r\n                        }, 500)\r\n                    }\r\n\r\n                })\r\n        },\r\n        addUserDialog() {\r\n            if (this.groups.length <= 0) return\r\n            userAdd({ 'groups': this.groups, 'names': this.userNames, 'bus': this.$bus, 'keys': this.userKeys, 'pwd': this.password }).then((result) => {\r\n                for (let key in this.newUser) {\r\n                    this.newUser[key] = result[key].text\r\n                }\r\n                this.addUser(this.newUser)\r\n            })\r\n        },\r\n        async addUser(newUser) {\r\n            newUser = newUser ? newUser : { \"user\": `user${Math.random().toFixed(3) * 10000}`, \"pwd\": 123456, \"group_id\": 1, \"user_key\": 123456, \"user_password\": 123456 }\r\n            await authUserAddApi(newUser).then((result) => {\r\n                if (result.status != 0) {\r\n                    messageApi.error(['添加用户失败'])\r\n                } else {\r\n                    this.getUserList()\r\n                }\r\n            }).catch(() => {\r\n                // messgaeApi.error(['添加用户失败'])\r\n            });\r\n            this.getUserList()\r\n        },\r\n        delUser() {\r\n            // let isDel = false\r\n            // let name=this.users[this.actvUsr].user_name\r\n            let user_id = this.users[this.actvUsr].user_id\r\n            let title = this.$t('setuser.deluser')\r\n            let confirmText = this.$t('setuser.yes')\r\n            let cancelText = this.$t('setuser.no')\r\n            let msg = this.$t('setuser.isDelGroup')\r\n            cnfrmWin({ title, confirmText, cancelText, msg }).then(() => {\r\n\r\n                authUserDelApi(user_id).then((result) => {\r\n                    if (result.status != 0) {\r\n                        messageApi.error(['删除用户失败'])\r\n                    }\r\n                }).catch(() => {\r\n                    // messgaeApi.error(['删除用户失败'])        \r\n                });\r\n                this.getUserList()\r\n                this.restActiveUser()\r\n            })\r\n\r\n        },\r\n        getGroupList() {\r\n            authGroupLstApi().then((result) => {\r\n                if (result.status == 0) {\r\n                    this.groups = result.data\r\n                    this.initUserNames()\r\n                } else {\r\n                    this.groups = []\r\n                }\r\n            })\r\n        },\r\n        getUserList() {\r\n            authUserLstApi().then((result) => {\r\n                if (result.status == 0) {\r\n                    this.users = result.data\r\n                    this.initUserNames()\r\n                } else {\r\n                    this.users = []\r\n                }\r\n            })\r\n        },\r\n        async editUser(user) {\r\n            await authUserModApi(user)\r\n            this.getUserList()\r\n        },\r\n        restActiveUser() {\r\n            this.actvUsr = -1\r\n        },\r\n        resetData() {\r\n            this.actvUsr = -1\r\n            this.users = []\r\n            this.groups = []\r\n        },\r\n        initUserNames() {\r\n            this.userNames = []\r\n            this.userKeys = []\r\n            this.password = []\r\n            for (let user of this.users) {\r\n                this.userNames.push(user.user_name)\r\n                this.userKeys.push(user.user_key)\r\n                this.password.push(user.user_password)\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        if (this.permision_level >= 1) {\r\n            this.getUserList()\r\n            this.getGroupList()\r\n        }\r\n    },\r\n    computed: {\r\n        permision_level() {\r\n            if (this.module in this.$store.state.f_status.permissions)\r\n                return this.$store.state.f_status.permissions[this.module]\r\n            else\r\n                return 0\r\n        },\r\n    },\r\n    // watch: {\r\n    //     enabled: {\r\n    //         immediate: true,\r\n    //         // deep:true,\r\n    //         handler() {\r\n    //             if (this.isLogin != this.enabled) {\r\n    //                 this.isLogin = this.enabled\r\n    //                 if (this.enabled) {\r\n    //                     this.getUserList()\r\n    //                     this.getGroupList()\r\n    //                 } else {\r\n    //                     this.resetData()\r\n    //                 }\r\n    //             }\r\n\r\n    //         }\r\n    //     }\r\n    //},\r\n}\r\n</script>\r\n<style scoped>\r\nli {\r\n    list-style: none;\r\n}\r\n\r\n.users-mng-box {\r\n    position: relative;\r\n    height: 100%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    top: 1rem;\r\n    font-size: var(--font1_5);\r\n    width: 84.5vw;\r\n    padding-bottom: 1rem;\r\n    border-top: 2px solid var(--C00);\r\n}\r\n\r\n.users-nav {\r\n    display: flex;\r\n    width: 84.5vw;\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    font-size: var(--font1_5);\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    border-bottom: 1px solid var(--C00);\r\n    color: var(--C65);\r\n\r\n}\r\n\r\n.mask-box {\r\n    position: relative;\r\n    width: 84.5vw;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    height: 60vh;\r\n    overflow: hidden;\r\n}\r\n\r\n.table-box {\r\n    position: relative;\r\n    width: calc(84.5vw + 18px);\r\n    overflow-y: scroll;\r\n    overflow-x: hidden;\r\n    height: 100%;\r\n}\r\n\r\n.users-item {\r\n    position: relative;\r\n    left: 0;\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    display: flex;\r\n    width: 84.5vw;\r\n    color: var(--C3B);\r\n    border-bottom: 1px solid var(--Cd4);\r\n    font-size: var(--font1_625);\r\n\r\n}\r\n\r\n.users-item span {\r\n    position: relative;\r\n}\r\n\r\n.users-nav .id-span,\r\n.users-item .id-span {\r\n    /* flex: 1; */\r\n    width: 30%;\r\n}\r\n\r\n.users-nav .name-span,\r\n.users-item .name-span {\r\n    /* flex: 2; */\r\n    width: 30%;\r\n}\r\n\r\n.users-nav .role-span,\r\n.users-item .role-span {\r\n    /* flex: 2; */\r\n    width: 15%;\r\n}\r\n\r\n.role-span {\r\n    white-space: nowrap;\r\n}\r\n\r\n.users-nav .edit-span,\r\n.users-item .edit-span {\r\n    /* flex: 1; */\r\n    width: 25%;\r\n}\r\n\r\n.users-item span:last-child {\r\n    cursor: pointer;\r\n}\r\n\r\n.active-user {\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n.add-btn {\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n}\r\n\r\n.edit-btn {\r\n    position: relative;\r\n    right: 2.5rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.trash-btn {\r\n    position: relative;\r\n    right: 1rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.add-line {\r\n\r\n    border-top: 2px solid var(--C00);\r\n    border-bottom: 0px;\r\n}\r\n</style>","<template>\r\n    <div class=\"eidtuser-box\" v-if=\"isShow\">\r\n        <div class=\"eidtuser-title-line\">\r\n            <span class=\"eidtuser-title-msg\">{{ $t('dlgedituser.editUser') }}</span>\r\n            <span class=\"edituser-box-close\" @click=\"cancel\">\r\n                <svgloader class=\"icon-close\" icon=\"Close\" size=\"1.2rem\"></svgloader>\r\n            </span>\r\n        </div>\r\n        <div class=\"eidtuser-name-line\">\r\n            <div class=\"eidtuser-name-text\">\r\n                {{ $t('dlgedituser.name') }}\r\n            </div>\r\n            <InputText :text=\"olduser.user_name\" :imprprChrctr=\"['space']\" :textValid=\"validNameType == -1\"\r\n                :validReason=\"nameReason\" class=\"eidtuser-name-input\" v-model=\"user.user_name\"></InputText>\r\n        </div>\r\n        <div class=\"eidtuser-pswrd-line\">\r\n            <div class=\"eidtuser-pwd-text\">\r\n                {{ $t('dlgedituser.loginPwd') }}\r\n            </div>\r\n            <InputText :isShowKeyBoard=\"showKeyBoard()\" :imprprChrctr=\"['space']\" :textValid=\"validPswrdType == -1\"\r\n                :validReason=\"pwdReason\" :text=\"olduser.user_password\" :placeholder=\"$t('dlgedituser.pwdMsg')\"\r\n                class=\"eidtuser-name-input\" :type=\"pswdOrtext\" v-model=\"user.user_password\">\r\n            </InputText>\r\n            <svgloader :icon=\"eyeType\" class=\"user-pswd-eye\" size=\"1.5rem\" v-show=\"hasEye\" @click=\"showPswrd\"></svgloader>\r\n        </div>\r\n        <div class=\"eidtuser-key-line\">\r\n            <div class=\"eidtuser-key-text\">\r\n                {{ $t('newuser.loginCode') }}\r\n            </div>\r\n            <InputText :isShowKeyBoard=false :placeholder=\"$t('newuser.swipeCardLogin')\" class=\"eidtuser-key-input\"\r\n                :textValid=\"validWorkerNumType == -1\" :validReason=\"userKeyNameReason\" v-model:text=\"user.user_key.text\">\r\n            </InputText>\r\n        </div>\r\n        <div class=\"eidtuser-role-line\">\r\n            <div class=\"eidtuser-role-text\">\r\n                {{ $t('dlgedituser.newRole') }}\r\n            </div>\r\n            <NewSelect class=\"eidtuser-name-input\" :width=\"18.4768\" :realVal=\"user.group_id.text\"\r\n                @valChng=\"user.group_id.text = $event\" :options=\"groupInfo\"></NewSelect>\r\n        </div>\r\n        <br>\r\n        <div class=\"edituser-operate-line\">\r\n            <div class=\"edituser-cancel-btn\" @click=\"cancel\">\r\n                {{ $t('dlgedituser.cancel') }}\r\n            </div>\r\n            <div class=\"edituser-cnfrm-btn\" @click=\"sbmtUserInfo\" v-if=\"groups.length != 0 && allowAddUser\"\r\n                v-show=\"groups.length != 0\">\r\n                {{ $t('dlgedituser.confirm') }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { vuexStore } from '@/store/storeHelper'\r\nimport InputText from '../../../components/input/InputText.vue'\r\nimport svgloader from '../../../components/icon_font/svgloader.vue'\r\nimport NewSelect from '../../../components/select/NewSelect.vue'\r\nimport { maskApi } from '../../mask/StackMask.vue'\r\nexport default {\r\n    components: {\r\n        InputText, svgloader,\r\n        NewSelect\r\n    },\r\n    data() {\r\n        return {\r\n            user: {\r\n                user_id: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                user_name: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                email: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                group_id: {\r\n                    text: \"\",\r\n                    valid: false\r\n                },\r\n                user_key: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                user_password: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                others: {\r\n                    text: \"\",\r\n                    valid: false\r\n                }\r\n            },\r\n            groupInfo: {},\r\n            isShow: true,\r\n            validNameType: -1,\r\n            validPswrdType: -1,\r\n            validWorkerNumType: -1,\r\n            maskId: 0,\r\n            inputValue: '',\r\n            lastKeyPressTime: 0,\r\n            scanDelay: 50,   // 定义扫码延迟时间（毫秒）\r\n            isShowPswrd: false,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initStatus()\r\n        // 添加全局键盘事件监听器\r\n        // window.addEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.on('scannerInput', this.handleScannerInput);\r\n    },\r\n    beforeUnmount() {\r\n        // 在组件销毁时移除全局键盘事件监听器\r\n        // window.removeEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.off('scannerInput', this.handleScannerInput);\r\n    },\r\n    methods: {\r\n        showKeyBoard() {\r\n            if (!vuexStore.state.f_status.environment_is_node) {\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        showPswrd() {\r\n            if (!vuexStore.state.f_status.environment_is_node) {\r\n                return false;\r\n            }\r\n            this.isShowPswrd = !this.isShowPswrd\r\n        },\r\n        handleScannerInput(code) {\r\n            console.log(\"收到用于注册的code:\", code)\r\n            this.user.user_key.text = code\r\n        },\r\n        sbmtUserInfo() {\r\n            this.isShow = false\r\n            let user = this.user\r\n            let olduser = this.olduser\r\n            this.onConfirm && this.onConfirm({ user, olduser })\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        cancel() {\r\n            this.isShow = false\r\n            this.onCancel && this.onCancel()\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        initGroupInfo() {\r\n            for (let i = 0; i < this.groups.length; i++) {\r\n                this.groupInfo[this.groups[i].group_name] = this.groups[i].group_id\r\n            }\r\n        },\r\n        initStatus() {\r\n            this.maskId = maskApi.rise(15, this.cancel)\r\n        },\r\n        updateUserValidType() {\r\n            if (this.user.user_name.text == \"\") {\r\n                this.validNameType = 1\r\n            }\r\n            else if (this.olduser.user_name != this.user.user_name.text && this.names.indexOf(this.user.user_name.text) != -1) {\r\n                this.validNameType = 2\r\n            }\r\n            else if (this.user.user_name.text.length > 10) {\r\n                this.validNameType = 3\r\n            }\r\n            else {\r\n                this.validNameType = -1\r\n            }\r\n        },\r\n        updatePswrdValidType() {\r\n            if (this.user.user_password.text === \"\") {\r\n                this.validPswrdType = 1\r\n            } else {\r\n                this.validPswrdType = -1\r\n            }\r\n        },\r\n        updateWorkNumValidType() {\r\n            const occurrences = this.keys.reduce((count, element) => {\r\n                if (element === this.user.user_key.text) {\r\n                    count++;\r\n                }\r\n                return count;\r\n            }, 0);\r\n            if ((this.user.user_key.text != \"\" && occurrences > 1) || (this.user.user_key.text != \"\" && this.olduser.user_key != this.user.user_key.text && this.keys.indexOf(this.user.user_key.text) != -1)) {\r\n                this.validWorkerNumType = 2\r\n            } else {\r\n                this.validWorkerNumType = -1\r\n            }\r\n        },\r\n    },\r\n    props: {\r\n        groups: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        olduser: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        names: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n        keys: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n        pwd: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        olduser: {\r\n            immediate: true,\r\n            deep: true,\r\n            handler: function () {\r\n                for (let key in this.user) {\r\n                    this.user[key].text = this.olduser[key]\r\n                }\r\n            }\r\n        },\r\n        groups: {\r\n            immediate: true,\r\n            deep: true,\r\n            handler: function () {\r\n                this.initGroupInfo()\r\n            }\r\n        },\r\n        'user.user_name': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        'user.user_password': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updatePswrdValidType()\r\n            }\r\n        },\r\n        'user.user_key': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n        keys: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n        pwd: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updatePswrdValidType()\r\n            }\r\n        }\r\n\r\n    },\r\n    computed: {\r\n        pswdOrtext() {\r\n            if (this.isShowPswrd) {\r\n                return 'text'\r\n            }\r\n            return 'password'\r\n        },\r\n        hasEye() {\r\n            return this.user.user_password.text.length > 0\r\n        },\r\n        eyeType() {\r\n            return this.isShowPswrd ? \"OpenEye\" : \"CloseEye\"\r\n        },\r\n        nameReason() {\r\n            if (this.validNameType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validNameType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validNameType == 2) {\r\n                return this.$t('dlgadduser.nameReasonTwo')\r\n            }\r\n            if (this.validNameType == 3) {\r\n                return this.$t('dlgadduser.nameReasonThree')\r\n            }\r\n            return \"\"\r\n        },\r\n        pwdReason() {\r\n            if (this.validPswrdType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validPswrdType == 1) {\r\n                return this.$t('dlgadduser.pwdReasonOne')\r\n            }\r\n            if (this.validPswrdType == 2) {\r\n                return this.$t('dlgadduser.pwdReasonTwo')\r\n            }\r\n            return \"\"\r\n        },\r\n        userKeyNameReason() {\r\n            if (this.validWorkerNumType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validWorkerNumType == 2) {\r\n                return this.$t('dlgadduser.userKeyReason')\r\n            }\r\n            return \"\"\r\n        },\r\n        allowAddUser() {\r\n            let valid = true\r\n            valid = valid && (this.validNameType == -1)\r\n            valid = valid && (this.validPswrdType == -1)\r\n            valid = valid && (this.validWorkerNumType == -1)\r\n            return valid\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n.user-pswd-eye {\r\n    display: inline-block !important;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 82.88%;\r\n    z-index: 33;\r\n}\r\n\r\n.eidtuser-box {\r\n    width: 37.5rem;\r\n    height: 31.25rem;\r\n    background-color: var(--fff);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    z-index: 40;\r\n}\r\n\r\n.eidtuser-title-line {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 3.2688rem;\r\n    background-color: var(--Cee);\r\n    color: var(--C3B);\r\n    border-radius: 0.375rem;\r\n    ;\r\n}\r\n\r\n.eidtuser-title-msg {\r\n    position: absolute;\r\n    display: inline-block;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    top: 50%;\r\n    height: 2.4375rem;\r\n    font-size: var(--font1_75);\r\n    line-height: 2.4375rem;\r\n    letter-spacing: 0px;\r\n\r\n    color: var(--C3B);\r\n}\r\n\r\n.edituser-box-close {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 3rem;\r\n    height: 3rem;\r\n    color: var(--C65);\r\n}\r\n\r\n.icon-close {\r\n    position: absolute;\r\n    right: 1.0625rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.eidtuser-name-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 6.125rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.eidtuser-pswrd-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 10.6625rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.eidtuser-key-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 15.125rem;\r\n    height: 3.125rem;\r\n}\r\n.eidtuser-role-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 19.5625rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n\r\n.eidtuser-name-text,\r\n.eidtuser-pwd-text,\r\n.eidtuser-role-text,\r\n.eidtuser-key-text {\r\n    position: absolute;\r\n    left: 3.23rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    height: 1.5625rem;\r\n\r\n    font-size: var(--font1_625);\r\n    line-height: 1.5625rem;\r\n    color: var(--C3B);\r\n}\r\n\r\n.eidtuser-name-input,\r\n.eidtuser-pswrd-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4768rem !important;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.eidtuser-key-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4768rem !important;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.edituser-operate-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 3.15rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.edituser-cnfrm-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    right: 8.4375rem;\r\n    background-color: var(--C00c155);\r\n    font-size: var(--font1_625);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n\r\n}\r\n\r\n.edituser-cancel-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    left: 8.4375rem;\r\n    background-color: var(--Cee);\r\n    font-size: var(--font1_625);\r\n    color: var(--C00);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n\r\n}\r\n</style>","import { render } from \"./EditUser.vue?vue&type=template&id=44b823c4&scoped=true\"\nimport script from \"./EditUser.vue?vue&type=script&lang=js\"\nexport * from \"./EditUser.vue?vue&type=script&lang=js\"\n\nimport \"./EditUser.vue?vue&type=style&index=0&id=44b823c4&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44b823c4\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport EditUser from '../../../dialogs/permission/edituser/EditUser.vue'\r\nimport langvue from \"../../../plugins/langVue\";\r\n// 导出函数可通过调用 Confirm() 函数动态创建 XtxConfirm 组件\r\n\r\nconst userEdit = (props={}) => {\r\n    if(typeof(props)!=\"object\") throw new Error(\"props must be a object\")\r\n    return new Promise((resolve, reject) => { //promise封装，ok执行resolve，no执行reject\r\n        // 创建组件实例\r\n        let app =createApp(EditUser,props).use(langvue)\r\n        app.config.globalProperties.$bus = props.bus\r\n        let dom = app.mount(document.createElement(\"div\"));\r\n        // 添加元素\r\n        document.body.appendChild(dom.$el);\r\n        // 重写组件的函数\r\n        dom.onConfirm = function (x) {\r\n            resolve(x)\r\n        }\r\n        dom.onCancel = function (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\nexport default userEdit","<template>\r\n    <div class=\"adduser-box\" v-if=\"isShow\">\r\n        <div class=\"adduser-title-line\">\r\n            <span class=\"adduser-title-msg\">{{ $t('newuser.newuser') }}</span>\r\n            <span class=\"adduser-box-close\" @click=\"cancel\">\r\n                <svgloader class=\"icon-close\" icon=\"Close\" size=\"1.2rem\"></svgloader>\r\n            </span>\r\n        </div>\r\n        <div class=\"adduser-name-line\">\r\n            <div class=\"adduser-name-text\">\r\n                {{ $t('newuser.username') }}\r\n            </div>\r\n            <InputText :imprprChrctr=\"illegalWords\" :textValid=\"validNameType == -1\" :validReason=\"nameReason\" :text=\"''\"\r\n                :placeholder=\"$t('newuser.usernamemsg')\" class=\"adduser-name-input\" v-model=\"userData.user\"></InputText>\r\n        </div>\r\n        <div class=\"adduser-pswrd-line\">\r\n            <div class=\"adduser-name-text\">\r\n                {{ $t('newuser.initialPswrd') }}\r\n            </div>\r\n            <InputText :imprprChrctr=\"['space']\" :textValid=\"validPswrdType == -1\" :validReason=\"pwdReason\"\r\n                :placeholder=\"$t('newuser.pswrdmsg')\" class=\"adduser-pswrd-input\" :type=\"pswdOrtext\" v-model=\"userData.pwd\">\r\n            </InputText>\r\n            <svgloader :icon=\"eyeType\" class=\"user-pswd-eye\" size=\"1.5rem\" v-show=\"haseye\" @click=\"showPswrd\"></svgloader>\r\n        </div>\r\n\r\n        <div class=\"adduser-worknum-line\">\r\n            <div class=\"adduser-worknum-text\">\r\n                {{ $t('newuser.loginCode') }}\r\n            </div>\r\n            <!-- <InputVal class=\"adduser-worknum-input\" :sensorValue=\"0\" :isInt=\"true\" :isLimit=\"false\"  @updateData=\"userData.user_key=$event\"></InputVal>-->\r\n            <InputText :isShowKeyBoard=false :placeholder=\"$t('newuser.swipeCardLogin')\" class=\"adduser-worknum-input\"\r\n                :textValid=\"validWorkerNumType == -1\" :validReason=\"userKeyNameReason\"\r\n                v-model:text=\"userData.user_key.text\"></InputText>\r\n        </div>\r\n        <div class=\"adduser-role-line\">\r\n            <div class=\"adduser-role-text\">\r\n                {{ $t('newuser.prmsnrole') }}\r\n            </div>\r\n            <NewSelect class=\"adduser-name-input\" :width=\"17.625\" :realVal=\"userData.group_id.text\" :options=\"getGroups()\"\r\n                @valChng=\"userData.group_id.text = $event\"></NewSelect>\r\n        </div>\r\n        <div class=\"adduser-operate-line\">\r\n            <div class=\"adduser-cancel-btn\" @click=\"cancel\">{{ $t('dlgadduser.cancel') }}</div>\r\n            <div v-if=\"groups.length != 0 && allowAddUser\" class=\"adduser-cnfrm-btn\" @click=\"sbmtUserInfo\"\r\n                v-show=\"groups.length != 0\">{{ $t('dlgadduser.sure') }}</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport svgloader from '../../../components/icon_font/svgloader.vue'\r\n\r\nimport InputText from '../../../components/input/InputText.vue'\r\n// import InputVal from '../../../components/input/InputVal.vue'\r\nimport NewSelect from '../../../components/select/NewSelect.vue'\r\nimport { maskApi } from '../../mask/StackMask.vue'\r\n\r\nexport default {\r\n    components: {\r\n        InputText, svgloader, NewSelect,\r\n        // InputVal\r\n    },\r\n    data() {\r\n        return {\r\n            userData: {\r\n                user: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                pwd: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                user_key: {\r\n                    text: \"\",\r\n                    valid: false,\r\n                },\r\n                group_id: {\r\n                    text: this.groups[0].group_id,\r\n                    valid: true,\r\n                },\r\n            },\r\n            isShow: true,\r\n            isShowPswrd: false,\r\n            illegalWords: [',', '.', ':', ';', \"'\", '\"', '?', \"!\", \"-\", \"+\", \"/\", \"=\", '(', \")\", 'space'],\r\n            validNameType: 1,\r\n            validWorkerNumType: 1,\r\n            validPswrdType: 1,\r\n            maskId: 0,\r\n            inputValue: '',\r\n            lastKeyPressTime: 0,\r\n            scanDelay: 50   // 定义扫码延迟时间（毫秒）\r\n        }\r\n    },\r\n    methods: {\r\n        // handleGlobalKeydown(event) {\r\n        //     // 计算两次按键之间的时间间隔\r\n        //     const currentTime = new Date().getTime();\r\n        //     const timeSinceLastKeyPress = currentTime - this.lastKeyPressTime;\r\n        //     this.lastKeyPressTime = currentTime;\r\n        //     if (event.key === 'Enter' && this.inputValue !== '') {\r\n        //         this.userData.user_key.text = this.inputValue\r\n        //         console.log('完整的数据:', this.userData.user_key.text);\r\n        //         this.inputValue = ''; // 清空scanValue\r\n        //         this.lastKeyPressTime = 0\r\n        //     } else {\r\n        //         if (timeSinceLastKeyPress < this.scanDelay || 0 == this.lastKeyPressTime) {\r\n        //             this.inputValue += event.key; // 拼接字符串\r\n        //             console.log('扫码枪数据:', this.userData.user_key.text);\r\n        //         } else {\r\n\r\n\r\n        //             console.log('普通键盘数据:', event.key);\r\n        //         }\r\n        //         // event.preventDefault(); // 阻止键盘输入的字符显示在输入框中\r\n        //     }\r\n        // },\r\n        handleScannerInput(code) {\r\n            console.log(\"收到用于注册的code:\", code)\r\n            this.userData.user_key.text = code\r\n        },\r\n        showPswrd() {\r\n            this.isShowPswrd = !this.isShowPswrd\r\n        },\r\n        sbmtUserInfo() {\r\n            this.isShow = false\r\n            this.onConfirm && this.onConfirm(this.userData)\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        cancel() {\r\n            this.isShow = false\r\n            this.onCancel && this.onCancel()\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        getGroups() {\r\n            let obj = {}\r\n            for (let key in this.groups) {\r\n                obj[this.groups[key].group_name] = this.groups[key].group_id\r\n            }\r\n            return obj\r\n        },\r\n        initStatus() {\r\n            this.maskId = maskApi.rise(15, this.cancel)\r\n        },\r\n        updateWorkNumValidType() {\r\n            if (this.userData.user_key.text != \"\" && this.keys.indexOf(this.userData.user_key.text) != -1) {\r\n                this.validWorkerNumType = 2\r\n            } else {\r\n                this.validWorkerNumType = -1\r\n            }\r\n        },\r\n        updateUserValidType() {\r\n            if (this.userData.user.text == \"\") {\r\n                this.validNameType = 1\r\n            }\r\n            else if (this.names.indexOf(this.userData.user.text) != -1) {\r\n                this.validNameType = 2\r\n            }else if(this.userData.user.text.length>10){\r\n                this.validNameType = 3\r\n            }\r\n            else {\r\n                this.validNameType = -1\r\n            }\r\n        },\r\n        updatePswrdValidType() {\r\n            if (this.userData.pwd.text == \"\") {\r\n                this.validPswrdType = 1\r\n            }else if(this.userData.pwd.text.length>10){\r\n                this.validPswrdType = 2\r\n            } else {\r\n                this.validPswrdType = -1\r\n            }\r\n        },\r\n\r\n    },\r\n    props: {\r\n        groups: {\r\n            type: Object,\r\n            default: function () {\r\n                return {}\r\n            }\r\n        },\r\n        names: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n        keys: {\r\n            type: Array,\r\n            default: function () {\r\n                return []\r\n            }\r\n        },\r\n    },\r\n    watch: {\r\n        groups: {\r\n            deep: true,\r\n            handler: function () {\r\n                (this.groups);\r\n            }\r\n        },\r\n        'userData.user': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        'userData.pwd': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updatePswrdValidType()\r\n            }\r\n        },\r\n        'userData.user_key': {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n        names: {\r\n            deep: true,\r\n            handler: function () {\r\n                // this.updateValidType()\r\n                this.updateUserValidType()\r\n            }\r\n        },\r\n        keys: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler: function () {\r\n                this.updateWorkNumValidType()\r\n            }\r\n        },\r\n\r\n    },\r\n    computed: {\r\n        pswdOrtext() {\r\n            if (this.isShowPswrd) {\r\n                return 'text'\r\n            }\r\n            return 'password'\r\n        },\r\n        haseye() {\r\n            return this.userData.pwd.text.length > 0\r\n        },\r\n        eyeType() {\r\n            return this.isShowPswrd ? \"OpenEye\" : \"CloseEye\"\r\n        },\r\n        nameReason() {\r\n            if (this.validNameType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validNameType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validNameType == 2) {\r\n                return this.$t('dlgadduser.nameReasonTwo')\r\n            }\r\n            if (this.validNameType == 3) {\r\n                return this.$t('dlgadduser.nameReasonThree')\r\n            }\r\n            return \"\"\r\n        },\r\n        userKeyNameReason() {\r\n            if (this.validWorkerNumType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validWorkerNumType == 1) {\r\n                return this.$t('dlgadduser.nameReasonOne')\r\n            }\r\n            if (this.validWorkerNumType == 2) {\r\n                return this.$t('dlgadduser.userKeyReason')\r\n            }\r\n            return \"\"\r\n        },\r\n        pwdReason() {\r\n            if (this.validPswrdType == -1) {\r\n                return \"\"\r\n            }\r\n            if (this.validPswrdType == 1) {\r\n                return this.$t('dlgadduser.pwdReasonOne')\r\n            }\r\n            if (this.validPswrdType == 2) {\r\n                return this.$t('dlgadduser.pwdReasonTwo')\r\n            }\r\n            return \"\"\r\n        },\r\n        allowAddUser() {\r\n            let valid = true\r\n            valid = valid && (this.validNameType == -1)\r\n            valid = valid && (this.validPswrdType == -1)\r\n            valid = valid && (this.validWorkerNumType == -1)\r\n            return valid\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initStatus()\r\n        // 添加全局键盘事件监听器\r\n        // window.addEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.on('scannerInput', this.handleScannerInput);\r\n    },\r\n    beforeUnmount() {\r\n        // 在组件销毁时移除全局键盘事件监听器\r\n        // window.removeEventListener('keydown', this.handleGlobalKeydown);\r\n        this.$bus.off('scannerInput', this.handleScannerInput);\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n.adduser-box {\r\n    width: 37.5rem;\r\n    height: 31.25rem;\r\n    background-color: var(--fff);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    z-index: 40;\r\n}\r\n\r\n.adduser-title-line {\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 3.2688rem;\r\n    background-color: var(--Cee);\r\n    color: var(--C3B);\r\n    border-radius: 0.375rem;\r\n    ;\r\n}\r\n\r\n.adduser-title-msg {\r\n    position: absolute;\r\n    display: inline-block;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    top: 50%;\r\n    height: 2.4375rem;\r\n    font-size: var(--font1_75);\r\n    line-height: 2.4375rem;\r\n    letter-spacing: 0px;\r\n    color: var(--C3B);\r\n}\r\n\r\n.adduser-box-close {\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 3rem;\r\n    height: 3rem;\r\n    color: var(--C65);\r\n}\r\n\r\n.icon-close {\r\n    position: absolute;\r\n    right: 1.0625rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.adduser-name-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 5.8469rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-pswrd-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 10.7844rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-worknum-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 15.7219rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-role-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 20.2594rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-name-text,\r\n.adduser-role-text,\r\n.adduser-worknum-text {\r\n    position: absolute;\r\n    left: 3.23rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    height: 1.5625rem;\r\n    font-size: var(--font1_625);\r\n    line-height: 1.5625rem;\r\n    color: var(--C3B);\r\n}\r\n\r\n.adduser-name-input,\r\n.adduser-pswrd-input {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 17.625rem;\r\n    text-align: center;\r\n    font-size: var(--font1_625);\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C3B);\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.adduser-worknum-input {\r\n    position: absolute;\r\n    right: 3.2106rem;\r\n\r\n}\r\n\r\n.adduser-operate-line {\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 3.15rem;\r\n    height: 3.125rem;\r\n}\r\n\r\n.adduser-cnfrm-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    right: 8.4375rem;\r\n    background-color: var(--C00c155);\r\n    font-size: var(--font1_625);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n}\r\n\r\n.adduser-cancel-btn {\r\n    text-align: center;\r\n    position: absolute;\r\n    top: 0;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    width: 8.625rem;\r\n    left: 8.4375rem;\r\n    background-color: var(--Cf1);\r\n    font-size: var(--font1_625);\r\n    color: var(--C00);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius: 0.25rem;\r\n}\r\n\r\n.user-pswd-eye {\r\n    display: inline-block;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 82.88%;\r\n    z-index: 33;\r\n}\r\n</style>","import { render } from \"./AddUser.vue?vue&type=template&id=859be7e8&scoped=true\"\nimport script from \"./AddUser.vue?vue&type=script&lang=js\"\nexport * from \"./AddUser.vue?vue&type=script&lang=js\"\n\nimport \"./AddUser.vue?vue&type=style&index=0&id=859be7e8&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-859be7e8\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport AddUser from '../../../dialogs/permission/adduser/AddUser.vue'\r\nimport langvue from \"../../../plugins/langVue\";\r\n// 导出函数可通过调用 Confirm() 函数动态创建 XtxConfirm 组件\r\nconst userAdd = (props={}) => {\r\n    if(typeof(props)!=\"object\") throw new Error(\"props must be a object\")\r\n    return new Promise((resolve, reject) => { //promise封装，ok执行resolve，no执行reject\r\n        // 创建组件实例\r\n        (props);\r\n        let app =createApp(AddUser,props).use(langvue)\r\n        app.config.globalProperties.$bus = props.bus\r\n        let dom = app.mount(document.createElement(\"div\"));\r\n\r\n        // 添加元素\r\n        document.body.appendChild(dom.$el);\r\n        // 重写组件的函数\r\n        dom.onConfirm = function (x) {\r\n            resolve(x)\r\n        }\r\n        dom.onCancel = function (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\nexport default userAdd","import { render } from \"./UserMng.vue?vue&type=template&id=2d862fca&scoped=true\"\nimport script from \"./UserMng.vue?vue&type=script&lang=js\"\nexport * from \"./UserMng.vue?vue&type=script&lang=js\"\n\nimport \"./UserMng.vue?vue&type=style&index=0&id=2d862fca&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d862fca\"]])\n\nexport default __exports__"],"names":["deepCopy","obj","ctn","Array","i","length","Object","key","keys","sameStructure","obj1","obj2","isCheckValSame","isSame","hasSameStructure","JSON","stringify","class","_createElementVNode","_createElementBlock","onClick","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","ref","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","$data","item","$options","_hoisted_8","user_name","_hoisted_9","group_name","_hoisted_10","_hoisted_11","_createVNode","_component_svg_loader","icon","size","this","$store","state","f_status","user","_hoisted_12","_hoisted_13","_component_LeetxButton","module","bgcColor","height","width","iconSize","_hoisted_14","_hoisted_15","_hoisted_16","_component_svgloader","_component_InputText","text","$props","imprprChrctr","textValid","validReason","_hoisted_7","isShowKeyBoard","user_password","placeholder","type","user_key","_component_NewSelect","realVal","group_id","onValChng","$event","options","components","InputText","svgloader","NewSelect","data","user_id","valid","email","others","groupInfo","isShow","validNameType","validPswrdType","validWorkerNumType","maskId","inputValue","lastKeyPressTime","scanDelay","isShowPswrd","mounted","initStatus","$bus","on","handleScannerInput","beforeUnmount","off","methods","showKeyBoard","vuexStore","showPswrd","code","console","log","sbmtUserInfo","olduser","onConfirm","maskApi","cancel","onCancel","initGroupInfo","groups","updateUserValidType","names","indexOf","updatePswrdValidType","updateWorkNumValidType","occurrences","reduce","count","element","props","default","pwd","watch","immediate","deep","handler","computed","pswdOrtext","hasEye","eyeType","nameReason","$t","pwdReason","userKeyNameReason","allowAddUser","__exports__","userEdit","Error","Promise","resolve","reject","app","createApp","EditUser","use","langvue","config","globalProperties","bus","dom","mount","document","createElement","body","appendChild","$el","x","err","userData","illegalWords","getGroups","haseye","userAdd","AddUser","LeetxButton","actvUsr","users","newUser","oldUser","isLogin","userNames","userKeys","password","operateUsr","editUserDialog","then","async","result","editUser","setTimeout","logout","success","loginAgain","messageApi","addUserDialog","addUser","Math","random","toFixed","authUserAddApi","status","getUserList","catch","delUser","title","confirmText","cancelText","msg","cnfrmWin","authUserDelApi","restActiveUser","getGroupList","authGroupLstApi","initUserNames","authUserLstApi","authUserModApi","resetData","push","created","permision_level","permissions","render"],"sourceRoot":""}