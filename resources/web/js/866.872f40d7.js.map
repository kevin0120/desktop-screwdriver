{"version":3,"file":"js/866.872f40d7.js","mappings":"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","sources":["webpack://leetx-web/./src/components/setting/Io.vue","webpack://leetx-web/./src/dialogs/settings/ioinptsetting/IoInptSetting.vue","webpack://leetx-web/./src/dialogs/settings/ioinptsetting/IoInptSetting.vue?21e7","webpack://leetx-web/./src/dialogs/settings/ioinptsetting/ioinptsetting.js","webpack://leetx-web/./src/components/setting/Io.vue?4110"],"sourcesContent":["<template>\r\n    <div class=\"io-container\">\r\n        <div class=\"io-box\">\r\n            <div class=\"inner-box\">\r\n                <div class=\"io-line\" v-for=\"i of 8\" :key=\"i\">\r\n                    <span>I{{ i }}</span>\r\n                    <span></span>\r\n                    <span>O{{ i }}</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"left-box\">\r\n                <div class=\"io-left-line\" v-for=\"i of 8\" :key=\"i\">\r\n                    <span class=\"left-edit\" v-show=\"showLeftEdit == i\" @click=\"edit(0, i - 1)\">{{\r\n                        $t('setio.editor')\r\n                    }}</span>\r\n                    <span class=\"left-input\" @click=\"showLeftEdit = i\" :class=\"{ 'active-io': showLeftEdit == i }\">{{\r\n                        input['names'][i - 1]\r\n                    }}</span>\r\n                    <!-- 0:io左边一列  i-1:第几个 -->\r\n                    <span class=\"circle\" v-if=\"isShow(0, i - 1)\"></span>\r\n                    <span :class=\"{ 'left-line': true, 'green': showLeftEdit == i }\"></span>\r\n                </div>\r\n            </div>\r\n            <div class=\"right-box\">\r\n                <div class=\"io-right-line\" v-for=\"i of 8\" :key=\"i\">\r\n                    <span class=\"right-edit\" v-show=\"showRightEdit == i\" @click=\"edit(1, i - 1)\">{{\r\n                        $t('setio.editor')\r\n                    }}</span>\r\n                    <span class=\"right-input\" @click=\"showRightEdit = i\" :class=\"{ 'active-io': showRightEdit == i }\">{{\r\n                        output['names'][i - 1]\r\n                    }}</span>\r\n                    <span :class=\"{ 'right-line': true, 'green': showRightEdit == i }\"></span>\r\n                </div>\r\n            </div>\r\n            <div class=\"IO\">\r\n                IO\r\n            </div>\r\n        </div>\r\n        <LeetxButton :enablerun=\"false\" :module=\"module\" class=\"confirm-box\" textColor=\"#fff\" bgcColor=\"#00c155\"\r\n            width=\"60.625vw\" height=\"3.75rem\" fontSize=\"2.25rem\" fontFamily=\"--SHSC-B\" :text=\"$t('confirm.confirm')\"\r\n            @click=\"submitIoData\"></LeetxButton>\r\n\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport ioOtputSetting from \"@/dialogs/settings/iootptsetting/iootptsetting\"\r\nimport ioInputSetting from \"@/dialogs/settings/ioinptsetting/ioinptsetting\"\r\nimport {\r\n    busIoCfgUploadApi,\r\n    busIoCfgDownloadApi\r\n} from '@/api/io/io'\r\nimport { deepCopy, hasSameStructure } from '@/utils/deepCopy'\r\nimport cnfrmWin from '@/dialogs/common/confirm/cnfrm.js'\r\n\r\nimport { getInputData, getOutputData, getInputKey, getOutputKey } from '@/utils/io'\r\nimport { messageApi } from '@/components/message/message.js'\r\nimport LeetxButton from \"@/components/controls/LeetxButton.vue\"\r\nimport langvue from '@/plugins/langVue'\r\n\r\nexport default {\r\n    components: { LeetxButton },\r\n    data() {\r\n        return {\r\n            module: \"DEV_BUS\",\r\n            inputMember: { \"StartByte\": null, \"BitLength\": 1, \"LinkSdo\": \"0x300401\", \"Not\": 0 },\r\n            outputMember: { \"StartByte\": null, \"BitLength\": 1, \"LinkSdo\": \"0x300204\" },\r\n            showLeftEdit: null,\r\n            showRightEdit: null,\r\n            // 输入的配置\r\n            // input:{data:[],names:['Input1','Input2','Input3','Input4','Input5','Input6','Input7','Input8']},\r\n            input: { data: [], names: ['', '', '', '', '', '', '', ''] },\r\n            // 输出的配置\r\n            // output:{data:[],names:['Output1','Output2','Output3','Output4','Output5','Output6','Output7','Output8']},\r\n            output: { data: [], names: ['', '', '', '', '', '', '', ''] },\r\n            // 输入的选项\r\n            inputOptions: undefined,\r\n            // 输出的选项\r\n            outputOptions: undefined,\r\n            // 要提交的配置\r\n            ioData: {},\r\n            oldData: {},\r\n            isAllowLeave: true,\r\n            // 是不是后台发过来的数据改动了iodata,默认为true,判断用户是不是可以离开\r\n            isServerChangeData: true,\r\n        }\r\n    },\r\n    methods: {\r\n        // i==0,表示配置input;i==1,表示要配置output数据\r\n\r\n        // 不要尝试动这里的代码和IO对话框的代码,你可以选择重写IO配置的代码\r\n        edit(i, j) {\r\n            if (i == 0) {\r\n                let inptData = this.input.data[j]\r\n                let inputOptions = this.inputOptions\r\n                // 原来是否启用配置\r\n                let isActive = inptData.StartByte === null ? 0 : 1\r\n                let group = getInputKey(inptData.LinkSdo).group\r\n                let name = getInputKey(inptData.LinkSdo).name\r\n                // 旧信号是否被占用\r\n                // (\"旧信号状态:\");\r\n                // (inputOptions[group][name]);\r\n                let old_optional = inputOptions[group][name].optional\r\n                let inputConfig = {\r\n                    signal: `I${j + 1}`,\r\n                    inptData,\r\n                    inputOptions,\r\n                    isActive\r\n                }\r\n                ioInputSetting(inputConfig).then((result) => {\r\n                    // 旧信号被占用并且没有启用配置\r\n                    if (!old_optional && !isActive) {\r\n                        // (\"检测到了:旧信号被占用并且没有启用配置\");\r\n                        // 启用被占用的旧的信号配置,这种情况不会发生\r\n                        // if(result.isUse && result.isSame){\r\n                        //     continue\r\n                        // }\r\n                        // 启用未被占用的信号配置\r\n                        if (result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 启用配置\r\n                            this.input.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                            this.input.names[j] = getInputKey(result.data.LinkSdo).name\r\n                            // 新的信号设置为禁用状态\r\n                            let new_group = getInputKey(result.data.LinkSdo).group\r\n                            let new_name = getInputKey(result.data.LinkSdo).name\r\n                            this.inputOptions[new_group][new_name].optional = false\r\n                        }\r\n                        // 旧信号被占用并且没有启用配置,和原来一样不用做任何事\r\n                        // else if(!result.isUse && result.isSame){\r\n                        //     continue\r\n                        // }\r\n                        // 未启用新信号\r\n                        else if (!result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 关闭配置\r\n                            this.input.data[j].StartByte = null\r\n                            // this.input.names[j]=`Input${j+1}`\r\n                            this.input.names[j] = \"\"\r\n                        }\r\n                    }\r\n                    // 旧信号没有被占用并且没有启用配置\r\n                    else if (old_optional && !isActive) {\r\n                        // (\"检测到了:旧信号没有被占用并且没有启用配置\");\r\n                        // 启用未占用的旧的信号配置\r\n                        if (result.isUse && result.isSame) {\r\n                            // 设置数据,数据和原来应该一样\r\n                            this.input.data[j] = result.data\r\n                            // 启用配置\r\n                            this.input.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                            this.input.names[j] = getInputKey(result.data.LinkSdo).name\r\n                            // 旧的信号设置为禁用状态\r\n                            this.inputOptions[group][name].optional = false\r\n                        }\r\n                        // 启用未被占用的信号配置\r\n                        else if (result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 启用配置\r\n                            this.input.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                            this.input.names[j] = getInputKey(result.data.LinkSdo).name\r\n                            // 新的信号设置为禁用状态\r\n                            let new_group = getInputKey(result.data.LinkSdo).group\r\n                            let new_name = getInputKey(result.data.LinkSdo).name\r\n                            this.inputOptions[new_group][new_name].optional = false\r\n                        }\r\n                        // 旧信号没有被占用并且没有启用配置,和原来一样不用做任何事\r\n                        // else if(!result.isUse && result.isSame){\r\n                        //     continue\r\n                        // }\r\n                        // \r\n                        // 未启用新信号\r\n                        else if (!result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 关闭配置\r\n                            this.input.data[j].StartByte = null\r\n                            // this.input.names[j]=`Input${j+1}`\r\n                            this.input.names[j] = \"\"\r\n                        }\r\n                    }\r\n                    // 旧信号被自己占用，并且一定启用了该配置\r\n                    if (!old_optional && isActive) {\r\n                        // 旧信号被自己占用，并且一定启用了该配置,和原来一样,可不用做任何事\r\n                        if (result.isUse && result.isSame) {\r\n                            // 设置数据,数据和原来应该一样\r\n                            this.input.data[j] = result.data\r\n                            // 启用配置\r\n                            this.input.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                            this.input.names[j] = getInputKey(result.data.LinkSdo).name\r\n                            // 旧的信号设置为禁用状态\r\n                            this.inputOptions[group][name].optional = false\r\n                        }\r\n\r\n                        // 启用未被占用的信号配置\r\n                        else if (result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 启用配置\r\n                            this.input.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                            this.input.names[j] = getInputKey(result.data.LinkSdo).name\r\n                            // 旧的信号设置为可用状态\r\n                            this.inputOptions[group][name].optional = true\r\n                            // 新的信号设置为禁用状态\r\n                            let new_group = getInputKey(result.data.LinkSdo).group\r\n                            let new_name = getInputKey(result.data.LinkSdo).name\r\n                            this.inputOptions[new_group][new_name].optional = false\r\n                        }\r\n\r\n                        // 关闭被占用的信号,并且关闭配置\r\n                        else if (!result.isUse && result.isSame) {\r\n                            // 设置数据\r\n                            this.input.data[j] = result.data\r\n                            // 关闭配置\r\n                            this.input.data[j].StartByte = null\r\n                            // this.input.names[j]=`Input${j+1}`\r\n                            this.input.names[j] = \"\"\r\n                            // 旧的信号设置为可用状态\r\n                            let new_group = getInputKey(result.data.LinkSdo).group\r\n                            let new_name = getInputKey(result.data.LinkSdo).name\r\n                            this.inputOptions[new_group][new_name].optional = true\r\n                            // (this.inputOptions[new_group][new_name]==this.inputOptions[group][name]);\r\n                            // (this.inputOptions[new_group][new_name]);\r\n                            // this.inputOptions[group][name].optional=true\r\n                        }\r\n\r\n                        // 切换到新的信号,但是没有启用\r\n                        else if (!result.isUse && !result.isSame) {\r\n                            // 设置新数据\r\n                            this.input.data[j] = result.data\r\n                            // 旧的信号设置为可用状态\r\n                            this.inputOptions[group][name].optional = true\r\n                            // 关闭配置\r\n                            this.input.data[j].StartByte = null\r\n                            // this.input.names[j]=`Input${j+1}`\r\n                            this.input.names[j] = \"\"\r\n\r\n                        }\r\n                    }\r\n                }).catch((err) => {\r\n                    console.log(err)\r\n                });\r\n\r\n                return\r\n            }\r\n            let otptData = this.output.data[j]\r\n            let outputOptions = this.outputOptions\r\n            // 原来是否启用配置\r\n            let isActive = otptData.StartByte === null ? 0 : 1\r\n            let group = getOutputKey(otptData.LinkSdo).group\r\n            let name = getOutputKey(otptData.LinkSdo).name\r\n            // 旧信号是否被占用\r\n            // (\"旧信号状态:\");\r\n            // (outputOptions[group][name]);\r\n            let old_optional = outputOptions[group][name].optional\r\n            let outputConfig = {\r\n                signal: `O${j + 1}`,\r\n                otptData,\r\n                outputOptions,\r\n                isActive\r\n            }\r\n            ioOtputSetting(outputConfig).then((result) => {\r\n                // (\"output配置:\");\r\n\r\n                // 旧信号被占用并且没有启用配置\r\n                if (!old_optional && !isActive) {\r\n                    // (\"检测到了:旧信号被占用并且没有启用配置\");\r\n                    // 启用被占用的旧的信号配置,这种情况不会发生\r\n                    // if(result.isUse && result.isSame){\r\n                    //     continue\r\n                    // }\r\n                    // 启用未被占用的信号配置\r\n                    if (result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 启用配置\r\n                        this.output.data[j].StartByte = parseFloat((0 + 0.1 * j).toFixed(1))\r\n                        this.output.names[j] = getOutputKey(result.data.LinkSdo).name\r\n                        // 新的信号设置为禁用状态\r\n                        let new_group = getOutputKey(result.data.LinkSdo).group\r\n                        let new_name = getOutputKey(result.data.LinkSdo).name\r\n                        this.outputOptions[new_group][new_name].optional = false\r\n                    }\r\n                    // 旧信号被占用并且没有启用配置,和原来一样不用做任何事\r\n                    // else if(!result.isUse && result.isSame){\r\n                    //     continue\r\n                    // }\r\n                    // 未启用新信号\r\n                    else if (!result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 关闭配置\r\n                        this.output.data[j].StartByte = null\r\n                        // this.output.names[j]=`output${j+1}`\r\n                        this.output.names[j] = \"\"\r\n                    }\r\n                }\r\n                // 旧信号没有被占用并且没有启用配置\r\n                else if (old_optional && !isActive) {\r\n                    // (\"检测到了:旧信号没有被占用并且没有启用配置\");\r\n                    // 启用未占用的旧的信号配置\r\n                    if (result.isUse && result.isSame) {\r\n                        // 设置数据,数据和原来应该一样\r\n                        this.output.data[j] = result.data\r\n                        // 启用配置\r\n                        this.output.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                        this.output.names[j] = getOutputKey(result.data.LinkSdo).name\r\n                        // 旧的信号设置为禁用状态\r\n                        this.outputOptions[group][name].optional = false\r\n                    }\r\n                    // 启用未被占用的信号配置\r\n                    else if (result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 启用配置\r\n                        this.output.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                        this.output.names[j] = getOutputKey(result.data.LinkSdo).name\r\n                        // 新的信号设置为禁用状态\r\n                        let new_group = getOutputKey(result.data.LinkSdo).group\r\n                        let new_name = getOutputKey(result.data.LinkSdo).name\r\n                        this.outputOptions[new_group][new_name].optional = false\r\n                    }\r\n                    // 旧信号没有被占用并且没有启用配置,和原来一样不用做任何事\r\n                    // else if(!result.isUse && result.isSame){\r\n                    //     continue\r\n                    // }\r\n                    // \r\n                    // 未启用新信号\r\n                    else if (!result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 关闭配置\r\n                        this.output.data[j].StartByte = null\r\n                        // this.output.names[j]=`output${j+1}`\r\n                        this.output.names[j] = \"\"\r\n                    }\r\n                }\r\n                // 旧信号被自己占用，并且一定启用了该配置\r\n                if (!old_optional && isActive) {\r\n                    // (\"检测到了: 旧信号被自己占用，并且一定启用了该配置\");\r\n                    // 旧信号被自己占用，并且一定启用了该配置,和原来一样,可不用做任何事\r\n                    if (result.isUse && result.isSame) {\r\n                        // 设置数据,数据和原来应该一样\r\n                        this.output.data[j] = result.data\r\n                        // 启用配置\r\n                        this.output.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                        this.output.names[j] = getOutputKey(result.data.LinkSdo).name\r\n                        // 旧的信号设置为禁用状态\r\n                        this.outputOptions[group][name].optional = false\r\n                    }\r\n\r\n                    // 启用未被占用的信号配置\r\n                    else if (result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 启用配置\r\n                        this.output.data[j].StartByte = parseFloat((0.0 + 0.1 * j).toFixed(1))\r\n                        this.output.names[j] = getOutputKey(result.data.LinkSdo).name\r\n                        // 旧的信号设置为可用状态\r\n                        this.outputOptions[group][name].optional = true\r\n                        // 新的信号设置为禁用状态\r\n                        let new_group = getOutputKey(result.data.LinkSdo).group\r\n                        let new_name = getOutputKey(result.data.LinkSdo).name\r\n                        this.outputOptions[new_group][new_name].optional = false\r\n                    }\r\n\r\n                    // 关闭被占用的信号,并且关闭配置\r\n                    else if (!result.isUse && result.isSame) {\r\n                        // 设置数据\r\n                        this.output.data[j] = result.data\r\n                        // 关闭配置\r\n                        this.output.data[j].StartByte = null\r\n                        // this.output.names[j]=`output${j+1}`\r\n                        this.output.names[j] = \"\"\r\n                        // 旧的信号设置为可用状态\r\n                        let new_group = getOutputKey(result.data.LinkSdo).group\r\n                        let new_name = getOutputKey(result.data.LinkSdo).name\r\n                        this.outputOptions[new_group][new_name].optional = true\r\n                        // (this.outputOptions[new_group][new_name]==this.outputOptions[group][name]);\r\n                        // (this.outputOptions[new_group][new_name]);\r\n                        // this.outputOptions[group][name].optional=true\r\n                    }\r\n\r\n                    // 切换到新的信号,但是没有启用\r\n                    else if (!result.isUse && !result.isSame) {\r\n                        // 设置新数据\r\n                        this.output.data[j] = result.data\r\n                        // 旧的信号设置为可用状态\r\n                        this.outputOptions[group][name].optional = true\r\n                        // 关闭配置\r\n                        this.output.data[j].StartByte = null\r\n                        // this.output.names[j]=`output${j+1}`\r\n                        this.output.names[j] = \"\"\r\n                    }\r\n                }\r\n                // (\"输出数据:\",this.output);\r\n            }).catch((err) => {\r\n                console.log(err);\r\n            });\r\n        },\r\n        // 地址不为空才提交对应数据\r\n        submitIoData() {\r\n            this.isAllowLeave = true\r\n            busIoCfgDownloadApi(this.ioData).then((result) => {\r\n                if (result.status == 0) {\r\n                    let msg = langvue.global.t('dbgio.uploadSuc')\r\n                    messageApi.success([msg])\r\n                } else {\r\n                    //status:9103\r\n                    let msg = langvue.global.t('dbgio.uploadErr')\r\n                    messageApi.error([msg])\r\n                }\r\n            }).catch(() => {\r\n                let msg = langvue.global.t('dbgio.uploadErr')\r\n                messageApi.error([msg])\r\n            });\r\n        },\r\n        isShow(i, j) {\r\n            if (i == 0) {\r\n                return this.input.data[j] && this.input.data[j]['Not']\r\n            }\r\n        },\r\n        // 需要获取IO数据,\r\n        async getIoData() {\r\n            // 模拟获取的数据\r\n            this.ioData = { \"ToolIn\": { \"ByteLength\": 1, \"Member\": [] }, \"ToolOut\": { \"ByteLength\": 1, \"Member\": [] } }\r\n            this.oldData = deepCopy(this.ioData)\r\n            await busIoCfgUploadApi().then((result) => {\r\n                if (result.status == 0) {\r\n                    // (\"IO数据如下\");\r\n                    if (result.data.ToolIn.Member) {\r\n                        for (let item of result.data.ToolIn.Member) {\r\n                            if (!getInputKey(item.LinkSdo)) continue\r\n                            this.ioData.ToolIn.Member.push(item)\r\n                        }\r\n                        // this.ioData.ToolIn=result.data.ToolIn\r\n                    }\r\n                    if (result.data.ToolOut.Member) {\r\n                        for (let item of result.data.ToolOut.Member) {\r\n                            if (!getOutputKey(item.LinkSdo)) continue\r\n                            this.ioData.ToolOut.Member.push(item)\r\n                        }\r\n                        // this.ioData.ToolOut=result.data.ToolOut\r\n                    }\r\n                    this.initIoOptional()\r\n                } else {\r\n                    //  status:9101 || \r\n                    this.isServerChangeData = false\r\n                    messageApi.error([\"获取IO数据失败\"])\r\n                }\r\n                // this.getIoData()\r\n            }).catch(() => {\r\n                this.isServerChangeData = false\r\n            });\r\n        },\r\n        // 填充memebr数据\r\n        initMemberData() {\r\n            this.input.data = Array(8).fill(deepCopy(this.inputMember))\r\n            this.output.data = Array(8).fill(deepCopy(this.outputMember))\r\n        },\r\n        initOptions() {\r\n            this.inputOptions = getInputData()\r\n            this.outputOptions = getOutputData()\r\n        },\r\n        initIoOptional() {\r\n            for (let key in this.ioData.ToolIn.Member) {\r\n                let item = this.ioData.ToolIn.Member[key]\r\n                let index = item.StartByte\r\n                if (index == null) continue\r\n                index = parseFloat(index.toFixed(1))\r\n                this.input.data[index * 10] = deepCopy(item)\r\n                // 已经使用的信号的使用权更新为false\r\n                let group = getInputKey(item.LinkSdo).group\r\n                let name = getInputKey(item.LinkSdo).name\r\n                this.input.names[index * 10] = name\r\n                this.inputOptions[group][name].optional = false\r\n            }\r\n            for (let key in this.ioData.ToolOut.Member) {\r\n                let item = this.ioData.ToolOut.Member[key]\r\n                let index = item.StartByte\r\n                if (index == null) continue\r\n                index = parseFloat(index.toFixed(1))\r\n                this.output.data[index * 10] = deepCopy(item)\r\n                // 已经使用的信号的使用权更新为false\r\n                let group = getOutputKey(item.LinkSdo).group\r\n                let name = getOutputKey(item.LinkSdo).name\r\n                this.output.names[index * 10] = name\r\n                this.outputOptions[group][name].optional = false\r\n            }\r\n            this.oldData = deepCopy(this.ioData)\r\n            // 以后改动数据就不是后台改了\r\n            this.isServerChangeData = false\r\n        },\r\n        getToServerIoData() {\r\n            let inputArray = []\r\n            let outputArray = []\r\n            for (let item of this.input.data) {\r\n                if (item.StartByte != null) {\r\n                    inputArray.push(item)\r\n                }\r\n            }\r\n            for (let item of this.output.data) {\r\n                if (item.StartByte != null) {\r\n                    outputArray.push(item)\r\n                }\r\n            }\r\n            this.ioData.ToolIn.Member = inputArray\r\n            this.ioData.ToolOut.Member = outputArray\r\n            return this.ioData\r\n        }\r\n    },\r\n    created() {\r\n        // 填充iodata\r\n        this.initMemberData()\r\n        this.initOptions()\r\n        this.getIoData()\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n        if (this.isAllowLeave || this.$store.state.g_status.busy) {\r\n            next()\r\n        } else {\r\n            let title = this.$t('setcontrol.saveSet')\r\n            let confirmText = this.$t('setcontrol.yes')\r\n            let cancelText = this.$t('setcontrol.no')\r\n            let msg = this.$t('setcontrol.isSaveSet')\r\n            cnfrmWin({\r\n                title,\r\n                confirmText,\r\n                cancelText,\r\n                msg\r\n            }).then(() => {\r\n                this.submitIoData()\r\n                setTimeout(() => {\r\n                    next()\r\n                }, 100)\r\n            }).catch((err) => {\r\n                (err);\r\n                next()\r\n            });\r\n        }\r\n    },\r\n    computed: {\r\n        enabled() {\r\n            if (this.module in this.$store.state.f_status.permissions && this.$store.state.f_status.permissions[this.module] == 4)\r\n                return true\r\n            else\r\n                return false\r\n        },\r\n        pointerEvent() {\r\n            return this.enabled ? \"auto\" : \"none\";\r\n        },\r\n        opacity() {\r\n            return this.enabled ? 1 : 0.5;\r\n        },\r\n    },\r\n    watch: {\r\n        input: {\r\n            deep: true,\r\n            handler: function () {\r\n                if (!this.isServerChangeData) {\r\n                    (this.oldData);\r\n                    (this.getToServerIoData());\r\n                    this.isAllowLeave = hasSameStructure(this.oldData, this.getToServerIoData(), true)\r\n                }\r\n            }\r\n        },\r\n        output: {\r\n            deep: true,\r\n            handler: function () {\r\n                if (!this.isServerChangeData) {\r\n                    this.isAllowLeave = hasSameStructure(this.oldData, this.getToServerIoData(), true)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n* {\r\n    font-size: var(--font1_625) !important;\r\n}\r\n\r\n.io-container {\r\n    position: relative;\r\n    width: 100vw;\r\n    height: 100%;\r\n    pointer-events: v-bind(pointerEvent);\r\n    opacity: v-bind(opacity);\r\n}\r\n\r\n.io-box {\r\n    position: relative;\r\n    top: 6rem;\r\n    margin: 0 auto;\r\n    height: 60.375vh;\r\n    width: 25vw;\r\n    box-sizing: border-box;\r\n    border: 1px solid var(--C65);\r\n    top: 45%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n.IO {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: 4.5rem !important;\r\n}\r\n\r\n.left-box,\r\n.right-box {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 30.625vw;\r\n    top: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.inner-box {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n\r\n.left-box {\r\n    left: -31.625vw;\r\n}\r\n\r\n.right-box {\r\n    right: -31.625vw;\r\n}\r\n\r\n.io-left-line,\r\n.io-right-line,\r\n.io-line {\r\n    position: relative;\r\n    flex: 1;\r\n}\r\n\r\n.io-line {\r\n    position: relative;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.io-line span {\r\n    display: inline-block;\r\n    position: relative;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    flex: 1;\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    font-size: var(--font1_625);\r\n    font-weight: 600;\r\n    color: var(--C00);\r\n}\r\n\r\n.left-edit,\r\n.right-edit {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    display: inline-block;\r\n    height: 3.9063vh;\r\n    line-height: 3.9063vh;\r\n    width: 10vw;\r\n    font-size: var(--font1_5);\r\n    border-radius: 4px;\r\n    background: var(--C00c155);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 10px 0px rgba(3, 223, 100, 0.28);\r\n}\r\n\r\n.left-edit {\r\n    left: -1rem;\r\n}\r\n\r\n.right-edit {\r\n    right: -1rem;\r\n}\r\n\r\n.circle {\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 2.4vw;\r\n    transform: translateY(-50%);\r\n    display: inline-block;\r\n    height: 2.5vw;\r\n    width: 2.5vw;\r\n    font-size: var(--font1_5);\r\n    border-radius: 50%;\r\n    background-color: var(--fff);\r\n    border: 1px solid var(--C65);\r\n    z-index: 1;\r\n}\r\n\r\n.left-input,\r\n.right-input {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    right: 9vw;\r\n    display: inline-block;\r\n\r\n    min-height: 3.9063vh;\r\n    padding-bottom: 10px;\r\n    width: 18vw;\r\n    height: 10vw;\r\n    padding-top: 1.8vh;\r\n    margin: auto;\r\n    border-radius: 6px;\r\n    background: var(--fff);\r\n    box-sizing: border-box;\r\n    border: 1px solid var(--C65);\r\n\r\n    font-size: 1.2rem !important;\r\n    font-weight: 600;\r\n    color: var(--C3B);\r\n    overflow: normal;\r\n    word-break: break-all;\r\n}\r\n\r\n.left-input {\r\n    right: 3vw;\r\n}\r\n\r\n.right-input {\r\n    left: 2.3vw;\r\n\r\n}\r\n\r\n.left-line,\r\n.right-line {\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    display: inline-block;\r\n    height: 0.625rem;\r\n    line-height: 0.625rem;\r\n    width: 4vw;\r\n    background-color: var(--C3B);\r\n    font-size: var(--font1_5);\r\n\r\n    color: var(--fff);\r\n}\r\n\r\n.left-line {\r\n    right: -1vw;\r\n}\r\n\r\n.right-line {\r\n    left: -1vw;\r\n}\r\n\r\n.active-io {\r\n    box-shadow: 0px 4px 10px 0px rgba(3, 223, 100, 0.28) !important;\r\n    border: 1px solid var(--C00c155) !important;\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n.confirm-box {\r\n    position: absolute;\r\n    bottom: 3.5rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n\r\n.green {\r\n    background-color: var(--C00c155);\r\n}\r\n</style>","<template>\r\n    <div class=\"input-box\" v-if=\"isShow\">\r\n        <div class=\"input-title-line\">\r\n            <span class=\"input-title-msg\">{{signal}}{{$t('inputsetting.configuration')}}</span>\r\n            <span class=\"input-box-close\"  @click=\"cancel\">\r\n                <svgloader class=\"icon-close\" icon=\"Close\" size=\"1.2rem\"></svgloader>\r\n            </span>\r\n        </div>\r\n        <div class=\"inner-box\">\r\n            <div class=\"input-use-line\">\r\n            <div class=\"input-use-text\">{{$t('dlginputset.useConfig')}}</div>\r\n            <!-- {{inputSetting.LinkSdo}} -->\r\n            <LeetxSwitch :value=\"isUse\" class=\"program-use-btn\"  :height=\"2\" v-model=\"isUse\"></LeetxSwitch>\r\n        </div>\r\n        <div class=\"input-system-line\">\r\n            <div class=\"input-system-text\">{{$t('inputsetting.configuration')}}</div>\r\n            <NewSelect class=\"input-select-system\" :options=\"groups\" :realVal='activeGroup' @valChng=\"updateGroup($event)\"></NewSelect>\r\n\r\n        </div>\r\n        <div class=\"input-signal-line\">\r\n            <div class=\"input-signal-text\">{{$t('inputsetting.singnal')}}</div>\r\n            <OptionalSelect class=\"input-select-signal\" :realVal=\"inputSetting.LinkSdo\" :options=\"ownOptions[activeGroup]\" :isValid=\"isValid\" :validReason=\"validReason\" @valChng=\"inputSetting.LinkSdo=$event\"></OptionalSelect>\r\n\r\n        </div>\r\n        </div>\r\n        \r\n        <!-- <div class=\"input-delay-line\">\r\n            <div class=\"input-delay-text\">NOT</div>\r\n            <LeetxSwitch :value=\"inputSetting['Not']\" class=\"program-copy-btn\"  :height=\"2\" v-model=\"inputSetting['Not']\"></LeetxSwitch>\r\n        </div> -->\r\n        <div class=\"input-operate-line\">\r\n            <div class=\"input-cancel-btn\" @click=\"cancel\">{{$t('inputsetting.cancel')}}</div>\r\n            <div class=\"input-cnfrm-btn\"   @click=\"validSubmit\">{{$t('inputsetting.confirm')}}</div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { messageApi } from '../../../components/message/message'\r\nimport svgloader from '../../../components/icon_font/svgloader.vue'\r\nimport NewSelect from '../../../components/select/NewSelect.vue'\r\nimport OptionalSelect from '../../../components/select/OptionalSelect.vue'\r\nimport LeetxSwitch from '../../../components/switch/LeetxSwitch.vue'\r\nimport { deepCopy } from '../../../utils/deepCopy'\r\nimport { getInputData, getInputKey } from '../../../utils/io'\r\nimport { maskApi } from '../../mask/StackMask.vue'\r\n\r\n\r\nexport default {\r\n    components:{svgloader,LeetxSwitch,NewSelect,OptionalSelect},\r\n    data() {\r\n        return {\r\n            inputSetting:{\r\n                LinkSdo:\"0x11101\",\r\n                Not:0,\r\n                BitLength:1,\r\n                StartByte:'0.0',\r\n            },\r\n            isUse:0,\r\n            isShow:true,\r\n            // inputOptions:getinputOptions(),\r\n            groups:{},\r\n            activeGroup:'213312',\r\n            // name:'input',\r\n            oldLinkSdo:undefined,\r\n            ownOptions:undefined,\r\n            maskId:0,\r\n        }\r\n    },\r\n    props:{\r\n        inptData:{\r\n            type:Object,\r\n            default:function(){\r\n                return {\r\n                    LinkSdo:\"0x11101\",\r\n                    Not:0,\r\n                    BitLength:1,\r\n                    StartByte:'0.0',\r\n                }\r\n            }\r\n        },\r\n        signal:{\r\n            type:String,\r\n            default:()=>{return `I?${this.$t('dlginputset.config')}`}\r\n        },\r\n        inputOptions:{\r\n            type:Object,\r\n            default:function(){\r\n                return getInputData()\r\n            }\r\n        },\r\n        isActive:{\r\n            type:Number,\r\n            default:0,\r\n        },\r\n    },\r\n    computed:{\r\n        isValid(){\r\n            let group=getInputKey(this.inputSetting.LinkSdo).group\r\n            let name=getInputKey(this.inputSetting.LinkSdo).name\r\n            //关闭配置或者信号是可以用的时候提交成功\r\n            return this.ownOptions[group][name].optional\r\n        },\r\n        validReason(){\r\n            return this.$t('dlginputset.configUsing')\r\n        }\r\n    },\r\n    methods: {\r\n        setupIoInput(isSame){\r\n            this.isShow=false\r\n            // let isSame=isOld\r\n            // 传入数据,是否启用,是否是旧信号\r\n            this.onConfirm && this.onConfirm({data:this.inputSetting,isUse:this.isUse,isSame})\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        cancel(){\r\n            this.isShow=false\r\n            this.onCancel && this.onCancel()\r\n            maskApi.descend(this.maskId)\r\n        },\r\n        initData(){\r\n            this.isUse=this.isActive\r\n            this.inputSetting=deepCopy(this.inptData)\r\n            this.ownOptions=deepCopy(this.inputOptions)\r\n            // 记录旧的信号值\r\n            this.oldLinkSdo=this.inputSetting.LinkSdo\r\n            for(let key in this.ownOptions.moudles){\r\n                this.groups[this.ownOptions.moudles[key]]=this.ownOptions.moudles[key]\r\n            }\r\n            let group=getInputKey(this.oldLinkSdo).group\r\n            let name=getInputKey(this.oldLinkSdo).name\r\n            // 当前配置里面的信号更新为可用\r\n            if(!this.ownOptions[group][name].optional && this.isActive){\r\n                this.ownOptions[group][name].optional=true\r\n            }\r\n            // (\"当前的信号:\");\r\n            // (this.ownOptions[group][name]);\r\n        },\r\n        // 切换组\r\n        updateGroup(group){\r\n            this.activeGroup=group\r\n            for(let key in this.ownOptions[group]){\r\n                this.inputSetting.LinkSdo=this.ownOptions[group][key].val\r\n                break\r\n            }\r\n        },\r\n        initStatus(){\r\n            this.maskId=maskApi.rise(15,this.cancel)\r\n        },\r\n        // 设置input的组\r\n        setGroup(){\r\n            this.activeGroup=getInputKey(this.oldLinkSdo).group\r\n        },\r\n        validSubmit(){\r\n            (this.inputSetting.LinkSdo);\r\n            let group=getInputKey(this.inputSetting.LinkSdo).group\r\n            let name=getInputKey(this.inputSetting.LinkSdo).name\r\n            let isSame=this.inputSetting.LinkSdo==this.oldLinkSdo?1:0\r\n            //关闭配置或者信号是可以用的时候提交成功\r\n            if(!this.isUse ||  this.ownOptions[group][name].optional){\r\n                // ({data:this.inputSetting,isUse:this.isUse,isSame});\r\n                this.setupIoInput(isSame)\r\n            }else{\r\n                let msgOne=this.$t('dlginputset.configUsing')\r\n                let msgTwo=this.$t('dlginputset.seletAgain')\r\n                messageApi.error([msgOne,msgTwo])\r\n            }\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.initData()\r\n        this.setGroup()\r\n        this.initStatus()\r\n\r\n        \r\n    },\r\n    watch:{\r\n        inptData:{\r\n            immediate:true,\r\n            deep:true,\r\n            handler:function(){\r\n                this.initData()\r\n                this.setGroup()\r\n            }\r\n        },\r\n        inputOptions:{\r\n            immediate:true,\r\n            deep:true,\r\n            handler:function(){\r\n                this.initData()\r\n                this.setGroup()\r\n            }\r\n        },\r\n        isActive:{\r\n            immediate:true,\r\n            handler:function(){\r\n                this.isUse=this.isActive\r\n            }\r\n        },\r\n\r\n\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n\r\n.input-box{\r\n    width: 37.5rem;\r\n    height: 31.25rem;\r\n    background-color: var(--fff);\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50%,-50%);\r\n    border-radius: 0.375rem;\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    z-index: 40;\r\n}\r\n.input-title-line{\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 3.2688rem;\r\n    background-color: var(--Cee);\r\n    color: var(--C65);\r\n    border-radius: 0.375rem;;\r\n}\r\n.input-title-msg{\r\n    position: absolute;\r\n    display: inline-block;\r\n    left: 34%;\r\n    top: 17%;\r\n    width: 7rem;\r\n    height: 2.4375rem;\r\n    font-size:var(--font1_75);\r\n    line-height: 2.4375rem;\r\n    letter-spacing: 0px;\r\n    color: var(--C3B);\r\n}\r\n.input-box-close{\r\n    display: inline-block;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    width: 3rem;\r\n    height: 3rem;\r\n    color: var(--C65);\r\n}\r\n.icon-close{\r\n    position: absolute;\r\n    right: 1.0625rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n.input-use-line{\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 4rem;\r\n    height: 3.2688rem;\r\n}\r\n.input-system-line{\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 8rem;\r\n    height: 3.2688rem;\r\n}\r\n.input-is-delay{\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-70%);\r\n    left:2rem;\r\n}\r\n.input-use-text,.input-system-text,.input-signal-text,.input-delay-text{\r\n    position: absolute;\r\n    left: 6.23rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    height:1.5625rem;\r\n    font-size:var(--font1_625);\r\n    line-height:1.5625rem;\r\n    color: var(--C3B);\r\n}\r\n.input-select-system,.input-select-signal{\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4769rem;\r\n    text-align: center;\r\n    font-size: 1.125rem;\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    background-color: var(--fff);\r\n    color: var(--C5A);\r\n    border: 1px solid  var(--Cf1);\r\n}\r\n.input-signal-line{\r\n    position: absolute;\r\n    width: 100%;\r\n    top: 12.4375rem;\r\n    height: 3.2688rem;\r\n}\r\n.input-delay-line{\r\n    position: absolute;\r\n    width: 100%;\r\n    top:   16.875rem;\r\n    height: 3.2688rem;\r\n\r\n}\r\n.program-name-input{\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 18.4768rem;\r\n    text-align: center;\r\n    font-size: 1.125rem;\r\n    right: 3.2106rem;\r\n    border-radius: 0.25rem;\r\n    color: var(--C5A);\r\n    background-color: var(--fff);\r\n    border: 1px solid  var(--Cf1);\r\n    box-sizing: border-box;\r\n}\r\n.input-delay-unit{\r\n    position: absolute;\r\n    font-size: 1.125rem;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    color: var(--C5A);\r\n    left: 35rem;\r\n}\r\n.input-operate-line{\r\n    position: absolute;\r\n    width: 100%;\r\n    bottom: 3.15rem;\r\n    height: 3.125rem;\r\n}\r\n.input-cnfrm-btn{\r\n    text-align: center;\r\n    position: absolute;\r\n    top:0;\r\n    height:  3.125rem;\r\n    line-height:  3.125rem;\r\n    width: 8.625rem;\r\n    right: 8.4375rem;\r\n    background-color: var(--C00c155);\r\n    font-size:var(--font1_5);\r\n    color: var(--fff);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius:0.25rem ;\r\n}\r\n.input-cancel-btn{\r\n    text-align: center;\r\n    position: absolute;\r\n    top:0;\r\n    height:3.125rem;\r\n    line-height:3.125rem;\r\n    width: 8.625rem;\r\n    left: 8.4375rem;\r\n    background-color: var(--Cf1);\r\n    font-size:var(--font1_625);\r\n    color: var(--C00);\r\n    box-shadow: 0px 4px 4px 0px rgba(0, 0, 0, 0.25);\r\n    border-radius:0.25rem ;\r\n}\r\n.program-copy-btn,.program-use-btn{\r\n    position: absolute;\r\n    font-size:var(--font1_625);\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    left: 16.5125rem;\r\n}\r\noption{\r\n    text-align: center;\r\n}\r\n.inner-box{\r\n    position: relative;\r\n    top: 13.5%;\r\n    left: -3.5%;\r\n}\r\n</style>","import { render } from \"./IoInptSetting.vue?vue&type=template&id=55a34646&scoped=true\"\nimport script from \"./IoInptSetting.vue?vue&type=script&lang=js\"\nexport * from \"./IoInptSetting.vue?vue&type=script&lang=js\"\n\nimport \"./IoInptSetting.vue?vue&type=style&index=0&id=55a34646&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55a34646\"]])\n\nexport default __exports__","import { createApp } from \"vue\";\r\nimport IoInptSetting from '../../../dialogs/settings/ioinptsetting/IoInptSetting.vue'\r\nimport langvue from \"../../../plugins/langVue\";\r\nimport element from '../../../plugins/element'\r\n// 导出函数可通过调用 Confirm() 函数动态创建 XtxConfirm 组件\r\nconst ioInputSetting = (props={}) => {\r\n    if(typeof(props)!=\"object\") throw new Error(\"props must be a object\")\r\n    return new Promise((resolve, reject) => { //promise封装，ok执行resolve，no执行reject\r\n        // 创建组件实例\r\n        let dom = createApp(IoInptSetting,props).use(langvue).use(element).mount(document.createElement(\"div\"));\r\n        // 添加元素\r\n        document.body.appendChild(dom.$el);\r\n        // 重写组件的函数\r\n        // 点击确定的回调\r\n        dom.onConfirm = function (x) {\r\n            resolve(x)\r\n        }\r\n        // 点击取消的回调\r\n        dom.onCancel = function (err) {\r\n            reject(err)\r\n        }\r\n    })\r\n}\r\nexport default ioInputSetting","import { render } from \"./Io.vue?vue&type=template&id=0859b8be&scoped=true\"\nimport script from \"./Io.vue?vue&type=script&lang=js\"\nexport * from \"./Io.vue?vue&type=script&lang=js\"\n\nimport \"./Io.vue?vue&type=style&index=0&id=0859b8be&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0859b8be\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","i","key","_hoisted_4","_hoisted_5","onClick","$options","_ctx","$data","_hoisted_8","_hoisted_9","_hoisted_12","_createVNode","_component_LeetxButton","enablerun","module","textColor","bgcColor","width","height","fontSize","fontFamily","text","$props","_component_svgloader","icon","size","_hoisted_6","_component_LeetxSwitch","value","_hoisted_7","_component_NewSelect","options","realVal","onValChng","$event","_hoisted_10","_component_OptionalSelect","LinkSdo","isValid","validReason","_hoisted_11","components","svgloader","LeetxSwitch","NewSelect","OptionalSelect","data","inputSetting","Not","BitLength","StartByte","isUse","isShow","groups","activeGroup","oldLinkSdo","undefined","ownOptions","maskId","props","inptData","type","Object","default","signal","String","$t","inputOptions","getInputData","isActive","Number","computed","group","getInputKey","this","name","optional","methods","setupIoInput","isSame","onConfirm","maskApi","cancel","onCancel","initData","deepCopy","moudles","updateGroup","val","initStatus","setGroup","validSubmit","msgOne","msgTwo","messageApi","mounted","watch","immediate","deep","handler","__exports__","ioInputSetting","Error","Promise","resolve","reject","dom","createApp","IoInptSetting","use","langvue","element","mount","document","createElement","body","appendChild","$el","x","err","__default__","LeetxButton","inputMember","outputMember","showLeftEdit","showRightEdit","input","names","output","outputOptions","ioData","oldData","isAllowLeave","isServerChangeData","edit","j","old_optional","inputConfig","then","result","parseFloat","toFixed","new_group","new_name","catch","console","log","otptData","getOutputKey","outputConfig","ioOtputSetting","submitIoData","busIoCfgDownloadApi","status","msg","async","busIoCfgUploadApi","ToolIn","Member","item","push","ToolOut","initIoOptional","initMemberData","Array","fill","initOptions","getOutputData","index","getToServerIoData","inputArray","outputArray","created","getIoData","beforeRouteLeave","to","from","next","$store","state","g_status","busy","title","confirmText","cancelText","cnfrmWin","setTimeout","enabled","f_status","permissions","pointerEvent","opacity","hasSameStructure","render"],"sourceRoot":""}