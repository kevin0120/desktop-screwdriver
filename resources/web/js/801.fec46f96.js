"use strict";(self["webpackChunkleetx_web"]=self["webpackChunkleetx_web"]||[]).push([[801],{19995:function(t,e,o){o.d(e,{CG:function(){return s},E7:function(){return r},IY:function(){return p},KJ:function(){return l},aE:function(){return d},jy:function(){return u},mY:function(){return a},yq:function(){return n}});var i=o(11586);function n(){return(0,i.Z)({url:"bus/io/cfg/upload",method:"get"})}function s(){return(0,i.Z)({url:"bus/fieldbus/cfg/upload",method:"get"})}function a(t){return(0,i.Z)({url:"bus/io/modify",method:"post",data:t})}function l(t){return(0,i.Z)({url:"bus/filedbus/modify",method:"post",data:t})}function u(t){return(0,i.Z)({url:"bus/io/cfg/download",method:"post",data:t})}function p(t){return(0,i.Z)({url:"bus/filedbus/cfg/download",method:"post",data:t})}function r(){return(0,i.Z)({url:"bus/io/debug/in",method:"put"})}function d(){return(0,i.Z)({url:"bus/io/debug/out",method:"put"})}},47294:function(t,e,o){o.d(e,{Z:function(){return U}});var i=o(49963),n=o(66252),s=o(3577);const a={key:0,class:"output-box"},l={class:"output-title-line"},u={class:"output-title-msg"},p={class:"inner-box"},r={class:"output-use-line"},d={class:"output-use-text"},c={class:"output-system-line"},b={class:"output-system-text"},h={class:"output-signal-line"},g={class:"output-signal-text"},m={class:"output-operate-line"};function _(t,e,o,i,_,x){const v=(0,n.up)("svgloader"),f=(0,n.up)("LeetxSwitch"),j=(0,n.up)("NewSelect"),S=(0,n.up)("OptionalSelect");return _.isShow?((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,[(0,n._)("span",u,(0,s.zw)(o.signal)+(0,s.zw)(t.$t("inputsetting.configuration")),1),(0,n._)("span",{class:"output-box-close",onClick:e[0]||(e[0]=(...t)=>x.cancel&&x.cancel(...t))},[(0,n.Wm)(v,{class:"icon-close",icon:"Close",size:"1.2rem"})])]),(0,n._)("div",p,[(0,n._)("div",r,[(0,n._)("div",d,(0,s.zw)(t.$t("dlginputset.useConfig")),1),(0,n.Wm)(f,{value:_.isUse,class:"program-use-btn",height:2,modelValue:_.isUse,"onUpdate:modelValue":e[1]||(e[1]=t=>_.isUse=t)},null,8,["value","modelValue"])]),(0,n._)("div",c,[(0,n._)("div",b,(0,s.zw)(t.$t("outputsetting.system")),1),(0,n.Wm)(j,{class:"output-select-system",realVal:_.activeGroup,options:_.groups,onValChng:e[2]||(e[2]=t=>x.updateGroup(t))},null,8,["realVal","options"])]),(0,n._)("div",h,[(0,n._)("div",g,(0,s.zw)(t.$t("outputsetting.singnal")),1),(0,n.Wm)(S,{class:"output-select-signal",realVal:_.outputSetting.LinkSdo,options:_.ownOptions[_.activeGroup],onValChng:e[3]||(e[3]=t=>_.outputSetting.LinkSdo=t),isValid:x.isValid,validReason:x.validReason},null,8,["realVal","options","isValid","validReason"])])]),(0,n._)("div",m,[(0,n._)("div",{class:"output-cancel-btn",onClick:e[4]||(e[4]=(...t)=>x.cancel&&x.cancel(...t))},(0,s.zw)(t.$t("outputsetting.cancel")),1),(0,n._)("div",{class:"output-cnfrm-btn",onClick:e[5]||(e[5]=(...t)=>x.validSubmit&&x.validSubmit(...t))},(0,s.zw)(t.$t("outputsetting.confirm")),1)])])):(0,n.kq)("",!0)}var x=o(84965),v=o(73496),f=o(16496),j=o(83067),S=o(48024),w=o(59317),y=o(8207),k=o(52097),O=o(65884),V={components:{svgloader:v.Z,NewSelect:f.Z,LeetxSwitch:j.Z,OptionalSelect:k.Z},data(){return{outputSetting:{LinkSdo:"0x11101",isDelayOtpt:0,delayTime:0,StartByte:"0.0"},isUse:0,outputData:(0,y.Ai)(),isShow:!0,groups:{},activeGroup:"213312",oldLinkSdo:void 0,ownOptions:void 0,maskId:0}},methods:{setupIoInput(t){this.isShow=!1,this.onConfirm&&this.onConfirm({data:this.outputSetting,isUse:this.isUse,isSame:t}),O.g.descend(this.maskId)},cancel(){this.isShow=!1,this.onCancel&&this.onCancel(),O.g.descend(this.maskId)},updateData(t,e){this.outputSetting[t]=e.sensorValue},getUnit(t){return S.G.state.sensors[t]},updateGroup(t){this.activeGroup=t;for(let e in this.outputData[t]){this.outputSetting.LinkSdo=this.outputData[t][e].val;break}},initData(){this.isUse=this.isActive,this.outputSetting=(0,w.p$)(this.otptData),this.ownOptions=(0,w.p$)(this.outputOptions),this.oldLinkSdo=this.outputSetting.LinkSdo;for(let o in this.ownOptions.moudles)this.groups[this.ownOptions.moudles[o]]=this.ownOptions.moudles[o];let t=(0,y.j8)(this.oldLinkSdo).group,e=(0,y.j8)(this.oldLinkSdo).name;!this.ownOptions[t][e].optional&&this.isActive&&(this.ownOptions[t][e].optional=!0)},initStatus(){this.maskId=O.g.rise(15,this.cancel)},setGroup(){this.activeGroup=(0,y.j8)(this.oldLinkSdo).group},validSubmit(){let t=(0,y.j8)(this.outputSetting.LinkSdo).group,e=(0,y.j8)(this.outputSetting.LinkSdo).name,o=this.outputSetting.LinkSdo==this.oldLinkSdo?1:0;if(!this.isUse||this.ownOptions[t][e].optional)this.setupIoInput(o);else{let t=this.$t("dlginputset.configUsing"),e=this.$t("dlginputset.seletAgain");x.c.error([t,e])}}},computed:{isValid(){let t=(0,y.j8)(this.outputSetting.LinkSdo).group,e=(0,y.j8)(this.outputSetting.LinkSdo).name;return this.ownOptions[t][e].optional},validReason(){return this.$t("dlginputset.configUsing")}},props:{otptData:{type:Object,default:function(){return{LinkSdo:"0x22202",Group:"GROUP2",Not:0,BitLength:1,StartByte:"0.0"}}},signal:{type:String,default:()=>`I?${(void 0).$t("dlginputset.config")}`},isActive:{type:Number,default:0},outputOptions:{type:Object,default:function(){return(0,y.Ai)()}}},mounted(){this.initData(),this.setGroup(),this.initStatus()},watch:{otptData:{immediate:!0,deep:!0,handler:function(){this.initData(),this.setGroup()}},outputOptions:{immediate:!0,deep:!0,handler:function(){this.initData(),this.setGroup()}},isActive:{immediate:!0,handler:function(){this.isUse=this.isActive}}}},C=o(83744);const z=(0,C.Z)(V,[["render",_],["__scopeId","data-v-d0e43f84"]]);var A=z,D=o(92797),L=o(57900),Z=o.n(L);const $=(t={})=>{if("object"!=typeof t)throw new Error("props must be a object");return new Promise(((e,o)=>{let n=(0,i.ri)(A,t).use(D.Z).use(Z()).mount(document.createElement("div"));document.body.appendChild(n.$el),n.onConfirm=function(t){e(t)},n.onCancel=function(t){o(t)}}))};var U=$},59317:function(t,e,o){function i(t){let e;if(t instanceof Array){e=[];for(let o=0;o<t.length;o++)e[o]=i(t[o])}else if(t instanceof Object){e={};for(let o of Object.keys(t))e[o]=i(t[o])}else e=t;return e}function n(t,e,o=!1){let i=!0;if(t instanceof Array&&e instanceof Array&&e.length==t.length){for(let s=0;s<t.length;s++)if(i=i&&n(t[s],e[s],o),!i)break}else if(!(t instanceof Object&&e instanceof Object)||t instanceof Array||e instanceof Array)t instanceof Object||e instanceof Object?i=!1:(i=!0,o&&(i=t===e));else for(let s in t){if(!(s in e)){i=!1;break}if(i=i&&n(t[s],e[s],o),!i)break}return i}function s(t,e,o=!1){return o?JSON.stringify(t)===JSON.stringify(e):n(t,e)}o.d(e,{IK:function(){return s},p$:function(){return i}})},8207:function(t,e,o){function i(){return{ver:"V1.0.0",moudles:["sys_status","action","pset","job"],sys_status:{fault_reset:{optional:!0,val:"0x300401"},sync_signal:{optional:!0,val:"0x300409"},tool_enable:{optional:!0,val:"0x300125"}},action:{tool_reverse:{optional:!0,val:"0x300102"},result_ack:{optional:!0,val:"0x300403"}},pset:{pset_start:{optional:!0,val:"0x300101"},pset_bit0:{optional:!0,val:"0x300422"},pset_bit1:{optional:!0,val:"0x300423"},pset_bit2:{optional:!0,val:"0x300424"},pset_bit3:{optional:!0,val:"0x300425"},pset_bit4:{optional:!0,val:"0x300426"},pset_bit5:{optional:!0,val:"0x300427"},pset_bit6:{optional:!0,val:"0x300428"},pset_bit7:{optional:!0,val:"0x300429"},next_pset:{optional:!0,val:"0x30042A"},previous_pset:{optional:!0,val:"0x30042B"}},job:{endjob:{optional:!0,val:"0x300162"},job_bit0:{optional:!0,val:"0x30016100"},job_bit1:{optional:!0,val:"0x30016101"},job_bit2:{optional:!0,val:"0x30016102"},job_bit3:{optional:!0,val:"0x30016103"},job_bit4:{optional:!0,val:"0x30016104"},job_bit5:{optional:!0,val:"0x30016105"},job_bit6:{optional:!0,val:"0x30016106"},job_bit7:{optional:!0,val:"0x30016107"}}}}function n(t){let e={"0x300401":{group:"sys_status",name:"fault_reset"},"0x300409":{group:"sys_status",name:"sync_signal"},"0x300125":{group:"sys_status",name:"tool_enable"},"0x300102":{group:"action",name:"tool_reverse"},"0x300403":{group:"action",name:"result_ack"},"0x300101":{group:"pset",name:"pset_start"},"0x300422":{group:"pset",name:"pset_bit0"},"0x300423":{group:"pset",name:"pset_bit1"},"0x300424":{group:"pset",name:"pset_bit2"},"0x300425":{group:"pset",name:"pset_bit3"},"0x300426":{group:"pset",name:"pset_bit4"},"0x300427":{group:"pset",name:"pset_bit5"},"0x300428":{group:"pset",name:"pset_bit6"},"0x300429":{group:"pset",name:"pset_bit7"},"0x30042A":{group:"pset",name:"next_pset"},"0x30042B":{group:"pset",name:"previous_pset"},"0x300162":{group:"job",name:"endjob"},"0x30016100":{group:"job",name:"job_bit0"},"0x30016101":{group:"job",name:"job_bit1"},"0x30016102":{group:"job",name:"job_bit2"},"0x30016103":{group:"job",name:"job_bit3"},"0x30016104":{group:"job",name:"job_bit4"},"0x30016105":{group:"job",name:"job_bit5"},"0x30016106":{group:"job",name:"job_bit6"},"0x30016107":{group:"job",name:"job_bit7"}};return e[t]}function s(){return{ver:"V1.0.0",moudles:["status","result","system","pset","job"],status:{system_ready:{optional:!0,val:"0x300204"},pset_running:{optional:!0,val:"0x300205"},job_running:{optional:!0,val:"0x300265"},system_fault:{optional:!0,val:"0x300209"},tool_reverse:{optional:!0,val:"0x300102"}},result:{result_ok:{optional:!0,val:"0x300207"},result_nok:{optional:!0,val:"0x300208"},angle_ok:{optional:!0,val:"0x300811"},global_angle_ok:{optional:!0,val:"0x300817"},torque_ok:{optional:!0,val:"0x300814"},jobresult_ok:{optional:!0,val:"0x300263"},jobresult_nok:{optional:!0,val:"0x300264"}},system:{sync_signal:{optional:!0,val:"0x300409"},step_out:{optional:!0,val:"0x30082800"}},pset:{pset_bit0:{optional:!0,val:"0x300431"},pset_bit1:{optional:!0,val:"0x300432"},pset_bit2:{optional:!0,val:"0x300433"},pset_bit3:{optional:!0,val:"0x300434"},pset_bit4:{optional:!0,val:"0x300435"},pset_bit5:{optional:!0,val:"0x300436"},pset_bit6:{optional:!0,val:"0x300437"},pset_bit7:{optional:!0,val:"0x300438"}},job:{job_bit0:{optional:!0,val:"0x30026200"},job_bit1:{optional:!0,val:"0x30026201"},job_bit2:{optional:!0,val:"0x30026202"},job_bit3:{optional:!0,val:"0x30026203"},job_bit4:{optional:!0,val:"0x30026204"},job_bit5:{optional:!0,val:"0x30026205"},job_bit6:{optional:!0,val:"0x30026206"},job_bit7:{optional:!0,val:"0x30026207"}}}}function a(t){let e={"0x300204":{group:"status",name:"system_ready"},"0x300205":{group:"status",name:"pset_running"},"0x300209":{group:"status",name:"system_fault"},"0x300102":{group:"status",name:"tool_reverse"},"0x300207":{group:"result",name:"result_ok"},"0x300208":{group:"result",name:"result_nok"},"0x300811":{group:"result",name:"angle_ok"},"0x300817":{group:"result",name:"global_angle_ok"},"0x300814":{group:"result",name:"torque_ok"},"0x300263":{group:"result",name:"jobresult_ok"},"0x300264":{group:"result",name:"jobresult_nok"},"0x300265":{group:"status",name:"job_running"},"0x300409":{group:"system",name:"sync_signal"},"0x30082800":{group:"system",name:"step_out"},"0x300431":{group:"pset",name:"pset_bit0"},"0x300432":{group:"pset",name:"pset_bit1"},"0x300433":{group:"pset",name:"pset_bit2"},"0x300434":{group:"pset",name:"pset_bit3"},"0x300435":{group:"pset",name:"pset_bit4"},"0x300436":{group:"pset",name:"pset_bit5"},"0x300437":{group:"pset",name:"pset_bit6"},"0x300438":{group:"pset",name:"pset_bit7"},"0x30026200":{group:"job",name:"job_bit0"},"0x30026201":{group:"job",name:"job_bit1"},"0x30026202":{group:"job",name:"job_bit2"},"0x30026203":{group:"job",name:"job_bit3"},"0x30026204":{group:"job",name:"job_bit4"},"0x30026205":{group:"job",name:"job_bit5"},"0x30026206":{group:"job",name:"job_bit6"},"0x30026207":{group:"job",name:"job_bit7"}};return e[t]}o.d(e,{Ai:function(){return s},ap:function(){return n},j8:function(){return a},v7:function(){return i}})},52097:function(t,e,o){o.d(e,{Z:function(){return x}});var i=o(66252),n=o(3577),s=o(49963);const a=["id"],l={class:"mask-box"},u=["onMousedown"];function p(t,e,o,p,r,d){const c=(0,i.up)("svgloader");return(0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)({select:!0,"hight-light":r.isShow,"valid-select":!o.isValid})},[(0,i.wy)((0,i._)("input",{id:r.sltId,class:"select-val",type:"text",readonly:"",onClick:e[0]||(e[0]=(...t)=>d.showOptions&&d.showOptions(...t)),onBlur:e[1]||(e[1]=t=>d.onBlur(!0)),"onUpdate:modelValue":e[2]||(e[2]=t=>r.selectValue=t)},null,40,a),[[s.nr,r.selectValue]]),(0,i._)("div",{class:"btn",onClick:e[3]||(e[3]=(...t)=>d.showOptions&&d.showOptions(...t))},[(0,i.Wm)(c,{icon:"Vector",class:(0,n.C_)(["arrow",{rotate:r.rotate}]),size:o.btnSize},null,8,["class","size"])]),(0,i.wy)((0,i._)("div",l,[(0,i._)("div",{class:(0,n.C_)({"options-box":!0,isScroll:d.isScroll})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.options,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)({"option-text":!0,"disable-option":!t.optional}),key:e,onMousedown:t=>d.valChng(e)},(0,n.zw)(e),43,u)))),128))],2)],512),[[s.F8,r.isShow]]),(0,i.wy)((0,i._)("span",{class:"valid-reason"},(0,n.zw)(o.validReason),513),[[s.F8,!o.isValid]])],2)}var r=o(84965),d=o(73496);const c={components:{svgloader:d.Z},props:{options:{type:Object,default:()=>({})},realVal:{type:null,default:""},color:{type:String,default:()=>"blue"},isReturnKey:{type:Boolean,default:!1},maxSize:{type:Number,default:5},height:{type:Number,default:3.125},width:{type:Number,default:17.625},fntSize:{type:String,default:"1.75rem"},btnSize:{type:String,default:"1.2rem"},isValid:{type:Boolean,default:!0},validReason:{type:String,default:""}},data(){return{selectValue:"",rotate:!1,isShow:!1,sltId:"slt-"+1e6*Math.random().toFixed(6),isAllowClose:!0}},methods:{showOptions(){this.isShow=!this.isShow,this.rotate=!this.rotate},valChng(t){let e=this.options[t].val;if(this.options[t].optional)this.selectValue=t,this.onBlur(this.isAllowClose),this.$emit("valChng",this.isReturnKey?t:e);else{this.isAllowClose=!1;let t=this.$t("dlginputset.configUsing");r.c.error([t]),setTimeout((()=>{this.isAllowClose=!0}),200)}},onBlur(t){t&&(this.isShow=!1,this.rotate=!1)},getSize(){let t=Math.min(window.innerWidth/800,window.innerHeight/1280).toFixed(3);return 16*t},initData(){if(this.isReturnKey)this.selectValue=this.realVal;else for(let t in this.options)this.options[t].val==this.realVal&&(this.selectValue=t)}},computed:{optiponsHeight(){let t=Object.keys(this.options).length,e=t>this.maxSize?this.maxSize:t,o=e*(this.getSize()*this.height+2)/this.getSize();return o+"rem"},optiponsWidth(){return(this.width*this.getSize()+18)/this.getSize()+"rem"},maskWidth(){return this.width+"rem"},singleHeight(){return this.height+"rem"},innerWidth(){return(this.width*this.getSize()-4)/this.getSize()+"rem"},singleWidth(){return this.width+"rem"},textWidth(){return.96*(this.width*this.getSize()-4)/this.getSize()+"rem"},isScroll(){let t=Object.keys(this.options).length;return t>this.maxSize}},created(){this.initData()},watch:{options:{deep:!0,immediate:!0,handler:function(){this.initData()}},realVal:{deep:!0,immediate:!0,handler:function(){this.initData()}}}},b=()=>{(0,s.sj)((t=>({cea8eeb6:t.fntSize,"8d9f4f94":t.singleWidth,"530bb4b7":t.singleHeight,d66caf90:t.innerWidth,"6f2633ee":t.optiponsHeight,"411ab4a4":t.optiponsWidth,c8ba171e:t.textWidth})))},h=c.setup;c.setup=h?(t,e)=>(b(),h(t,e)):b;var g=c,m=o(83744);const _=(0,m.Z)(g,[["render",p],["__scopeId","data-v-1edfea66"]]);var x=_}}]);
//# sourceMappingURL=801.fec46f96.js.map