"use strict";(self["webpackChunkleetx_web"]=self["webpackChunkleetx_web"]||[]).push([[184],{59317:function(t,e,s){function i(t){let e;if(t instanceof Array){e=[];for(let s=0;s<t.length;s++)e[s]=i(t[s])}else if(t instanceof Object){e={};for(let s of Object.keys(t))e[s]=i(t[s])}else e=t;return e}function a(t,e,s=!1){let i=!0;if(t instanceof Array&&e instanceof Array&&e.length==t.length){for(let n=0;n<t.length;n++)if(i=i&&a(t[n],e[n],s),!i)break}else if(!(t instanceof Object&&e instanceof Object)||t instanceof Array||e instanceof Array)t instanceof Object||e instanceof Object?i=!1:(i=!0,s&&(i=t===e));else for(let n in t){if(!(n in e)){i=!1;break}if(i=i&&a(t[n],e[n],s),!i)break}return i}function n(t,e,s=!1){return s?JSON.stringify(t)===JSON.stringify(e):a(t,e)}s.d(e,{IK:function(){return n},p$:function(){return i}})},26184:function(t,e,s){s.r(e),s.d(e,{default:function(){return se}});var i=s(66252),a=s(3577);const n={class:"base-box"},o={class:"device-name-line"},l={class:"device-name"},r={class:"device-num-line"},h={class:"device-num"},d={class:"date-time-line"},c={class:"date-time"},u={class:"language-line"},m={class:"lang"},v={class:"torque-unit-line"},p={class:"torque-unit"},_={class:"speed-unit-line"},g={class:"speed-unit"},D={class:"angle-unit-line"},b={class:"angle-unit"},f={class:"max-torque-line"},w={class:"version-text device-num"},y={class:"version-val device-val"},x={class:"max-speed-line"},C={class:"version-text device-num"},T={class:"version-val device-val"},k={class:"embedded-line"},$={class:"version-text embedded-text"},S={class:"version-val embedded-val"},V={class:"front-line"},I={class:"version-text front-text"},A={class:"version-val front-val"},z={class:"server-line"},W={class:"version-text server-text"},M={class:"version-val server-val"};function L(t,e,s,L,U,j){const O=(0,i.up)("InputText"),B=(0,i.up)("InputVal"),Y=(0,i.up)("InputDateTime"),Z=(0,i.up)("NewSelect"),F=(0,i.up)("LeetxButton");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i._)("span",l,(0,a.zw)(t.$t("setbase.devicename")),1),(0,i.Wm)(O,{module:U.module,class:"name-input",text:U.newDevcieData.device_name,"onUpdate:text":e[0]||(e[0]=t=>U.newDevcieData.device_name=t)},null,8,["module","text"])]),(0,i._)("div",r,[(0,i._)("span",h,(0,a.zw)(t.$t("setbase.devicenumber")),1),(0,i.Wm)(B,{module:U.module,class:"num-input",sensorValue:U.newDevcieData.device_id,"onUpdate:sensorValue":e[1]||(e[1]=t=>U.newDevcieData.device_id=t),isInt:!0,minNum:"0",maxNum:"65535"},null,8,["module","sensorValue"])]),(0,i._)("div",d,[(0,i._)("span",c,(0,a.zw)(t.$t("setbase.time")),1),(0,i.Wm)(Y,{module:U.module,class:"datetime-input",onUpdateDateTime:e[2]||(e[2]=t=>j.setSysTime(t)),sbmitDataTimes:U.updateDateTimes},null,8,["module","sbmitDataTimes"])]),(0,i._)("div",u,[(0,i._)("span",m,(0,a.zw)(t.$t("setbase.language")),1),(0,i.Wm)(Z,{module:U.module,realVal:U.lang,class:"lang-input",options:{"中文":"zhCn",English:"en"},onValChng:j.changeLang},null,8,["module","realVal","onValChng"])]),(0,i._)("div",v,[(0,i._)("span",p,(0,a.zw)(t.$t("setbase.torqueunit")),1),(0,i.Wm)(Z,{module:U.module,class:"torque-input",isReturnKey:!0,realVal:U.torqueUnit,isAllowChng:0==this.$store.state.g_status.busy,options:U.units.sensors_gains.torque,onValChng:e[3]||(e[3]=t=>j.updateUnit(t,"torque"))},null,8,["module","realVal","isAllowChng","options"])]),(0,i._)("div",_,[(0,i._)("span",g,(0,a.zw)(t.$t("setbase.speedunit")),1),(0,i.Wm)(Z,{module:U.module,class:"speed-input",isReturnKey:!0,realVal:U.angleSpeedUnit,isAllowChng:0==this.$store.state.g_status.busy,options:U.units.sensors_gains.angle_speed,onValChng:e[4]||(e[4]=t=>j.updateUnit(t,"angle_speed"))},null,8,["module","realVal","isAllowChng","options"])]),(0,i._)("div",D,[(0,i._)("span",b,(0,a.zw)(t.$t("setbase.angleunit")),1),(0,i.Wm)(Z,{module:U.module,class:"angle-input",realVal:U.angleUnit,isReturnKey:!0,isAllowChng:0==this.$store.state.g_status.busy,options:U.units.sensors_gains.angle,onValChng:e[5]||(e[5]=t=>j.updateUnit(t,"angle"))},null,8,["module","realVal","isAllowChng","options"])]),(0,i._)("div",f,[(0,i._)("span",w,(0,a.zw)(t.$t("setbase.maxTorque"))+"(N.m)",1),(0,i._)("span",y,(0,a.zw)(this.$store.state.g_status.sensor_max),1)]),(0,i._)("div",x,[(0,i._)("span",C,(0,a.zw)(t.$t("setbase.maxSpeed"))+"(r/min)",1),(0,i._)("span",T,(0,a.zw)((60*U.oldDeviceData.max_speed).toFixed(3)),1)]),(0,i._)("div",k,[(0,i._)("span",$,(0,a.zw)(t.$t("setbase.embeddedSoftwareVersion")),1),(0,i._)("div",S,(0,a.zw)(U.softwareVersion.em_softver),1)]),(0,i._)("div",V,[(0,i._)("span",I,(0,a.zw)(t.$t("setbase.frontSoftwareVersion")),1),(0,i._)("div",A,(0,a.zw)(U.webver),1)]),(0,i._)("div",z,[(0,i._)("span",W,(0,a.zw)(t.$t("setbase.backgroundSoftwareVersion")),1),(0,i._)("div",M,(0,a.zw)(U.softwareVersion.webapiver),1)]),(0,i.Wm)(F,{enablerun:!1,module:U.module,class:"confirm-box",textColor:"#fff",bgcColor:"#00c155",width:"30.125rem",height:"3.75rem",fontSize:"2.25rem",fontFamily:"--SHSC-B",text:j.confirmMsg,onClick:j.submitDevdata},null,8,["module","text","onClick"])])}var U=s(26971),j=s(30703),O=s(70032),B=s(94166),Y=s(49963);const Z={class:"box"};function F(t,e,s,a,n,o){return(0,i.wg)(),(0,i.iD)("div",Z,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>o.dateTime=t),onClick:e[1]||(e[1]=(...t)=>o.showCalendar&&o.showCalendar(...t)),readonly:""},null,512),[[Y.nr,o.dateTime]])])}var q=s(92797);const N={key:0,class:"date-time-box"},E={class:"date-box"},K={class:"time-box"};function H(t,e,s,a,n,o){const l=(0,i.up)("LeetxDate"),r=(0,i.up)("LeetxTime"),h=(0,i.up)("LeetxButton");return n.isShow?((0,i.wg)(),(0,i.iD)("div",N,[(0,i._)("div",E,[(0,i.Wm)(l,{ref:n.date,date:n.sonDate},null,8,["date"])]),(0,i._)("div",K,[(0,i.Wm)(r,{ref:n.time,time:n.sonTime},null,8,["time"])]),(0,i.Wm)(h,{class:"cancel-btn",text:t.$t("confirm.cancel"),fontSize:"26px",onClick:o.cancel},null,8,["text","onClick"]),(0,i.Wm)(h,{class:"btn",text:t.$t("confirm.validity"),fontSize:"26px",textColor:"#fff",bgcColor:"#00c155",onClick:o.submitDateTime},null,8,["text","onClick"])])):(0,i.kq)("",!0)}var R=s(265);const P=t=>((0,i.dD)("data-v-045e8dfb"),t=t(),(0,i.Cn)(),t),G={class:"calendar-box"},J={class:"date-box"},X={class:"date-text"},Q=["onClick"],tt=P((()=>(0,i._)("div",{class:"line"},null,-1)));function et(t,e,s,n,o,l){const r=(0,i.up)("svgloader");return(0,i.wg)(),(0,i.iD)("div",G,[(0,i._)("div",J,[(0,i.Wm)(r,{icon_style:"svg-loader",color:"black",icon:"Double_Left",onClick:e[0]||(e[0]=t=>this.year-=1)}),(0,i._)("span",{class:"sub-month",onClick:e[1]||(e[1]=(...t)=>l.subMonth&&l.subMonth(...t))}),(0,i._)("span",X,(0,a.zw)(o.year)+" - "+(0,a.zw)(l.showMonth),1),(0,i._)("span",{class:"add-month",onClick:e[2]||(e[2]=(...t)=>l.addMonth&&l.addMonth(...t))}),(0,i.Wm)(r,{icon_style:"svg-loader-right",color:"black",icon:"Double_Right",onClick:e[3]||(e[3]=t=>this.year+=1)})]),(0,i._)("table",null,[(0,i._)("tr",null,[(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:0==o.firstWeek})},"日",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:1==o.firstWeek})},"一",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:2==o.firstWeek})},"二",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:3==o.firstWeek})},"三",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:4==o.firstWeek})},"四",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:5==o.firstWeek})},"五",2)]),(0,i._)("td",null,[(0,i._)("span",{class:(0,a.C_)({fnt3B:6==o.firstWeek})},"六",2)])]),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(6,(t=>(0,i._)("tr",{key:t},[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(7,(e=>(0,i._)("td",{key:e},[(0,i._)("span",{class:(0,a.C_)(l.dateClass(7*t+e-8)),onClick:s=>l.handleDate(7*t+e-8)},(0,a.zw)(l.showDay(7*t+e-8)),11,Q)]))),64))]))),64))]),tt])}var st=s(73496),it={components:{svgloader:st.Z},data(){return{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,days:[],day:{status:"current",val:(new Date).getDate()},firstWeek:void 0,lastDay:void 0,activeDay:-1,isEditDate:!1}},methods:{addMonth(){12==this.month?(this.year+=1,this.month=1):this.month+=1},subMonth(){1==this.month?(this.year-=1,this.month=12):this.month-=1},addYear(){this.year+=1},subYear(){this.year-=1},getFirstWeek(t,e){return new Date(t,e-1,1).getDay()},showDay(t){let e=this.days[t]["val"];return e<10?`0${e}`:`${e}`},getLastDay(t,e){return new Date(t,e,0).getDate()},updateTable(){this.days=[],this.firstWeek=this.getFirstWeek(this.year,this.month),this.lastDay=this.getLastDay(this.year,this.month);let t=this.getLastDay(this.year,this.month-1);for(let e=t-this.firstWeek+1;e<t+1;e++)this.days.push({val:e,status:"last"});for(let e=1;e<this.lastDay+1;e++)e==this.day.val&&(this.activeDay=this.days.length),this.days.push({val:e,status:"current"});this.activeDay=this.days[this.days.length-1]["val"]>=this.activeDay?this.activeDay:this.days[this.days.length-1]["val"];for(let e=1;e<42-this.lastDay-this.firstWeek+2;e++)this.days.push({val:e,status:"next"});this.firstWeek=this.activeDay%7},initYearMonth(){this.year=this.date.year,this.month=this.date.month,this.day={status:"current",val:this.date.day}},handleDate(t){let e=this.days[t];this.day=e,this.activeDay=t,"current"==e.status?this.activeDay=t:"last"==e.status?setTimeout((()=>{this.subMonth()}),200):setTimeout((()=>{this.addMonth()}),200)},dateClass(t){return"current"!=this.days[t].status?"not-current":t==this.activeDay?["current","active-day"]:"current"},sentDate(){let t={};return t["year"]=this.year,t["month"]=this.month,t["day"]=this.day.val,t},checkValidDate(){},initActiveDay(){},getYear(t){this.year=parseInt(t)},getMonth(t){this.month=parseInt(t)}},watch:{month(){this.updateTable()},year(){this.updateTable()},date(){this.initYearMonth()}},created(){this.initYearMonth(),this.updateTable()},computed:{showMonth(){return this.month<10?`0${this.month}`:this.month}},props:{clbck:{type:Function,default:function(){}},date:{type:Object,default:function(){return{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:{status:"current",val:(new Date).getDate()}}}}}},at=s(83744);const nt=(0,at.Z)(it,[["render",et],["__scopeId","data-v-045e8dfb"]]);var ot=nt;const lt=t=>((0,i.dD)("data-v-69b09001"),t=t(),(0,i.Cn)(),t),rt={class:"time-box"},ht={class:"add-btns"},dt=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"+")],-1))),ct=[dt],ut=lt((()=>(0,i._)("div",null,null,-1))),mt=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"+")],-1))),vt=[mt],pt=lt((()=>(0,i._)("div",null,null,-1))),_t=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"+")],-1))),gt=[_t],Dt={class:"time-text"},bt=lt((()=>(0,i._)("div",null,[(0,i._)("strong",null,":")],-1))),ft=lt((()=>(0,i._)("div",null,[(0,i._)("strong",null,":")],-1))),wt={class:"sub-btns"},yt=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"-")],-1))),xt=[yt],Ct=lt((()=>(0,i._)("div",null,null,-1))),Tt=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"-")],-1))),kt=[Tt],$t=lt((()=>(0,i._)("div",null,null,-1))),St=lt((()=>(0,i._)("span",null,[(0,i._)("strong",null,"-")],-1))),Vt=[St];function It(t,e,s,n,o,l){return(0,i.wg)(),(0,i.iD)("div",rt,[(0,i._)("div",ht,[(0,i._)("div",{onClick:e[0]||(e[0]=t=>l.handlebtn(0))},ct),ut,(0,i._)("div",{onClick:e[1]||(e[1]=t=>l.handlebtn(1))},vt),pt,(0,i._)("div",{onClick:e[2]||(e[2]=t=>l.handlebtn(2))},gt)]),(0,i._)("div",Dt,[(0,i._)("div",{class:"click-box",onClick:e[3]||(e[3]=t=>l.updateTime("hour"))},[(0,i._)("span",{class:(0,a.C_)({"box-active":o.hourIsActive})},(0,a.zw)(l.hourText),3)]),bt,(0,i._)("div",{class:"click-box",onClick:e[4]||(e[4]=t=>l.updateTime("min"))},[(0,i._)("span",{class:(0,a.C_)({"box-active":o.minIsActive})},(0,a.zw)(l.minText),3)]),ft,(0,i._)("div",{class:"click-box",onClick:e[5]||(e[5]=t=>l.updateTime("sec"))},[(0,i._)("span",{class:(0,a.C_)({"box-active":o.secIsActive})},(0,a.zw)(l.secText),3)])]),(0,i._)("div",wt,[(0,i._)("div",{onClick:e[6]||(e[6]=t=>l.handlebtn(3))},xt),Ct,(0,i._)("div",{onClick:e[7]||(e[7]=t=>l.handlebtn(4))},kt),$t,(0,i._)("div",{onClick:e[8]||(e[8]=t=>l.handlebtn(5))},Vt)])])}var At=s(22012),zt={data(){return{hour:(new Date).getHours(),min:(new Date).getMinutes(),sec:(new Date).getSeconds(),hourIsActive:!1,minIsActive:!1,secIsActive:!1}},methods:{handlebtn(t){switch(t){case 0:return void(this.hour=23==this.hour?0:this.hour+1);case 1:return void(this.min=59==this.min?0:this.min+1);case 2:return void(this.sec=59==this.sec?0:this.sec+1);case 3:return void(this.hour=0==this.hour?23:this.hour-1);case 4:return void(this.min=0==this.min?59:this.min-1);case 5:return void(this.sec=0==this.sec?59:this.sec-1)}},sentTime(){let t={};return t["hour"]=this.hour,t["min"]=this.min,t["sec"]=this.sec,t},initTime(){this.hour=this.time.hour,this.min=this.time.min,this.sec=this.time.sec},updateTime(t){"hour"==t?(this.hourIsActive=!0,this.minIsActive=!1,this.secIsActive=!1):"min"==t?(this.minIsActive=!0,this.hourIsActive=!1,this.secIsActive=!1):"sec"==t&&(this.secIsActive=!0,this.hourIsActive=!1,this.minIsActive=!1);const e=e=>{this[t]=e};let s=0,i="hour"==t?23:59,a="23.2rem";(0,At.Z)({clbck:e,min:s,max:i,isInt:!0,topY:a,val:this[t]}).then((t=>{e(t)})).catch((()=>{}))}},computed:{hourText(){return this.hour<10?`0${this.hour}`:this.hour},minText(){return this.min<10?`0${this.min}`:this.min},secText(){return this.sec<10?`0${this.sec}`:this.sec}},props:{clbck:{type:Function,default:function(){}},time:{type:Object,default:function(){return{hour:(new Date).getHours(),min:(new Date).getMinutes(),sec:(new Date).getSeconds()}}}},watch:{time:{immediate:!0,deep:!0,handler:function(){this.initTime()}}}};const Wt=(0,at.Z)(zt,[["render",It],["__scopeId","data-v-69b09001"]]);var Mt=Wt;const Lt={components:{LeetxDate:ot,LeetxTime:Mt,LeetxButton:R.Z},data(){return{date:"date-"+100*Math.random().toFixed(2),time:"time"+100*Math.random().toFixed(2),isShow:!0,sonDate:void 0,sonTime:void 0,box:void 0}},methods:{cancel(){this.isShow=!1},submitDateTime(){let t=this.$refs[this.date].sentDate(),e=this.$refs[this.time].sentTime();this.onConfirm&&this.onConfirm(Object.assign({},t,e)),this.closeBox()},closeBox(){this.isShow=!1,this.onCancel&&this.onCancel()},initStatus(){},initDateTime(){this.sonDate=this.dateObj,this.sonTime=this.timeObj},closeboard(t){let e=t.pageX,s=t.pageY;this.box||this.getBox();let i=this.box.getBoundingClientRect(),a=i.top,n=i.bottom,o=i.left,l=i.right;(e<o||e>l||s<a||s>n)&&(window.removeEventListener("click",this.closeboard),this.closeBox())},getBox(){this.box=document.getElementsByClassName("date-time-box")[0]}},created(){this.initDateTime()},mounted(){this.initStatus(),setTimeout((()=>{this.getBox(),window.addEventListener("click",this.closeboard)}),50)},props:{dateObj:{type:Object,default:function(){return{year:(new Date).getFullYear(),month:(new Date).getMonth()+1,day:(new Date).getDate()}}},topY:{type:String,default:"0rem"},timeObj:{type:Object,default:function(){return{hour:(new Date).getHours(),min:(new Date).getMinutes(),sec:(new Date).getSeconds()}}}},watch:{dateObj:{deep:!0,handler:function(){this.initDateTime()}},timeObj:{deep:!0,handler:function(){this.initDateTime()}}}},Ut=()=>{(0,Y.sj)((t=>({a6fd8a66:t.topY})))},jt=Lt.setup;Lt.setup=jt?(t,e)=>(Ut(),jt(t,e)):Ut;var Ot=Lt;const Bt=(0,at.Z)(Ot,[["render",H],["__scopeId","data-v-265503f2"]]);var Yt=Bt;const Zt=(t={})=>{if("object"!=typeof t)throw new Error("props must be a object");return new Promise(((e,s)=>{let i=(0,Y.ri)(Yt,t).use(q.Z).mount(document.createElement("div"));document.body.appendChild(i.$el),i.onConfirm=function(t){e(t)},i.onCancel=function(t){s(t)}}))};var Ft=Zt;const qt={props:{width:{type:String,default:"17.625rem"},text:{type:String,default:"xxxxxxxxxxxxx"},sbmitDataTimes:{type:Number,default:0},module:{type:String,default:"NULL"}},data(){return{isShow:!1,valid:!0,year:void 0,mon:void 0,day:void 0,hour:void 0,min:void 0,sec:void 0,active:!0,times:0,hasVal:!1,isActiveSpan:!1,hasDataKeyboard:!1}},methods:{showCalendar(t){let e=t.target.getBoundingClientRect(),s=e.bottom;if(s+="px",this.hasDataKeyboard)return;this.hasDataKeyboard=!0,this.isActiveSpan=!0,0==this.hasVal&&this.initDateTime();let i=this.year,a=this.mon,n=this.day,o=this.hour,l=this.min,r=this.sec,h={year:i,month:a,day:n},d={hour:o,min:l,sec:r};Ft({dateObj:h,timeObj:d,topY:s}).then((t=>{this.updateDateTime(t),this.hasVal=!0,this.sendDateTime(),this.isActiveSpan=!1,this.hasDataKeyboard=!1})).catch((()=>{this.isActiveSpan=!1,this.hasDataKeyboard=!1}))},initDateTime(){let t=this.$store.state.g_status.heartbit,e=new Date(t);this.year=e.getFullYear(),this.mon=e.getMonth()+1,this.day=e.getDate(),this.hour=e.getHours(),this.min=e.getMinutes(),this.sec=e.getSeconds()},updateDateTime(t){this.year=t.year,this.mon=t.month,this.day=t.day,this.hour=t.hour,this.min=t.min,this.sec=t.sec},sendDateTime(){this.$emit("updateDateTime",{text:this.dateTime,valid:this.valid})}},computed:{dateTime(){let t=this.hasVal?new Date(this.year,this.mon-1,this.day,this.hour,this.min,this.sec,0):new Date(this.$store.state.g_status.heartbit);var e=`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`;return e},enabled(){return"NULL"==this.module||this.module in this.$store.state.f_status.permissions&&4==this.$store.state.f_status.permissions[this.module]},pointerEvent(){return this.enabled?"auto":"none"},opacity(){return this.enabled?1:.5}},watch:{sbmitDataTimes:{handler:function(){this.sendDateTime()}}},unmounted(){},created(){this.initDateTime()},mounted(){this.initDateTime()}},Nt=()=>{(0,Y.sj)((t=>({"75e13962":t.width,"59748f41":t.pointerEvent,"31f2e6b2":t.opacity})))},Et=qt.setup;qt.setup=Et?(t,e)=>(Nt(),Et(t,e)):Nt;var Kt=qt;const Ht=(0,at.Z)(Kt,[["render",F],["__scopeId","data-v-bcd56552"]]);var Rt=Ht,Pt=s(16496),Gt=s(48593),Jt=s(84965),Xt=s(59317),Qt=s(36345),te={components:{InputText:j.Z,LeetxButton:R.Z,InputDateTime:Rt,NewSelect:Pt.Z,InputVal:O.Z},data(){return{module:"DEV_CONFIG",lang:"zhCn",webver:"1.0.13",newDevcieData:{device_name:"****",device_id:1,device_time:"2020-01-01 01:01:01",max_speed:.1},oldDeviceData:{device_name:"****",device_id:1,device_time:"2020-01-01 01:01:01",max_speed:.1,isinit:!1},units:B.ZP,torqueUnit:1,angleUnit:1,angleSpeedUnit:1,isInit:!1,updateDateTimes:0,softwareVersion:{em_hardver:"****",em_softver:"****",webapiver:"****",hand_version:"****",mcu_version:"****",fpga_version:"****"},isAllowLeave:!0,timeChange:!1}},methods:{getOtherPars(){return`${this.$store.state.g_status.spindle_tranlationratio.toFixed(2)}/${this.$store.state.g_status.trqsensorcalib_normaltorque.toFixed(2)}/${this.$store.state.g_status.trqsensorcalib_sensitivity.toFixed(2)}`},changeLang(t){(0,Gt.Wg)(this.$i18n,this.$global_var,t)},initLang(){this.lang="zhCn"==this.$global_var.lang?"zhCn":"en"},submitDevdata(){let t=this.getToServerData(),e=q.Z.global.t("setbase.success"),s=q.Z.global.t("setbase.err");(0,U.ZE)(t).then((()=>{Jt.c.success([e]),this.oldDeviceData.device_name=this.newDevcieData.device_name,this.oldDeviceData.device_id=this.newDevcieData.device_id,this.oldDeviceData.max_speed=this.newDevcieData.max_speed,this.isAllowLeave=!0})).catch((()=>{Jt.c.error([s])}))},initUnits(){this.angleSpeedUnit=this.$store.state.sensors.angle_speed.name,this.torqueUnit=this.$store.state.sensors.torque.name,this.angleUnit=this.$store.state.sensors.angle.name},updateUnit(t,e){(0,Gt.Xr)(e,t)},sensorUnit(t){return this.$store.state.sensors[t].name},getDevData(){(0,U.wG)().then((t=>{0==t.status?(this.newDevcieData=t.data,this.oldDeviceData=(0,Xt.p$)(t.data),this.oldDeviceData.isinit=!0):this.oldDeviceData.isinit=!1})).catch((()=>{this.oldDeviceData.isinit=!1}))},getUnit(t){return this.$store.state.sensors[t]},getVersion(){(0,U.Ys)().then((t=>{this.softwareVersion=t.data}))},getToServerData(){let t={device_name:this.newDevcieData.device_name,device_id:this.newDevcieData.device_id,max_speed:this.newDevcieData.max_speed};return t},checkDataChange(){return 0==this.oldDeviceData.isinit||this.newDevcieData.device_name==this.oldDeviceData.device_name&&this.newDevcieData.device_id==this.oldDeviceData.device_id&&this.newDevcieData.max_speed==this.oldDeviceData.max_speed},setSysTime(t){this.newDevcieData.device_time=t,(0,U.ys)(t.text)}},created(){this.getDevData(),this.getVersion(),this.initLang(),this.initUnits(),this.webver="1.5.1014T"},mounted(){this.angleSpeedUnit=this.$store.state.sensors.angle_speed.name,this.isInit=!0},computed:{otherVersions(){return this.softwareVersion.hand_version+"/"+this.softwareVersion.mcu_version+"/"+this.softwareVersion.fpga_version},confirmMsg(){return this.$t("confirm.confirm")},maxInputSpeed(){let t=this.$store.state.g_status.speed_max;return isNaN(t)?60:t}},beforeRouteLeave(t,e,s){if(this.checkDataChange()||this.$store.state.g_status.busy)return void s();let i=this.$t("setcontrol.saveSet"),a=this.$t("setcontrol.yes"),n=this.$t("setcontrol.no"),o=this.$t("setcontrol.isSaveSet");(0,Qt.Z)({title:i,confirmText:a,cancelText:n,msg:o}).then((()=>{this.submitDevdata(),setTimeout((()=>{s()}),100)})).catch((t=>{s()}))},watch:{}};const ee=(0,at.Z)(te,[["render",L],["__scopeId","data-v-1a4ab6d3"]]);var se=ee}}]);
//# sourceMappingURL=184.2293df88.js.map