"use strict";(self["webpackChunkleetx_web"]=self["webpackChunkleetx_web"]||[]).push([[698],{90602:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var a=s(66252),o=s(3577);const d={class:"input-box"},l={class:"input-table"},n={class:"row1"},r={class:"row2"},i={class:"row3"},h={class:"row4"},u={class:"row1"},c={class:"row2"},g={class:"row3"},m={class:"row4"};function S(t,e,s,S,L,I){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("table",l,[(0,a._)("tr",null,[(0,a._)("td",n,(0,o.zw)(t.$t("dbgtln.address")),1),(0,a._)("td",r,(0,o.zw)(t.$t("dbgtln.function")),1),(0,a._)("td",i,(0,o.zw)(t.$t("dbgtln.type")),1),(0,a._)("td",h,(0,o.zw)(t.$t("dbgtln.monitorvalue")),1)]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(L.totalLineData.ToolOut.Member,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",u,(0,o.zw)(t.StartByte.toFixed(1)),1),(0,a._)("td",c,(0,o.zw)(I.getOutSdoItem(t.LinkSdo,"name")),1),(0,a._)("td",g,(0,o.zw)(I.getOutSdoItem(t.LinkSdo,"type")),1),(0,a._)("td",m,(0,o.zw)(I.formatval(t.LinkSdo)),1)])))),128))])])}var L=s(19995),I=s(38373),w=s(46157),D=s(65884),p=s(96754),O={data(){return{totalLineData:{Type:"FieldBus",NumeralByteOrder:"DCBA",StringByteOrder:"ABCD",NodeName:"",ToolIn:{ByteLength:20,Member:[]},ToolOut:{ByteLength:20,Member:[]}},res:!1,sdoItems:{},realVals:{},FIELDBUSTimer:void 0}},methods:{formatval(t){if("0x30020B"==t)return parseInt(this.realVals[t]).toString("16").padStart(4,"0");let e=this.getOutSdoItem(t,"type");return"F32"==e||"F64"==e?parseFloat(this.realVals[t]).toFixed(3):this.realVals[t]},setSignal(){const t=D.g.rise(15);(0,w.Z)().then((()=>{D.g.descend(t)})).catch((()=>{D.g.descend(t)}))},operateTotalline(t){(0,L.KJ)({addr:this.totalLineData.ToolOut.Member[t].StartByte,val:!0})},getTotalLineData(){(0,L.CG)().then((t=>{if(console.log("1111111111",t),void 0==t.data["Type"]){let e=t.data.ToolOut;e||(e={ByteLength:20,Member:[]}),this.totalLineData.ToolOut=e,this.createWs()}else this.totalLineData=t.data,this.createWs()})).catch((()=>{}))},getAddress(t){},getOutSdoItem(t,e){return t&&t in this.sdoItems["ToolOut"]&&e in this.sdoItems["ToolOut"][t]?this.sdoItems["ToolOut"][t][e]:"--"},initSdoItems(){this.sdoItems["ToolOut"]=(0,p.GZ)("out")},createWs(){I.U3.msghandler=t=>{this.realVals=JSON.parse(t).data},I.U3.openhandler=()=>{this.sendsdoLst()},this.sendsdoLst()},sendsdoLst(){let t=this.getSdoList();t.length>=0&&I.U3.send(JSON.stringify({id:"0",mode:"FIELDBUS",sdos:t}))},getSdoList(){let t=[],e=this.totalLineData.ToolOut.Member;for(let s=0;s<e.length;s++)t.push(e[s].LinkSdo);return t},getFIELDBUSData(){this.FIELDBUSTimer=setInterval((()=>{this.dataId=Math.random(),I.U3.send(JSON.stringify({id:this.dataId,mode:"FIELDBUS"}))}),200)}},created(){this.getFIELDBUSData(),this.getTotalLineData(),this.initSdoItems()},unmounted(){clearInterval(this.FIELDBUSTimer),I.U3.openhandler=null}},T=s(83744);const B=(0,T.Z)(O,[["render",S],["__scopeId","data-v-46ef55a5"]]);var b=B}}]);
//# sourceMappingURL=698.19bcd762.js.map