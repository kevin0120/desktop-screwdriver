{"version":3,"file":"js/209.965b2f09.js","mappings":"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","sources":["webpack://leetx-web/./src/api/profile/profile_job.js","webpack://leetx-web/./src/utils/deepCopy.js","webpack://leetx-web/./src/view/profiles/ProfileJobEditor.vue","webpack://leetx-web/./src/view/profiles/ProfileJobEditor.vue?22cd"],"sourcesContent":["import axios_ins from \"../../utils/axios_ins\";\r\n\r\n\r\n\r\nexport function pfModJobApi(paras) {\r\n    return axios_ins({\r\n        url: \"pf/jobmod\",\r\n        method: \"post\",\r\n        data: paras\r\n    })\r\n}\r\n\r\n\r\nexport function curPfJobApi(id) {\r\n    return axios_ins({\r\n        url: `pf/cur/job?id=${id}`,\r\n        method: \"get\",\r\n    })\r\n}\r\n\r\nexport function curPfJobListApi() {\r\n    return axios_ins({\r\n        url: \"pf/cur/joblst\",\r\n        method: \"get\",\r\n    })\r\n}\r\n\r\n\r\nexport function pfJobDelApi(paras) {\r\n    return axios_ins({\r\n        url: \"pf/jobdel\",\r\n        method: \"post\",\r\n        params: paras\r\n    })\r\n}\r\n\r\n\r\nexport function pfCurJobSelApi(job) {\r\n    return axios_ins({\r\n        url: `pf/cur/jobsel?job=${job}`,\r\n        method: \"get\",\r\n    })\r\n}\r\n","// 递归实现深拷贝\r\n\r\nexport function deepCopy(obj) {\r\n    let ctn\r\n    if (obj instanceof Array) {\r\n        ctn = []\r\n        for (let i = 0; i < obj.length; i++) {\r\n            ctn[i] = deepCopy(obj[i])\r\n        }\r\n    }\r\n    else if (obj instanceof Object) {\r\n        ctn = {}\r\n        for (let key of Object.keys(obj)) {\r\n            ctn[key] = deepCopy(obj[key])\r\n        }\r\n    }\r\n    else {\r\n        ctn = obj\r\n    }\r\n    return ctn\r\n}\r\n// 给工艺表单初始化数据,实际上组件传出数据的时候,外层只用到了sensorValue\r\nexport function initData(param) {\r\n    if (param instanceof Array) {\r\n        throw new Error(`${param} 不能为数组  `)\r\n    }\r\n    let val\r\n    if (param instanceof Object) {\r\n        val = {}\r\n        for (let key in param) {\r\n            val[key] = initData(param[key])\r\n        }\r\n    }\r\n    else {\r\n        val = { sensorValue: param, displayValue: 0, valid: true }\r\n    }\r\n    return val\r\n}\r\n\r\n\r\nexport function getDeepData(current, target, fn) {\r\n    if (target instanceof Object) {\r\n        for (let key in target) {\r\n            target[key] = getDeepData(current[key], target[key], fn)\r\n        }\r\n    } else {\r\n        target = current.sensorValue\r\n        fn && fn(target, current)\r\n    }\r\n    return target\r\n}\r\n\r\n// 判断两个对象的数据结构是否一样,值可以不一样\r\n// 深度遍历\r\nfunction sameStructure(obj1, obj2, isCheckValSame = false) {\r\n    let isSame = true\r\n    // 同为数组怎么样处理\r\n    if ((obj1 instanceof Array) && (obj2 instanceof Array) && (obj2.length == obj1.length)) {\r\n        for (let i = 0; i < obj1.length; i++) {\r\n            isSame = isSame && sameStructure(obj1[i], obj2[i], isCheckValSame)\r\n            if (!isSame) {\r\n                break\r\n            }\r\n        }\r\n    }\r\n    // 同为对象但不是数组怎么样处理\r\n    else if ((obj1 instanceof Object) && (obj2 instanceof Object) && !(obj1 instanceof Array) && !(obj2 instanceof Array)) {\r\n        for (let key in obj1) {\r\n            // obj2里面有这个属性\r\n            if (key in obj2) {\r\n                isSame = isSame && sameStructure(obj1[key], obj2[key], isCheckValSame)\r\n                if (!isSame) {\r\n                    break\r\n                }\r\n            } else {\r\n                isSame = false\r\n                break\r\n            }\r\n        }\r\n    }\r\n    else if (!(obj1 instanceof Object) && !(obj2 instanceof Object)) {\r\n        // 说明数据结构一样\r\n        isSame = true\r\n        // 检测值是不是一样的\r\n        if (isCheckValSame) {\r\n            isSame = obj1 === obj2\r\n        }\r\n    }\r\n    else {\r\n        isSame = false\r\n    }\r\n    return isSame\r\n}\r\n\r\n// function sameStructureCheck(obj1, obj2) {\r\n//     for (let c in obj1) {\r\n//         if (c instanceof Object)\r\n//             return sameStructureCheck(obj1, obj2)\r\n//         else\r\n//             if (!(c in obj2))\r\n//                 return false;\r\n//     }\r\n//     return true;\r\n// }\r\n\r\n//两个数据结构是否相同\r\nexport function hasSameStructure(obj1, obj2, isCheckValSame = false) {\r\n    if (isCheckValSame) {\r\n        return JSON.stringify(obj1) === JSON.stringify(obj2)\r\n    }\r\n    return sameStructure(obj1, obj2)\r\n}\r\n\r\n\r\n\r\n//检测对象是否包含空值\r\nexport function checkObjHasNull(obj, replaceVal) {\r\n    if (obj === null || obj === undefined) return true\r\n    if (typeof (obj) != 'object') return false\r\n    for (let key in obj) {\r\n        const isNull = checkObjHasNull(obj[key])\r\n        if (isNull) {\r\n            obj[key] = replaceVal\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","<template>\r\n    <div class=\"tech-box\">\r\n\r\n        <div class=\"tech-basemsg-line\">\r\n            <span class=\"job-name-title\">JOB{{ JobId.toString().padStart(3, \"0\") }}编辑</span>\r\n        </div>\r\n        <div class=\"job-options-box_line_top1\"></div>\r\n        <div class=\"tech-basemsg-line\">\r\n            <span class=\"tech-num\">Job名称</span>\r\n            <InputText :module=\"module\" class=\"tech-input-1\" width=\"20vw\" :disabled=\"true\" :text=\"Name\"\r\n                @update:modelValue=\"Name = $event.text\" :textValid=\"nameReason == ''\" :validReason=\"nameReason\">\r\n            </InputText>\r\n            <span class=\"tech-num-2\">NG后重复次数</span>\r\n                <InputVal :maxNum=\"9999\" :module=\"module\" :sensorValue=\"MaxNGCount\" width=\"12rem\"\r\n                    class=\"tech-input\" @update:sensorValue=\"MaxNGCount = $event\">\r\n                </InputVal>\r\n        </div>\r\n        <div class=\"job-options-box_line_top1\"></div>\r\n        <div class=\"tech-basemsg-line\">\r\n            <FormItem v-if=\"true\" label=\"Pset自动选择\" labelWidth=\"5rem\" outClass=\"repeat-run\" leftDis=\"5.375vw\"\r\n                class=\"cyc-box\">\r\n                <LeetxSwitch :module=\"module\" :value=\"AutoSelPset\" :activeVal=\"true\" :staticVal=\"false\" :height=\"2\"\r\n                    class=\"repeat-btn\" @sentVal=\"AutoSelPset = $event\"></LeetxSwitch>\r\n            </FormItem>\r\n            <FormItem label=\"输出循环\" labelWidth=\"5rem\" outClass=\"repeat-run\" leftDis=\"5.375vw\" class=\"cyc-box-1\">\r\n                <LeetxSwitch :module=\"module\" :value=\"Reused\" :activeVal=\"true\" :staticVal=\"false\" :height=\"2\"\r\n                    class=\"repeat-btn-1\" @sentVal=\"Reused = $event\"></LeetxSwitch>\r\n            </FormItem>\r\n        </div>\r\n        <div class=\"job-options-box_line_top1\"></div>\r\n\r\n        <div class=\"operate-line\">\r\n            <div class=\"operate-box-stroke\" @click=\"addParallelPf\">\r\n                <svg-loader class=\"pfIcon\" icon=\"Addparallel\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>并行添加</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box-stroke\" @click=\"addSerialPf\">\r\n                <svg-loader class=\"pfIcon\" icon=\"Addserial\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>串行添加</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box\" @click=\"deletePf\">\r\n                <svg-loader class=\"pfIcon\" icon=\"EditTwo\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>删除</span>\r\n            </div>\r\n            <div>\r\n                <span class=\"line\"></span>\r\n            </div>\r\n            <div class=\"operate-box\" @click=\"confirm\">\r\n                <svg-loader class=\"pfIcon\" icon=\"RightOne\" size=\"2.5rem\"></svg-loader>\r\n                <br>\r\n                <span>保存</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"job-options-box_line_top1\"></div>\r\n\r\n        <div class=\"job-options-box\" v-if=\"JobItems.length != 0\">\r\n            <div v-for=\"(items, i) in JobItems\" :key=\"i\" class=\"job-options-box_1\">\r\n                <div v-if=\"i\" class=\"job-options-box_line1\">\r\n                </div>\r\n                <div class=\"job-options-box_f\">&</div>\r\n                <div v-for=\"(pset, j) in items\" :key=\"j\" class=\"job-options-box_2\">\r\n                    <div class=\"job-options-box_line2\">\r\n                    </div>\r\n                    <div :class=\"{ 'job-options-box_4': true, 'job-options-box_4_active': active_item_i == i && active_item_j == j }\"\r\n                        @click=\"selectFile(i, j)\">\r\n                        <svg-loader :class=\"{ 'file-static-icon': true, }\"\r\n                            :icon=\"active_item_i == i && active_item_j == j ? 'ActivePf' : 'StaticPf'\"></svg-loader>\r\n                        <span class=\"pf-static-num\">{{ pset.Pset }}</span>\r\n                        <span class=\"file-name\">批次数:{{ pset.BatchSize }}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 展示当前选中的工步 -->\r\n        <div class=\"pro-step-data\" v-if=\"curJobId != -1\">\r\n            <div class=\"tech-basemsg-line\">\r\n                <span class=\"tech-num\">Pset</span>\r\n                <NewSelect :isScroll=\"true\" :bottom=\"true\" :module=\"module\" :width=\"36\" :realVal=\"currentPset.Pset\" :isAllowChng=\"true\"\r\n                    class=\"tech-input-1\" :options=\"profileOptionNameLst\" @valChng=\"setParams('Pset', ($event))\">\r\n                </NewSelect>\r\n            </div>\r\n\r\n            <div class=\"tech-basemsg-line\">\r\n                <span class=\"tech-num\">任务数量</span>\r\n                <InputVal :maxNum=\"9999\" :module=\"module\" :sensorValue=\"currentPset.BatchSize\" width=\"12rem\"\r\n                    class=\"tech-input-1\" @updateData=\"setParams('BatchSize', ($event.sensorValue))\"></InputVal>\r\n\r\n                <!-- <span class=\"tech-num-2\">NG后重复次数</span>\r\n                <InputVal :maxNum=\"9999\" :module=\"module\" :sensorValue=\"currentPset.Retries\" width=\"12rem\"\r\n                    class=\"tech-input\" @updateData=\"setParams('Retries', ($event.sensorValue))\">\r\n                </InputVal> -->\r\n            </div>\r\n\r\n            <div class=\"tech-basemsg-line\">\r\n                <span class=\"tech-num\">计数方式</span>\r\n                <NewSelect :bottom=\"true\" :module=\"module\" :width=\"12\" :realVal=\"currentPset.OnlyCntOK\" :isAllowChng=\"true\"\r\n                    class=\"tech-input-1\" :options=\"{ '总是计数': 0, '合格时才计数': 1 }\" @valChng=\"setParams('OnlyCntOK', ($event))\">\r\n                </NewSelect>\r\n\r\n                <span class=\"tech-num-2\">强制任务状态</span>\r\n                <NewSelect :bottom=\"true\" :module=\"module\" :width=\"12\" :realVal=\"currentPset.ForceBatchStatus\"\r\n                    :isAllowChng=\"true\" class=\"tech-input\" :options=\"{ '批次不合格': 0, '批次合格': 1 }\"\r\n                    @valChng=\"setParams('ForceBatchStatus', ($event))\">\r\n                </NewSelect>\r\n            </div>\r\n\r\n            <div class=\"tech-basemsg-line\">\r\n                <span class=\"tech-num\">反松减计数</span>\r\n                <NewSelect :bottom=\"true\" :module=\"module\" :width=\"12\" :realVal=\"currentPset.DecLoosening\"\r\n                    :isAllowChng=\"true\" class=\"tech-input-1\" :options=\"{ '永远不减计数': 0, '反松时减计数': 1, '反松OK后减计数': 2 }\"\r\n                    @valChng=\"setParams('DecLoosening', ($event))\">\r\n                </NewSelect>\r\n\r\n                <span class=\"tech-num-2\">反松模式</span>\r\n                <NewSelect :bottom=\"true\" :module=\"module\" :width=\"12\" :realVal=\"currentPset.LooseningMode\"\r\n                    :isAllowChng=\"true\" class=\"tech-input\" :options=\"{ '永远不反松': 0, '始终反松': 1, '不合格时反松': 2 }\"\r\n                    @valChng=\"setParams('LooseningMode', ($event))\">\r\n                </NewSelect>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { deepCopy } from \"@/utils/deepCopy\";\r\nimport {\r\n    genJobProfile,\r\n} from \"@/components/profiles/profileHelper\";\r\nimport InputText from \"@/components/input/InputText.vue\";\r\nimport InputVal from \"@/components/input/InputVal.vue\";\r\nimport NewSelect from \"@/components/select/NewSelect.vue\";\r\nimport { messageApi } from \"@/components/message/message\";\r\n// 激活文件\r\nimport { pfModJobApi, curPfJobApi } from \"@/api/profile/profile_job\";\r\nimport { curPfListApi } from \"@/api/profile/profile\";\r\n// import getEmptyProfile from '../utils/empty_profile'\r\nexport default {\r\n    components: {\r\n        NewSelect,\r\n        InputText,\r\n        InputVal,\r\n    },\r\n    data() {\r\n        return {\r\n            module: \"PROFILE\",\r\n            /**\r\n             * 工步列表\r\n             */\r\n            seqItems: [],\r\n            /**\r\n             * 当前选中的工步索引号\r\n             */\r\n            activeSeqIndex: -1,\r\n            /**\r\n             * 需要添加的工步索引\r\n             */\r\n            addSeqIndex: -1,\r\n            /**\r\n             * 当前选中的工步类型\r\n             */\r\n            sel_seq_type: \"\",\r\n            /**\r\n             * 完整的工艺文件\r\n             */\r\n            profile: {},\r\n            /**\r\n             * 工步参数 Json\r\n             */\r\n            profile_json: \"\",\r\n            /**\r\n             * 高级工艺设置参数Json\r\n             */\r\n            global_paras_json: \"\",\r\n            /**\r\n             * 工步类型-名称字典\r\n             */\r\n\r\n\r\n            // 工艺文件名\r\n            profile_name: \"...\",\r\n            // pset号是不是存在于工艺列表里面(默认存在)\r\n            validPset: true,\r\n\r\n\r\n            // 通过job获取文件成功以后才赋值,\r\n            curJobId: -1,\r\n\r\n            /**\r\n             * 退出界面检查标志\r\n             */\r\n            need_check_edit: false,\r\n            delPsetNum: 0,\r\n\r\n\r\n            /**\r\n             * 工艺文件列表\r\n             */\r\n            profileNameLst: [],\r\n\r\n            defaultPset: {\r\n                \"Pset\": 0,\r\n                \"RetriesLimit\": true, //重复次数限制\r\n                \"Retries\": 1, //重复次数\r\n                \"BatchSizeLimit\": true, //pset打的次数次数限制\r\n                \"BatchSize\": 10, //该pset打的次数\r\n                \"LooseningMode\": 0, //0 永远不反松,1 始终反松 2,不合格时反松\r\n                \"OnlyCntOK\": 1, //合格时才计数\r\n                \"ForceBatchStatus\": 0, //0 批次不合格,1批次合格\r\n                \"DecLoosening\": 0 //0 永远不减计数,1 反松时减计数 2,反松OK后减计数\r\n            },\r\n            /**\r\n             * 工艺文件列表\r\n             */\r\n            profileOptionNameLst: { \"无\": 0 },\r\n\r\n            active_item_i: 0,\r\n            active_item_j: 0,\r\n\r\n            Name: \"job1\", //Job名称\r\n            JobId: 0, //JobId\r\n            Descr: \"\", // 描述\r\n            Ver: \"1.0.0\",\r\n            Mode: 1,\r\n            Reused: true, //输出循环\r\n            JobSelSource: 0, //与Pset选择源一致,\r\n            AutoSelPset: false, //自动选择Pset\r\n            MaxNGCount: 10,\r\n\r\n            JobItems: [\r\n            ],\r\n        };\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n        next()\r\n    },\r\n    methods: {\r\n        selectFile(i, j) {\r\n            this.active_item_i = i;\r\n            this.active_item_j = j;\r\n        },\r\n\r\n        setParams(key, val) {\r\n            this.JobItems[this.active_item_i][this.active_item_j][key] = val\r\n        },\r\n\r\n        setboolParams(key, val) {\r\n            this.JobItems[this.active_item_i][this.active_item_j][key] = val\r\n        },\r\n\r\n        addParallelPf() {\r\n            this.JobItems[this.active_item_i].splice(this.active_item_j + 1, 0, deepCopy(this.defaultPset))\r\n            this.active_item_j++\r\n\r\n        },\r\n\r\n        addSerialPf() {\r\n            this.JobItems[this.active_item_i + 1] = this.JobItems[this.active_item_i + 1] ? this.JobItems[this.active_item_i + 1] : []\r\n            this.JobItems[this.active_item_i + 1].unshift(deepCopy(this.defaultPset))\r\n            this.active_item_i++\r\n            this.active_item_j = 0\r\n        },\r\n\r\n        deletePf() {\r\n\r\n            this.JobItems[this.active_item_i].splice(this.active_item_j, 1)\r\n            this.active_item_j = 0\r\n            if (this.JobItems[this.active_item_i].length == 0) {\r\n                this.JobItems.splice(this.active_item_i, 1)\r\n                this.active_item_i = 0\r\n            }\r\n\r\n            // 默认需要有一个默认pset\r\n            if (this.JobItems.length==0){\r\n                this.JobItems=[[deepCopy(this.defaultPset)]]\r\n                this.profile.JobItems=this.JobItems\r\n            }\r\n\r\n        },\r\n\r\n\r\n        confirm() {\r\n            this.profile.Name = this.Name;\r\n            this.profile.JobId = this.JobId;\r\n            this.profile.Descr = this.Descr;\r\n            this.profile.Ver = this.Ver;\r\n            this.profile.Mode = this.Mode;\r\n            this.profile.Reused = this.Reused;\r\n            this.profile.JobSelSource = this.JobSelSource;\r\n            this.profile.AutoSelPset = this.AutoSelPset;\r\n            this.profile.MaxNGCount = this.MaxNGCount;\r\n            this.sendFileToServerApi(this.profile, this.saveSuccess);\r\n        },\r\n        // 删除文件时重设数据\r\n        resetData() {\r\n            this.getPfList();\r\n            this.closeSeqAddingBox();\r\n            this.sel_seq_type = \"\";\r\n            this.curJobId = -1;\r\n            this.profile_name = \"...\";\r\n            this.seqItems = [];\r\n            this.need_check_edit = false;\r\n        },\r\n        //关闭添加工步的div\r\n        closeSeqAddingBox() {\r\n            this.addSeqIndex = -1;\r\n        },\r\n        //让放大的工步返回普通状态\r\n        backStaticBox() {\r\n            this.activeBox = -1;\r\n        },\r\n        // 向后台发送数据,成功执行success,失败执行failure;\r\n        sendFileToServerApi(Profile, success) {\r\n            if (!this.enabledEdit) {\r\n                return messageApi.warning([\"该文件处于运行状态\", \"不允许修改\"]);\r\n            }\r\n            pfModJobApi({ Profile })\r\n                .then((result) => {\r\n                    this.need_check_edit = false;\r\n                    success && success(result);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"pfModJobApi profile error \", err);\r\n                    messageApi.error([`工艺文件保存失败`]);\r\n                });\r\n        },\r\n        // 通过job获取工艺文件内容,成功执行success,失败执行failure,\r\n        getFileContentByJobApi(job, success, failure) {\r\n            curPfJobApi(job)\r\n                .then((result) => {\r\n                    success && success(result);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"getFileContent profile error \", err);\r\n                    failure && failure(err);\r\n                });\r\n        },\r\n        // 获取当前工艺文件\r\n        getCurJobProfile(job) {\r\n            if (job && job > 0) {\r\n                this.getFileContentByJobApi(\r\n                    job,\r\n                    (result) => {\r\n                        if (result.status === 0) {\r\n                            let file = result.data.Profile;\r\n                            this.profile = file\r\n                            this.setFileContent(file);\r\n                            this.curJobId = job;\r\n                            this.need_check_edit = true;\r\n                        } else {\r\n                            this.curJobId = -1;\r\n                            this.need_check_edit = false;\r\n                            messageApi.warning([\"获取文件失败\"]);\r\n                        }\r\n                    },\r\n                    () => {\r\n                        this.curJobId = -1;\r\n                        this.need_check_edit = false;\r\n                        messageApi.warning([\"获取文件失败\"]);\r\n                    }\r\n                );\r\n            }\r\n        },\r\n        // 设置文件内容\r\n        setFileContent(file) {\r\n            this.profile_name = file.Name;\r\n            this.profile = file;\r\n\r\n            this.Name = this.profile.Name ;\r\n            // this.JobId = this.profile.JobId ;\r\n            this.Descr = this.profile.Descr ;\r\n            this.Ver = this.profile.Ver ;\r\n            this.Mode = this.profile.Mode ;\r\n            this.Reused = this.profile.Reused ;\r\n            this.JobSelSource = this.profile.JobSelSource ;\r\n            this.AutoSelPset = this.profile.AutoSelPset ;\r\n            this.MaxNGCount = this.profile.MaxNGCount;\r\n            this.JobItems = this.profile.JobItems;\r\n            this.profile_json = JSON.stringify(this.JobItems);\r\n        },\r\n\r\n\r\n\r\n\r\n\r\n        // 初始化一个空的工艺文件\r\n        initEmptyProfile() {\r\n            this.profile = genJobProfile(2);\r\n            this.setFileContent(this.profile);\r\n        },\r\n        excuteDefaultAction() {\r\n            // this.resetData();\r\n            this.JobId = parseInt(this.$route.query.job);\r\n            this.curJobId =this.JobId;\r\n            if (this.curJobId > 0) {\r\n                this.getCurJobProfile(this.curJobId);\r\n            }\r\n        },\r\n        // 更新正在编辑的文件pset状态\r\n        // updateFstatusEditingPset(pset) {\r\n        //     this.$store.state.f_status.editingPset = pset\r\n        // },\r\n        // 获取文件列表\r\n        getPfList(success = undefined) {\r\n            curPfListApi()\r\n                .then((result) => {\r\n                    if (result.status == 9127) {\r\n                        return;\r\n                    }\r\n                    if (result.status != 0) {\r\n                        return;\r\n                    }\r\n                    this.profileNameLst = [];\r\n                    // this.profileOptionNameLst = {};\r\n                    result.data.forEach((file) => {\r\n                        this.profileOptionNameLst[file.name] = file.pset\r\n                    });\r\n                    success && success();\r\n                })\r\n                .catch(() => { });\r\n        },\r\n        saveSuccess(result) {\r\n            if (result.status == 0) {\r\n                this.profile_json = JSON.stringify(this.seqItems);\r\n                // let msg = this.$t('settable.success')\r\n                messageApi.success(['保存成功'])\r\n            } else if (result.status == 9131) {\r\n                messageApi.warning([\"文件没有发生变动\"]);\r\n            } else if (result.status == 9125) {\r\n                messageApi.warning([\"文件不存在\"]);\r\n            } else if (result.status == 9128) {\r\n                messageApi.warning([\"文件版本号不一致\"]);\r\n            } else if (result.status == 9129) {\r\n                messageApi.warning([\"下位机执行修改文件失败\"]);\r\n            } else {\r\n                messageApi.error([`保存失败,代码[${result.status}]`]);\r\n            }\r\n        },\r\n        //是否删除正在编辑的工艺\r\n        checkDelPfPset() {\r\n            this.$bus.on('delPset', (data) => {\r\n                this.delPsetNum = data.pset\r\n                if (this.profile == '') return\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n        currentPset() {\r\n            return this.JobItems[this.active_item_i][this.active_item_j];\r\n        },\r\n        currentPsetlist() {\r\n            return this.JobItems[this.active_item_i][this.active_item_j];\r\n        },\r\n        enabledEdit() {\r\n            return (\r\n                (this.curJobId == this.$store.state.g_status.pset &&\r\n                    this.$store.state.g_status.busy) == false\r\n            );\r\n        },\r\n        nameReason() {\r\n            // 没有正在编辑的文件,文件名可以为空\r\n            if (this.curJobId == -1) return -1;\r\n            // 1代表文件名为空,2代表工艺名称重复,-1代表合法的工艺文件名\r\n            if (this.profile_name.length == 0) {\r\n                return \"文件名不能为空\";\r\n            }\r\n            if (\r\n                this.profile_name && this.profileNameLst.length > 0 &&\r\n                this.profileNameLst.indexOf(this.profile_name) != -1\r\n            ) {\r\n                return \"文件名重复\";\r\n            }\r\n            return \"\";\r\n        },\r\n        enabled() {\r\n            if (\r\n                \"PROFILE\" in this.$store.state.f_status.permissions &&\r\n                this.$store.state.f_status.permissions[\"PROFILE\"] == 4\r\n            )\r\n                return true;\r\n            else return false;\r\n        },\r\n        pointerEvent() {\r\n            return this.enabled ? \"auto\" : \"none\";\r\n        },\r\n        opacity() {\r\n            return this.enabled ? 1 : 0.5;\r\n        },\r\n    },\r\n    created() {\r\n        this.getPfList();\r\n        this.initEmptyProfile();\r\n        this.checkDelPfPset()\r\n    },\r\n    watch: {\r\n        \"$route.query.job\": {\r\n            immediate: true,\r\n            handler: function () {\r\n                this.excuteDefaultAction();\r\n            },\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.tech-box {\r\n    position: relative;\r\n    height: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n\r\n\r\n.operate-line {\r\n    position: relative;\r\n    top: 1rem;\r\n    width: 100vw;\r\n    display: flex;\r\n    box-sizing: border-box;\r\n    border-bottom: 1px solid var(--CD4);\r\n    pointer-events: v-bind(pointerEvent);\r\n    opacity: v-bind(opacity);\r\n    background: #EEEEEE;\r\n}\r\n\r\n.operate-line div {\r\n    flex: 1;\r\n    padding: 5px;\r\n    position: relative;\r\n}\r\n\r\n.line {\r\n    display: block;\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    height: 2.05rem;\r\n    width: 1px;\r\n    background-color: var(--CD4);\r\n}\r\n\r\n.operate-line .operate-box {\r\n    flex: 3;\r\n    font-size: var(--font1_625);\r\n    font-weight: 500;\r\n    color: #3B3B3B;\r\n}\r\n\r\n.operate-box:active,\r\n.operate-box:active .pfIcon {\r\n    color: var(--C00c155) !important;\r\n}\r\n\r\n\r\n\r\n\r\n.operate-line .operate-box-stroke {\r\n    flex: 3;\r\n    font-size: var(--font1_625);\r\n    font-weight: 500;\r\n    color: #3B3B3B;\r\n    stroke: #000000\r\n}\r\n\r\n.operate-box-stroke:active,\r\n.operate-box-stroke:active .pfIcon {\r\n    color: var(--C00c155) !important;\r\n    stroke: var(--C00c155) !important;\r\n}\r\n\r\n.tech-basemsg-line {\r\n    display: flex;\r\n    position: relative;\r\n    height: 4.9063vh;\r\n    top: 1rem;\r\n    /* background-color: orange; */\r\n}\r\n\r\n.tech-num {\r\n    position: absolute;\r\n    left: 5.5vw;\r\n    font-size: 26px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n\r\n.tech-num-2 {\r\n    position: absolute;\r\n    left: 50vw;\r\n    font-size: 26px;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n\r\n\r\n.job-name-title {\r\n    position: absolute;\r\n    left: 40%;\r\n    font-size: var(--font1_625);\r\n    top: 20%;\r\n    /* transform: translateY(-50%); */\r\n}\r\n\r\n\r\n.tech-select {\r\n    position: absolute;\r\n    height: 3.125rem;\r\n    line-height: 3.125rem;\r\n    font-size: 26px;\r\n    left: 19.6675vw;\r\n    text-align: left;\r\n    width: 20vw;\r\n}\r\n\r\n.tech-name {\r\n    position: absolute;\r\n    left: 60vw;\r\n    top: 50%;\r\n    transform: translateY(-65%);\r\n    font-size: var(--font1_625);\r\n}\r\n\r\n.tech-input {\r\n    position: absolute;\r\n    left: 72vw;\r\n    top: 10%;\r\n}\r\n\r\n.tech-input-1 {\r\n    position: absolute;\r\n    left: 25vw;\r\n    top: 10%;\r\n}\r\n\r\n.tech-setting {\r\n    cursor: pointer;\r\n    position: absolute;\r\n    left: 89.5vw;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n    pointer-events: v-bind(pointerEvent);\r\n    opacity: v-bind(opacity);\r\n}\r\n\r\n.job-options-box {\r\n    position: absolute;\r\n    /* bottom: 20vh; */\r\n    left: 5vw;\r\n    height: 37vh;\r\n    bottom: 25vh;\r\n    /* overflow: scroll; */\r\n    overflow: scroll;\r\n}\r\n.job-options-box::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n\r\n.job-options-box_1 {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 200%;\r\n    height: 10vh;\r\n}\r\n\r\n.job-options-box_2 {\r\n    flex-direction: row;\r\n    width: 25vw;\r\n    height: 7vh;\r\n    display: flex;\r\n    align-items: center;\r\n    opacity: 1;\r\n    background: #EEEEEE;\r\n    border-radius: 6px;\r\n}\r\n\r\n.job-options-box_4 {\r\n    position: relative;\r\n    float: left;\r\n    width: 80%;\r\n    height: 5vh;\r\n    border-radius: 6px;\r\n    opacity: 1;\r\n    /* 图标/纯白 */\r\n    background: #FFFFFF;\r\n    box-sizing: border-box;\r\n    /* 功能色/绿色 */\r\n    border: 1px solid #3B3B3B;\r\n}\r\n\r\n.job-options-box_f {\r\n    font-size: 1.0rem;\r\n    transform: translate(150%, -100%);\r\n}\r\n\r\n.job-options-box_line1 {\r\n    position: relative;\r\n    width: 0px;\r\n    height: 100%;\r\n    border-radius: 6px;\r\n    opacity: 1;\r\n    /* 图标/纯白 */\r\n    background: #FFFFFF;\r\n    transform: translate(0%, -50%);\r\n    left: 1.8vw;\r\n    box-sizing: border-box;\r\n    /* 功能色/绿色 */\r\n    border: 1px solid #3B3B3B;\r\n}\r\n\r\n\r\n.job-options-box_line2 {\r\n    width: 20%;\r\n    height: 0px;\r\n    border-radius: 6px;\r\n    opacity: 1;\r\n    /* 图标/纯白 */\r\n    background: #FFFFFF;\r\n\r\n    box-sizing: border-box;\r\n    border: 1px solid #3B3B3B;\r\n}\r\n\r\n\r\n.job-options-box_line_top1 {\r\n    width: 100%;\r\n    /* height: 0px; */\r\n    opacity: 1;\r\n    /* border: 2px solid #D4D4D4; */\r\n    background-color: var(--Cd4);\r\n    position: relative;\r\n    left: 50%;\r\n    top: 1rem;\r\n    transform: translateX(-50%);\r\n    height: 1px;\r\n}\r\n\r\n.job-options-box_line_top2 {\r\n    width: 100%;\r\n    height: 0px;\r\n    opacity: 1;\r\n    border: 1px dashed #D4D4D4;\r\n}\r\n\r\n\r\n\r\n.job-options-box_4_active {\r\n    position: relative;\r\n    float: left;\r\n    width: 80%;\r\n    height: 5vh;\r\n    border-radius: 6px;\r\n    opacity: 1;\r\n    /* 图标/纯白 */\r\n    background: #FFFFFF;\r\n\r\n    box-sizing: border-box;\r\n    /* 功能色/绿色 */\r\n    border: 3px solid #00C155;\r\n}\r\n\r\n\r\n.file-name {\r\n    display: inline-block;\r\n    font-family: var(--SHSC-R);\r\n    font-size: 1.0rem;\r\n    font-weight: normal;\r\n    width: 100%;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n    color: var(--C3B);\r\n    position: absolute;\r\n    left: 15%;\r\n    /* transform: translateX(-50%); */\r\n    top: 20%;\r\n}\r\n\r\n.pf-static-num {\r\n    position: absolute;\r\n    left: 15%;\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    font-size: var(--font1_625);\r\n}\r\n\r\n.file-static-icon {\r\n    position: absolute;\r\n    width: 2.625rem;\r\n    height: 3rem;\r\n    left: 1%;\r\n    /* transform: translate(-50%, -50%);  */\r\n    top: 5%;\r\n    font-size: var(--font1_625);\r\n\r\n}\r\n\r\n.pro-step-data {\r\n    position: absolute;\r\n    bottom: 2vh;\r\n    width: 100%;\r\n    height: 22vh;\r\n    background: rgba(138, 216, 121, 0.1);\r\n}\r\n\r\n\r\n.repeat-btn {\r\n    position: relative;\r\n    top: 50%;\r\n    transform: translate(20%, -80%);\r\n}\r\n\r\n\r\n.cyc-box {\r\n    margin-left: 0px;\r\n}\r\n\r\n.repeat-btn-1 {\r\n    position: relative;\r\n    top: 50%;\r\n    transform: translate(-50%, -80%);\r\n}\r\n\r\n.cyc-box-1 {\r\n    margin-left: 30vw;\r\n}\r\n\r\n\r\n.name-input,\r\n.num-input,\r\n.datetime-input,\r\n.pset-input-only,\r\n.torque-input,\r\n.angle-input,\r\n.speed-input,\r\n.embedded-val,\r\n.front-val,\r\n.device-val,\r\n.server-val {\r\n    position: absolute !important;\r\n    right: 7vw !important;\r\n    font-weight: 500;\r\n    top: 10%;\r\n    /* transform: translate(0, -50%); */\r\n}\r\n\r\n\r\n.confirm-box {\r\n    position: absolute;\r\n    left: 85%;\r\n    transform: translateX(-50%);\r\n    /* bottom: 3.4688vh; */\r\n}\r\n\r\n.pro-step-data>div {\r\n    position: relative;\r\n    flex: 1;\r\n}\r\n</style>\r\n","import { render } from \"./ProfileJobEditor.vue?vue&type=template&id=0f8beb6a&scoped=true\"\nimport script from \"./ProfileJobEditor.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileJobEditor.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileJobEditor.vue?vue&type=style&index=0&id=0f8beb6a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\Code\\\\Leetx\\\\web-screwdriver\\\\app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f8beb6a\"]])\n\nexport default __exports__"],"names":["pfModJobApi","paras","axios_ins","url","method","data","curPfJobApi","id","curPfJobListApi","pfJobDelApi","params","pfCurJobSelApi","job","deepCopy","obj","ctn","Array","i","length","Object","key","keys","sameStructure","obj1","obj2","isCheckValSame","isSame","hasSameStructure","JSON","stringify","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","toString","padStart","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_InputText","module","width","disabled","text","$event","textValid","$options","validReason","_hoisted_7","_component_InputVal","maxNum","sensorValue","_hoisted_8","_hoisted_9","_createBlock","_component_FormItem","label","labelWidth","outClass","leftDis","_component_LeetxSwitch","value","activeVal","staticVal","height","onSentVal","_hoisted_10","_hoisted_11","onClick","_component_svg_loader","icon","size","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_Fragment","items","_hoisted_25","_hoisted_26","pset","j","_hoisted_27","_hoisted_29","Pset","_hoisted_30","BatchSize","_hoisted_31","_hoisted_32","_hoisted_33","_component_NewSelect","isScroll","bottom","realVal","isAllowChng","options","onValChng","_hoisted_34","_hoisted_35","onUpdateData","_hoisted_36","_hoisted_37","OnlyCntOK","_hoisted_38","ForceBatchStatus","_hoisted_39","_hoisted_40","DecLoosening","_hoisted_41","LooseningMode","__default__","components","NewSelect","InputText","InputVal","seqItems","activeSeqIndex","addSeqIndex","sel_seq_type","profile","profile_json","global_paras_json","profile_name","validPset","curJobId","need_check_edit","delPsetNum","profileNameLst","defaultPset","profileOptionNameLst","active_item_i","active_item_j","Name","JobId","Descr","Ver","Mode","Reused","JobSelSource","AutoSelPset","MaxNGCount","JobItems","beforeRouteLeave","to","from","next","methods","selectFile","this","setParams","val","setboolParams","addParallelPf","splice","addSerialPf","unshift","deletePf","confirm","sendFileToServerApi","saveSuccess","resetData","getPfList","closeSeqAddingBox","backStaticBox","activeBox","Profile","success","enabledEdit","messageApi","then","result","catch","err","console","log","getFileContentByJobApi","failure","getCurJobProfile","status","file","setFileContent","initEmptyProfile","genJobProfile","excuteDefaultAction","parseInt","$route","query","curPfListApi","forEach","name","checkDelPfPset","$bus","on","computed","currentPset","currentPsetlist","$store","state","g_status","busy","nameReason","indexOf","enabled","f_status","permissions","pointerEvent","opacity","created","watch","immediate","handler","__exports__","render"],"sourceRoot":""}