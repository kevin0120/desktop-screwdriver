"use strict";(self["webpackChunkleetx_web"]=self["webpackChunkleetx_web"]||[]).push([[72],{96072:function(t,a,e){e.r(a),e.d(a,{default:function(){return V}});var s=e(66252);const r=t=>((0,s.dD)("data-v-dd6487de"),t=t(),(0,s.Cn)(),t),i={class:"srlprt-box"},l=r((()=>(0,s._)("div",{class:"horizontal-line"},null,-1)));function o(t,a,e,r,o,n){const c=(0,s.up)("SerialPortConf"),d=(0,s.up)("LeetxButton");return(0,s.wg)(),(0,s.iD)("div",i,[((0,s.wg)(),(0,s.j4)(c,{port:1,cfgData:o.serial_port_wsi,"onUpdate:cfgData":a[0]||(a[0]=t=>o.serial_port_wsi=t),name:"WSI",key:1},null,8,["cfgData"])),l,((0,s.wg)(),(0,s.j4)(c,{port:2,cfgData:o.serial_port_scaner,"onUpdate:cfgData":a[1]||(a[1]=t=>o.serial_port_scaner=t),name:"SCANER",key:2},null,8,["cfgData"])),(0,s.Wm)(d,{enablerun:!1,module:o.module,class:"confirm-box",textColor:"#fff",bgcColor:"#00c155",width:"60.625vw",height:"3.75rem",fontSize:"2.25rem",fontFamily:"--SHSC-B",text:t.$t("confirm.confirm"),onClick:n.submitPortData},null,8,["module","text","onClick"])])}var n=e(32015),c=e(10335),d=e(3577);const _={class:"port-box"},p={class:"left-box"},u={class:"use-port-line"},h={class:"port-text"},b={class:"right-box"},m={class:"input-line"},f={class:"label-text"},D={class:"label-data"},g={class:"input-line"},w={class:"label-text"},S={class:"label-data"};function v(t,a,e,r,i,l){const o=(0,s.up)("svg-loader"),n=(0,s.up)("NewSelect");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",p,[(0,s._)("div",u,[(0,s._)("span",h,(0,d.zw)(e.name),1)]),(0,s.Wm)(o,{class:"icon",icon:"Port"})]),(0,s._)("div",b,[(0,s._)("div",m,[(0,s._)("span",f,(0,d.zw)(t.$t("setserialport.baudrate")),1),(0,s._)("span",D,[(0,s.Wm)(n,{module:i.module,realVal:i.pData.baud_rate,"onUpdate:realVal":a[0]||(a[0]=t=>i.pData.baud_rate=t),options:i.bData},null,8,["module","realVal","options"])])]),(0,s._)("div",g,[(0,s._)("span",w,(0,d.zw)(t.$t("setserialport.endMark")),1),(0,s._)("span",S,[(0,s.Wm)(n,{module:i.module,realVal:i.pData.end_symbl,"onUpdate:realVal":a[1]||(a[1]=t=>i.pData.end_symbl=t),options:i.eData},null,8,["module","realVal","options"])])])])])}var y=e(92165),x={components:{NewSelect:y.Z},data(){return{module:"DEV_BUS",pData:{},pName:void 0,bData:{9600:9600,14400:14400,19200:19200,38400:38400,115200:115200},eData:{[this.$t("setserialport.cr")]:13,[this.$t("setserialport.lf")]:10,[this.$t("setserialport.space")]:32,[this.$t("setserialport.tab")]:9,[this.$t("setserialport.nul")]:0},nData:{5:5,6:6,7:7,8:8},sData:{1:1,2:2},checkData:{NONE:0,ODD:1,EVEN:2},modes:{Scaner:0,WSI:1,OP:2}}},props:{cfgData:{type:Object,default:function(){return{serial_port:"RS232-A",baud_rate:14400,end_symbl:13,data_bits:8,stop_bits:1,parity:0,mode:0,enable:!1}}},name:{type:String,default:""}},created(){this.initPdata()},methods:{initPdata(){this.pData=this.cfgData}},watch:{pData:{deep:!0,handler:function(){this.$emit("update:cfgData",this.pData)}},cfgData:{deep:!0,handler:function(){this.initPdata()}}}},k=e(83744);const C=(0,k.Z)(x,[["render",v],["__scopeId","data-v-60b8e4e0"]]);var N=C,$=e(26971),P=e(84965),E={components:{LeetxButton:c.Z,SerialPortConf:N},data(){return{module:"DEV_CONFIG",serial_port_wsi:{serial_port:"RS232-A",baud_rate:9600,end_symbl:13,data_bits:8,stop_bits:1,parity:1,mode:2,enable:!0},serial_port_scaner:{serial_port:"RS232-B",baud_rate:9600,end_symbl:13,data_bits:8,stop_bits:1,parity:1,mode:2,enable:!0},global_wsi_data:{},global_scaner_data:{},need_check_edit:!1}},methods:{submitPortData(){let t=this.serial_port_wsi,a=this.serial_port_scaner,e={WSI:t,SCANER:a};(0,$.Eg)(e).then((t=>{0==t.status&&P.c.success(["保存成功"]),9081!=t.status||P.c.error(["下发串口配置失败"])})),this.need_check_edit=!1},getData(t){let a={};return a[t]=this.portData[t],a},getPortData(){(0,$.ut)().then((t=>{0==t.status&&(this.need_check_edit=!0,this.serial_port_wsi=t.data.WSI,this.serial_port_scaner=t.data.SCANER,this.global_wsi_data=JSON.stringify(this.serial_port_wsi),this.global_scaner_data=JSON.stringify(this.serial_port_scaner))})).catch((()=>{P.c.error(["获取串口失败!"])}))},clbck(t,a){this.portData[t]=a}},beforeRouteLeave(t,a,e){let s=this.global_wsi_data==JSON.stringify(this.serial_port_wsi),r=this.global_scaner_data==JSON.stringify(this.serial_port_scaner);if(s&&r||this.$store.state.g_status.busy||0==this.need_check_edit)e();else{let t=this.$t("setcontrol.saveSet"),a=this.$t("setcontrol.yes"),s=this.$t("setcontrol.no"),r=this.$t("setcontrol.isSaveSet");(0,n.Z)({title:t,confirmText:a,cancelText:s,msg:r}).then((()=>{this.submitPortData(),e()})).catch((()=>{e()}))}},watch:{},created(){this.getPortData()}};const O=(0,k.Z)(E,[["render",o],["__scopeId","data-v-dd6487de"]]);var V=O}}]);
//# sourceMappingURL=72.0ccb63a2.js.map